window.__require=function e(t,n,i){function o(r,l){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return o(t[r][1][e]||e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AI:[function(e,t,n){"use strict";cc._RF.push(t,"b459f1+vcJGlbCusSkfCMOA","AI"),Object.defineProperty(n,"__esModule",{value:!0});e("../Special/SpecialLogic");var i=e("../Utils/Signal"),o=e("../Utils/ToSingleton"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.PointUpdateSignal=a;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.SkillUpdateSignal=r;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.UseSkillSignal=l;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.SelectBallSignal=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.SuperDaubEnableSignal=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.SuperDaubLightSignal=u;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.DaubCardSignal=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.OnSkillUseDone=p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.BingoEnableSignal=d;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.CallBingoSignal=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skills=[],t.points=[],t.darkPoints=[],t}return __extends(t,e),t.prototype.init=function(){},t.prototype.onPointUpdate=function(e,t){},t.prototype.onSkillUpdate=function(e,t){},t.prototype.onGoldBallOpen=function(){},t.prototype.onSuperDaubEnable=function(){},t.prototype.onSuperDaubLight=function(e){},t.prototype.onBingoEnable=function(){},t}(o.SingleTon());n.AI=m,cc._RF.pop()},{"../Special/SpecialLogic":"SpecialLogic","../Utils/Signal":"Signal","../Utils/ToSingleton":"ToSingleton"}],AdController:[function(e,t,n){"use strict";cc._RF.push(t,"e546b5hefBC4pUmQtl+Jj8X","AdController"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasBind=!1,t.finishCallback={},t.failedCallback={},t.adCount=0,t.msgMap={},t.musicVolume=0,t.effectVolume=0,t}return __extends(t,e),t.prototype.showAd=function(e,t,n){var i=this;0==this.hasBind&&this.bindCallback();var o=e+this.adCount;if(this.msgMap[o]=e,null==this.finishCallback[o]&&(this.finishCallback[o]=[]),this.finishCallback[o].push(t),null==this.failedCallback[o]&&(this.failedCallback[o]=[]),this.failedCallback[o].push(n),this.musicVolume=cc.audioEngine.getMusicVolume(),this.effectVolume=cc.audioEngine.getEffectsVolume(),CELER_X)celerSDK.showAd(o);else if(cc.director.getScene()&&cc.director.getScene().getChildByName("Canvas")){var a=cc.director.getScene().getChildByName("Canvas");if(a.getChildByName("adNode"))return;var r=new cc.Node("adNode"),l=r.addComponent(cc.VideoPlayer);l.remoteURL="https://vicat.wang/GameRes/catcatcat.mp4",a.width=1464,a.height=2400,a.addChild(r),r.setPosition(0,0),l.node.on("ready-to-play",function(){console.log("ready-to-play"),r.width=1080,r.height=1920,l.play()},this),l.node.on("meta-loaded",function(){console.log("meta-loaded")},this),l.node.on("clicked",function(){if(console.log("clicked"),r.pauseCount++,r.pauseCount>=5){for(var e=document.getElementsByClassName("cocosVideo"),t=0;t<e.length;t++){var n=e.item(t);n&&n.remove()}setTimeout(function(){r.removeFromParent(!0),i.onAddFaild(o)},0)}},this),l.node.on("playing",function(){console.log("playing")},this),r.pauseCount=0,l.node.on("paused",function(){if(console.log("paused"),r.pauseCount++,r.pauseCount>=5){for(var e=document.getElementsByClassName("cocosVideo"),t=0;t<e.length;t++){var n=e.item(t);n&&n.remove()}setTimeout(function(){r.removeFromParent(!0),i.onAddFaild(o)},0)}},this),l.node.on("stopped",function(){console.log("stopped")},this),l.node.on("completed",function(){console.log("completed"),l.stop();for(var e=document.getElementsByClassName("cocosVideo"),t=0;t<e.length;t++){var n=e.item(t);n&&n.remove()}setTimeout(function(){r.removeFromParent(!0),i.onAdFinish(o)},0)},this)}this.adCount++,console.log(" request ad:",o)},t.prototype.bindCallback=function(){this.hasBind=!0,CELER_X&&(celerSDK.onAdPlayFailed(this.onAddFaild.bind(this)),celerSDK.onAdPlayFinished(this.onAdFinish.bind(this)))},t.prototype.onAdFinish=function(e){if(this.finishCallback[e]){for(var t=0,n=this.finishCallback[e];t<n.length;t++){(0,n[t])(this.msgMap[e])}this.finishCallback[e]=null,this.failedCallback[e]=null,this.msgMap[e]=null}},t.prototype.onAddFaild=function(e){if(this.failedCallback[e]){for(var t=0,n=this.failedCallback[e];t<n.length;t++){(0,n[t])(this.msgMap[e])}this.failedCallback[e]=null,this.finishCallback[e]=null,this.msgMap[e]=null}},t}(e("../utils/ToSingleton").SingleTon());n.AdController=i,cc._RF.pop()},{"../utils/ToSingleton":"ToSingleton"}],AdLayer:[function(e,t,n){"use strict";cc._RF.push(t,"2af18XB4x1BAIpR7qrgcbSY","AdLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i,o=e("../Controller/AdController"),a=e("../Controller/EventManager"),r=e("../Controller/EventName"),l=e("../Controller/Game"),s=e("../table"),c=e("../Utils/Signal"),u=e("./WildAdButton"),h=cc._decorator,p=h.ccclass,d=h.property,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(c.BaseSignal);n.AdFinishSignal=g,function(e){e[e.FreeBall=0]="FreeBall",e[e.WildDaub=1]="WildDaub"}(i=n.AdType||(n.AdType={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdAtlas=null,t.freeBallCount=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"Panel",{get:function(){return this.node.getChildByName("NormalPanel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WildPanel",{get:function(){return this.node.getChildByName("MouseGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WatchAd",{get:function(){return this.Panel.getChildByName("btn_get")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WildWatchAd",{get:function(){return this.WildPanel.getChildByName("btn_get")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BackToGame",{get:function(){return this.Panel.getChildByName("btn_back")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WildBack",{get:function(){return this.WildPanel.getChildByName("btn_back")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Content",{get:function(){return this.Panel.getChildByName("Content").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WildContent",{get:function(){return this.WildPanel.getChildByName("Content").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FailTip",{get:function(){return this.node.getChildByName("FailTip")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FailTipLabel",{get:function(){return this.FailTip.getChildByName("Label").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.node.active=!1,this.node.scale=1,u.WildAdButtonClick.inst.addListenerOne(function(t){e.Show(i[t])},this),this.BackToGame.on(cc.Node.EventType.TOUCH_END,function(){setTimeout(function(){e.Hide()},0)},this),this.WildBack.on(cc.Node.EventType.TOUCH_END,function(){setTimeout(function(){e.Hide()},0)},this)},t.prototype.onAdFinish=function(e){var t=this;i[e]==i.FreeBall&&this.freeBallCount++,this.freeBallCount>=2?CELER_X&&u.HideWildAdButtonSignal.inst.dispatchOne(e):i[e]==i.WildDaub&&CELER_X&&u.HideWildAdButtonSignal.inst.dispatchOne(e),setTimeout(function(){t.Hide(),a.gEventMgr.emit(r.GlobalEvent.SKILL_RESUME),g.inst.dispatchOne(e)},0)},t.prototype.onAdFailed=function(e){var t=this;this.FailTip.active=!0,this.Panel.active=!1,this.WildPanel.active=!1,setTimeout(function(){t.Hide()},2e3)},t.prototype.Hide=function(){0!=this.node.active&&(this.node.active=!1,l.Game.resume())},t.prototype.Show=function(e){var t=this;1!=this.node.active&&(l.Game.pause(),this.node.active=!0,this.FailTip.active=!1,this.WatchAd.active=!0,this.WildWatchAd.active=!0,this.FailTipLabel.string=lan.t(s.En_View.GuangGaoJieMian,s.En_ID.KanGuangGaoShiBai),e==i.WildDaub?(this.WildPanel.active=!0,this.Panel.active=!1,this.WildContent.string=lan.t(s.En_View.GuangGaoJieMian,s.En_ID.MianFeiDaDiShu)):(this.WildPanel.active=!1,this.Panel.active=!0,this.Content.string=lan.t(s.En_View.GuangGaoJieMian,s.En_ID.MianFeiZiYouQiu),this.WatchAd.getComponent(cc.Sprite).spriteFrame=this.AdAtlas.getSpriteFrame("btn_freeball"),this.WatchAd.getComponent(cc.Button).normalSprite=this.AdAtlas.getSpriteFrame("btn_freeball"),this.WatchAd.getComponent(cc.Button).pressedSprite=this.AdAtlas.getSpriteFrame("btn_freeball_down")),this.WatchAd.targetOff(this),this.WatchAd.once(cc.Node.EventType.TOUCH_END,function(){setTimeout(function(){t.WatchAd.active=!1},0),o.AdController.inst.showAd(i[e],function(e){console.log(" watch ad success:",e),t.onAdFinish(e)},function(e){console.log(" watch ad fail:",e),t.onAdFailed(e)})},this),this.WildWatchAd.targetOff(this),this.WildWatchAd.once(cc.Node.EventType.TOUCH_END,function(){setTimeout(function(){t.WildWatchAd.active=!1},0),o.AdController.inst.showAd(i[e],function(e){console.log(" watch ad success:",e),t.onAdFinish(e)},function(e){console.log(" watch ad fail:",e),t.onAdFailed(e)})},this))},__decorate([d(cc.SpriteAtlas)],t.prototype,"AdAtlas",void 0),t=__decorate([p],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../Controller/AdController":"AdController","../Controller/EventManager":"EventManager","../Controller/EventName":"EventName","../Controller/Game":"Game","../Utils/Signal":"Signal","../table":"table","./WildAdButton":"WildAdButton"}],AdMaskView:[function(e,t,n){"use strict";cc._RF.push(t,"8acb5njHrxPxJLaQUggmO8h","AdMaskView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.node.active=!1,i.GameLevelInitSignal.inst.addListenerOne(function(t){e.node.active=5==t},this)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Controller/Game":"Game"}],AudioController:[function(e,t,n){"use strict";cc._RF.push(t,"9e9e7nIyP5BGquwjN7hFiaR","AudioController"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/HashMap"),o=e("./EventManager"),a=e("./EventName");window.oncanplay&&(window.oncanplay=function(){l.canPlay=!0});var r="sounds/",l=function(){function e(){this.audioID={},this.clips=new i.HashMap}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;console.log(" start load AudioClip ");var n=this;cc.loader.loadRes(r+"bgm",cc.AudioClip,function(t,i){t?console.error(t):("string"==typeof i._audio&&cc.loader._cache&&cc.loader._cache[i._audio]&&cc.loader._cache[i._audio].buffer&&(i._audio=cc.loader._cache[i._audio].buffer),n.clips.add(i.name,i),n.initEvent(),e&&e())}),cc.loader.loadRes(r+"mouse_bgm",function(e,t){e?console.error(e):n.clips.add(t.name,t)}),cc.loader.loadRes(r+"bgm_30",function(e,t){e?console.error(e):n.clips.add(t.name,t)}),cc.loader.loadResDir(r,function(e,n,i){if(e)console.error(e);else for(var o=0,a=n;o<a.length;o++){var r=a[o];"string"==typeof r._audio&&cc.loader._cache&&cc.loader._cache[r._audio]&&cc.loader._cache[r._audio].buffer&&(r._audio=cc.loader._cache[r._audio].buffer),t.clips.has(r.name)||t.clips.add(r.name,r)}})},e.prototype.initEvent=function(){var e=this;o.gEventMgr.targetOff(this),this.playMusic("bgm"),o.gEventMgr.on(a.GlobalEvent.CHANGE_BGM,function(t){e.playMusic(t)},this),o.gEventMgr.on(a.GlobalEvent.PLAY_EFFECT,function(t,n,i){e.playEffect(t,n,i)},this)},e.prototype.playEffect=function(t,n,i){var o=this;if(void 0===n&&(n=!1),e.canPlay){if(!(cc.audioEngine.getEffectsVolume()<=.05)){var a=this.clips.get(t);a?(this.audioID[t]=cc.audioEngine.playEffect(a,n),cc.audioEngine.setFinishCallback(this.audioID[t],function(){i&&i()})):cc.loader.loadRes(r+t,cc.AudioClip,function(e,a){e?console.error(e):("string"==typeof a._audio&&cc.loader._cache&&cc.loader._cache[a._audio]&&cc.loader._cache[a._audio].buffer&&(console.log(typeof cc.loader._cache[a._audio].buffer),a._audio=cc.loader._cache[a._audio].buffer),o.clips.add(a.name,a),o.audioID[t]=cc.audioEngine.playEffect(a,n),cc.audioEngine.setFinishCallback(o.audioID[t],function(){i&&i()}))})}}else this.bindTouch()},e.prototype.playMusic=function(t,n){var i=this;if(void 0===n&&(n=!0),!e.canPlay)return this.bindTouch(),void e.PlayedList.push({loop:!0,volume:1,clipName:t,supTime:Date.now(),skip:!1,isBgm:!0});var o=this.clips.get(t);o?cc.audioEngine.playMusic(o,n):cc.loader.loadRes(r+t,cc.AudioClip,function(e,t){e?console.error(e):("string"==typeof t._audio&&cc.loader._cache&&cc.loader._cache[t._audio]&&cc.loader._cache[t._audio].buffer&&(t._audio=cc.loader._cache[t._audio].buffer),i.clips.add(t.name,t),cc.audioEngine.playMusic(t,n))})},e.prototype.bindTouch=function(){if(!e.hasBindTouch){var t=this,n=function(){var i;for(cc.game.canvas.removeEventListener("touchstart",n),e.canPlay=!0;(i=e.PlayedList.pop())&&t.clips.get(i.clipName)&&!i.skip;)cc.audioEngine.playMusic(t.clips.get(i.clipName),i.loop)};e.hasBindTouch=!0,cc.game.canvas.addEventListener("touchstart",n)}},e.PlayedList=[],e.canPlay=!1,e.hasBindTouch=!1,e}();n.gAudio=l.inst,cc._RF.pop()},{"../Utils/HashMap":"HashMap","./EventManager":"EventManager","./EventName":"EventName"}],BingoFont:[function(e,t,n){"use strict";cc._RF.push(t,"9b2689flLVCXKcfA4lZOSJg","BingoFont"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/EventManager"),o=e("./Controller/EventName"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.scaleX=0,i.gEventMgr.targetOff(this),i.gEventMgr.on(o.GlobalEvent.BINGO,this.onBingo,this)},t.prototype.start=function(){},t.prototype.onBingo=function(){this.node.getNumberOfRunningActions()>0||this.node.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.scaleTo(.05,1.2,1.2),cc.scaleTo(.1,1,1),cc.delayTime(1),cc.scaleTo(.1,0,1)))},t.prototype.update=function(e){},t=__decorate([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./Controller/EventManager":"EventManager","./Controller/EventName":"EventName"}],BingoPercent:[function(e,t,n){"use strict";cc._RF.push(t,"39d5f8ElZZCc51iMSdXjgL0","BingoPercent"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./SpecialLogic"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.totalLength=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"BingoProgress",{get:function(){return this.node.getChildByName("bg_highlight")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BingoToggle",{get:function(){return this.node.getChildByName("bg_lightline")},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.totalLength=this.BingoProgress.width,i.BingoLeftTimeUpdateSignal.inst.addListenerTwo(this.onProgressUpdate,this)},t.prototype.onProgressUpdate=function(e,t){this.BingoProgress.width=t*this.totalLength,this.BingoToggle.x=this.BingoProgress.width,this.BingoToggle.active=t>0},t.prototype.update=function(e){},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"./SpecialLogic":"SpecialLogic"}],BingoReminder:[function(e,t,n){"use strict";cc._RF.push(t,"b60d4YMyYhJJZcy3WJokZ9O","BingoReminder"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/GameSignal"),o=e("./Reminder"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFull=!1,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.BingoSignal.inst.addListenerOne(function(t){var n=e.getComponent(o.default);e.isFull!=t&&n&&(e.isFull=t,n.isStop=!t,e.isFull?n.play():n.stop())},this)},t.prototype.start=function(){},t.prototype.onDestroy=function(){i.BingoSignal.inst.removeTarget(this)},t=__decorate([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../Utils/GameSignal":"GameSignal","./Reminder":"Reminder"}],BingoScoreView:[function(e,t,n){"use strict";cc._RF.push(t,"86695PwfUtN+rRI8FpxLN26","BingoScoreView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Const"),o=e("../Controller/Game"),a=e("./SpecialLogic"),r=cc._decorator,l=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"Label",{get:function(){return this.getComponent(cc.Label)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.update=function(e){var t=0;o.Game.canBingo(o.Game.cardIndex)&&(t=Math.floor(a.SpecialLogic.inst.BingoLeftPercent*o.Game.getCurrentBingoScore())),t<=0||o.Game.getCurMode()!=i.SkillType.Normal?this.Label.string="":this.Label.string="/"+t},t=__decorate([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../Const":"Const","../Controller/Game":"Game","./SpecialLogic":"SpecialLogic"}],CardLabels:[function(e,t,n){"use strict";cc._RF.push(t,"18d6dS+vd1Px5pALo6loK3z","CardLabels"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/GameSignal"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;console.log(" CardLabel onLoad"),i.UpdateCardNumberSignal.inst.addListenerFour(this.onNumberUpdate,this),i.UpdateCardNumberOpciatySignal.inst.addListenerTwo(this.onOpciatyUpdate,this),i.ResultLayerShow.inst.addListener(function(){e.node.active=!1},this)},t.prototype.start=function(){},t.prototype.onOpciatyUpdate=function(e,t){var n=this.node.getChildByName(e);if(n){if(n.opacity==t)return;n.active=t>0,n.opacity=t}},t.prototype.onNumberUpdate=function(e,t,n,i){var o=this;setTimeout(function(e,t,n){var i=o.node.getChildByName(e);i&&(i.getComponent(cc.Label).string=t.toString(),i.setPosition(CMath.ConvertToNodeSpaceAR(n,o.node)))},0,i,e,n)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Utils/GameSignal":"GameSignal"}],Card:[function(e,t,n){"use strict";cc._RF.push(t,"abb83Mso7xFbKdwnWlntVp4","Card"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/EventManager"),o=e("./Const"),a=e("./Controller/Game"),r=e("./Point"),l=e("./Controller/EventName"),s=e("./FrameAniBase"),c=e("./Utils/GameSignal"),u=e("./Special/SpecialLogic"),h=e("./Controller/CelerSDK"),p=cc._decorator,d=p.ccclass,g=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bingoTimes=0,t.pause=!1,t.nextTurnTime=0,t.mouseHideTime=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"Wrong",{get:function(){return this.node.getChildByName("Wrong")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Word",{get:function(){return this.word},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Index",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BingoTimesLabel",{get:function(){return this.node.getChildByName("BingoTimes").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Pos",{get:function(){return o.CardWord[this.word]+"."+this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StringValue",{get:function(){return this.word+"."+this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Star",{get:function(){return this.node.getChildByName("Star")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NumberLabel",{get:function(){return this.node.getChildByName("Number").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Bingo",{get:function(){return this.node.getChildByName("Bingo").getChildByName(o.Theme[a.Game.Theme])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mouse",{get:function(){return this.node.getChildByName("Mouse")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Magic",{get:function(){return this.node.getChildByName("Magic")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MagicAni",{get:function(){return this.Magic.getComponent(s.default)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;c.SwitchCardSignal.inst.addListener(function(){e.value&&e.word&&a.Game.cardIndex==e.pageIndex&&(c.UpdateCardNumberSignal.inst.dispatchFour(e.value,e.NumberLabel.node,e.NumberLabel.node.parent,e.Pos),e.updateNumberOpciaty())},this)},t.prototype.updateNumberOpciaty=function(){if(this.pageIndex==a.Game.cardIndex){var e=255;this.isBingo()||o.StarCard.indexOf(this.Pos)>=0||this.Mouse.active?e=0:(this.Star.active||this.Magic.active)&&(e=100),c.UpdateCardNumberOpciatySignal.inst.dispatchTwo(this.Pos,e)}},t.prototype.setPageIndex=function(e){this.pageIndex=e},t.prototype.reset=function(){console.log("card reset."),this.bingoTimes=0,this.Wrong.active=!1,this.Mouse.active=!1,this.Magic.active=!1,this.Star.active=!1,this.updateNumberOpciaty();for(var e=0,t=this.Bingo.children;e<t.length;e++){t[e].active=!1}this.Bingo.getChildByName(this.bingoTimes.toString()).active=o.StarCard.indexOf(this.Pos)>=0,o.StarCard.indexOf(this.Pos)>=0&&(a.Game.delCurrentCardValue(this.pageIndex,this.value),a.Game.deleteCurrentCardValueByWord(this.pageIndex,this.value,this.word),a.Game.addHighLightCard(this.pageIndex),a.Game.addHighLightCardByWord(this.pageIndex,this.word))},t.prototype.reuse=function(){this.setPageIndex(arguments[0][3]),this.setIndex(arguments[0][1]),this.setWord(arguments[0][0]),this.bingoTimes=0,this.Wrong.active=!1,this.Mouse.active=!1,this.Magic.active=!1;for(var e=0,t=this.Bingo.children;e<t.length;e++){(r=t[e]).active=!1}for(var n=0,i=this.Bingo.getParent().children;n<i.length;n++){var r;(r=i[n]).active=r.name==o.Theme[a.Game.Theme]}this.Star.active=!1,this.Bingo.getChildByName(this.bingoTimes.toString()).active=o.StarCard.indexOf(this.Pos)>=0,this.setValue(arguments[0][2]),a.Game.addCurrentCardValueByWord(this.pageIndex,this.value,this.word),o.StarCard.indexOf(this.Pos)>=0&&(a.Game.delCurrentCardValue(this.pageIndex,this.value),a.Game.deleteCurrentCardValueByWord(this.pageIndex,this.value,this.word),a.Game.addHighLightCard(this.pageIndex),a.Game.addHighLightCardByWord(this.pageIndex,this.word)),this.initEvent()},t.prototype.unuse=function(){i.gEventMgr.targetOff(this),this.node.targetOff(this)},t.prototype.initEvent=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,this.onCardTouch,this),i.gEventMgr.on(l.GlobalEvent.CHANGE_GAME_MODE,this.onGameModeChange,this),i.gEventMgr.on(l.GlobalEvent.ON_SHOW,function(){e.updateLabelInfo()},this),i.gEventMgr.on(l.GlobalEvent.ON_HIDE,function(){o.StarCard.indexOf(e.Pos)>=0&&console.log(" card pause ... "),e.pause=!0},this),i.gEventMgr.on(l.GlobalEvent.SKILL_RESUME,function(){o.StarCard.indexOf(e.Pos)>=0&&console.log(" card skill resume ... "),e.pause=!1},this)},t.prototype.update=function(e){(a.Game.getCurMode()==o.SkillType.Super||a.Game.getCurMode()==o.SkillType.AdSuper)&&this.nextTurnTime>0&&this.mouseHideTime>0&&a.Game.superHighLightCount<a.Game.LevelInfo.SuperTime.HighLightLimit&&!this.pause&&(this.isLight()||(Date.now()>=this.nextTurnTime&&(this.Mouse.active=!0,this.updateNumberOpciaty()),Date.now()>=this.mouseHideTime&&(this.Mouse.active=!1,this.updateNumberOpciaty(),this.nextTurnTime=Date.now()+1e3*CMath.getRandom(a.Game.LevelInfo.SuperTime.RandomMin,a.Game.LevelInfo.SuperTime.RandomMax),this.mouseHideTime=this.nextTurnTime+1e3*CMath.getRandom(a.Game.LevelInfo.SuperTime.ShowTimeMin,a.Game.LevelInfo.SuperTime.ShowTimeMax))))},t.prototype.onGameModeChange=function(){a.Game.getCurMode()!=o.SkillType.Super&&a.Game.getCurMode()!=o.SkillType.AdSuper?(this.Mouse.active=!1,this.updateNumberOpciaty(),this.nextTurnTime=0):(this.nextTurnTime=Date.now()+1e3*CMath.getRandom(a.Game.LevelInfo.SuperTime.RandomMin,a.Game.LevelInfo.SuperTime.RandomMax),this.mouseHideTime=this.nextTurnTime+1e3*CMath.getRandom(a.Game.LevelInfo.SuperTime.ShowTimeMin,a.Game.LevelInfo.SuperTime.ShowTimeMax))},t.prototype.isLight=function(){for(var e=0,t=this.Bingo.children;e<t.length;e++){if(t[e].active)return!0}return this.Star.active},t.prototype.isMouse=function(){return this.Mouse.active},t.prototype.onCardTouch=function(e){var t=this;if(this.isLight())console.log(" card has already high light:",this.value);else if(a.Game.isOver)console.log(" game is over :",this.value);else if((a.Game.getCurMode()==o.SkillType.Super||a.Game.getCurMode()==o.SkillType.AdSuper)&&a.Game.superHighLightCount>=a.Game.LevelInfo.SuperTime.HighLightLimit)console.log(" in Super mode , highLight has 5 counts limit:",this.value);else{var n=0,s=o.ScoreType.Oops;if(a.Game.getCurMode()==o.SkillType.Normal){if((g=a.Game.CurrentReward.children[0])&&g.getComponent(r.default))if((m=g.getComponent(r.default)).TimeLeftPercent>0&&m.StringValue==this.StringValue){var c=1-m.TimeLeftPercent;c<=o.TimeScorePercent.Perfect?(n=o.Score.Normal+o.Score.Perfect,s=o.ScoreType.Perfect):c<=o.TimeScorePercent.Great?(n=o.Score.Normal+o.Score.Nice+o.Score.Great*(o.TimeScorePercent.Great-c)/(o.TimeScorePercent.Great-o.TimeScorePercent.Perfect),s=o.ScoreType.Great):(n=o.Score.Normal+o.Score.Nice*(1-c)/o.TimeScorePercent.Great,s=o.ScoreType.Nice)}else m.addTime(-m.TotalTime/5),n=o.Score.Oops,s=o.ScoreType.Oops;if(n<=0)for(var p=0,d=a.Game.RewardArray.children;p<d.length;p++){(m=d[p].getComponent(r.default))&&m.StringValue==this.StringValue&&(n=o.Score.Normal,s=o.ScoreType.Normal)}n=Math.floor(n)}else if(a.Game.getCurMode()==o.SkillType.Star)n=o.Score.Normal+o.Score.Star,s=o.ScoreType.Star;else if(a.Game.getCurMode()==o.SkillType.Gold)this.value==a.Game.goldSelectValue&&(n=o.Score.Normal+o.Score.Gold,s=o.ScoreType.Gold);else if(a.Game.getCurMode()==o.SkillType.Super||a.Game.getCurMode()==o.SkillType.AdSuper)this.isMouse()?(n=o.Score.Normal+o.Score.Mouse,s=o.ScoreType.Mouse,a.Game.superHighLightCount++,i.gEventMgr.emit(l.GlobalEvent.UPDATE_MOUSE_LIGHT)):a.Game.getCurMode()==o.SkillType.Super&&(a.Game.superWrongCount++,a.Game.superWrongCount>a.Game.LevelInfo.SuperTime.WrongLimit&&(n=a.Game.LevelInfo.SuperTime.SubScore,s=o.ScoreType.Oops));else if(a.Game.getCurMode()==o.SkillType.Magic){var g;if((g=a.Game.CurrentReward.children[0])&&g.getComponent(r.default)){if(0==a.Game.hasDaubMagicBall){var m;(m=g.getComponent(r.default)).Word!=this.Word||(m.Value==this.value?i.gEventMgr.emit(l.GlobalEvent.MAGIC_TIP,this.node,!1):(this.Magic.active=!0,this.updateNumberOpciaty(),this.Magic.opacity=0,this.Magic.runAction(cc.fadeIn(.1)),this.MagicAni.play(),this.MagicAni.onComplete=function(){t.Magic.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.Magic.active=!1,t.updateNumberOpciaty()})))},a.Game.replaceCurrentCardValue(this.pageIndex,this.value,m.Value),a.Game.replaceCurrentCardValueByWord(this.pageIndex,this.value,m.Value,m.Word),this.setValue(m.Value),a.Game.hasDaubMagicBall=!0,i.gEventMgr.emit(l.GlobalEvent.MAGIC_DAUB),i.gEventMgr.emit(l.GlobalEvent.MAGIC_TIP,this.node,!0)))}}else console.log(" not CurrentRewardmagicSkill  click!")}switch(a.Game.getCurMode()){case o.SkillType.Star:i.gEventMgr.emit(l.GlobalEvent.SKILL_DONE);break;case o.SkillType.Gold:if(a.Game.getCardNumber()>1){var f=(a.Game.cardIndex+1)%a.Game.getCardNumber(),S=a.Game.getCurrentPageValues(f);(a.Game.checkIsFull(f)||S.indexOf(a.Game.goldSelectValue)<0)&&i.gEventMgr.emit(l.GlobalEvent.SKILL_DONE)}else i.gEventMgr.emit(l.GlobalEvent.SKILL_DONE);break;case o.SkillType.Super:case o.SkillType.AdSuper:(a.Game.checkIsFull(a.Game.cardIndex)||a.Game.superHighLightCount>=a.Game.LevelInfo.SuperTime.HighLightLimit)&&i.gEventMgr.emit(l.GlobalEvent.SUPER_END_COMPLETE);break;case o.SkillType.Magic:return}n>0?(console.log(" card add score:",n,", value:",this.value),this.turnStar(),a.Game.addScore(s,n,1),i.gEventMgr.emit(l.GlobalEvent.CHECK_BINGO,this,o.RectCard.indexOf(this.Pos)>=0),4!=h.CelerSDK.inst.DifficultyLevel&&6!=h.CelerSDK.inst.DifficultyLevel||u.SpecialLogic.inst.CurrentDaubCount++):(a.Game.addScore(s,n,1),this.showWrong())}},t.prototype.showWrong=function(){var e=this;this.Wrong.active||this.Wrong.getNumberOfRunningActions()>0||(console.log(" card wrong:",this.value),this.Wrong.opacity=0,this.Wrong.active=!0,this.Wrong.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(.05),cc.fadeOut(.05),cc.callFunc(function(){e.Wrong.active=!1}))))},t.prototype.turnStar=function(){this.Star.active=!0,this.Star.group="default",this.Mouse.stopAllActions(),this.Mouse.active=!1,this.updateNumberOpciaty(),a.Game.addHighLightCard(this.pageIndex),a.Game.addHighLightCardByWord(this.pageIndex,this.word),a.Game.delCurrentCardValue(this.pageIndex,this.value),a.Game.deleteCurrentCardValueByWord(this.pageIndex,this.value,this.word)},t.prototype.setValue=function(e){console.log(" card set val:",e),this.value=e,this.NumberLabel.string=this.value.toString(),this.NumberLabel.node.active=!1,this.updateLabelInfo()},t.prototype.updateLabelInfo=function(){this.value&&this.word&&a.Game.cardIndex==this.pageIndex&&(c.UpdateCardNumberSignal.inst.dispatchFour(this.value,this.NumberLabel.node,this.NumberLabel.node.parent,this.Pos),this.updateNumberOpciaty())},t.prototype.setIndex=function(e){this.index=e},t.prototype.setWord=function(e){this.word=e},t.prototype.isBingo=function(){return this.bingoTimes>=1},t.prototype.bingo=function(){if(!this.isLight())return console.log(" this card can not bingo:",this.Pos),0;this.bingoTimes++;for(var e=0,t=this.Bingo.children;e<t.length;e++){var n=t[e];n.active=parseInt(n.name)<=this.bingoTimes}this.NumberLabel.node.active=!1,this.updateNumberOpciaty();var i=0;this.bingoTimes>=2&&(a.Game.addOverBingoTimes(this.pageIndex),i=a.Game.getTotalBingoTimes()*o.Score.BingoStep);return i},t.prototype.start=function(){},t=__decorate([d],t)}(cc.Component));n.default=g,cc._RF.pop()},{"./Const":"Const","./Controller/CelerSDK":"CelerSDK","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./FrameAniBase":"FrameAniBase","./Point":"Point","./Special/SpecialLogic":"SpecialLogic","./Utils/GameSignal":"GameSignal"}],CelerSDK:[function(e,t,n){"use strict";cc._RF.push(t,"ed9c4kHhRZCyKBWDxdeArVs","CelerSDK"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Game"),o=e("./LogHandler"),a=e("./EventManager"),r=e("./EventName"),l=e("../Ad/WildAdButton"),s=e("../Ad/AdLayer"),c=e("../TableManager"),u=function(){function e(){this.alreadySubmit=!1,this.isNewPlayer=!0,this.isBackgroundRunning=!1,this.celerStartCallback=null,this.isInCeler=CELER_X}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DifficultyLevel",{get:function(){return this.match?this.match.difficultyLevel:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MatchID",{get:function(){return this.match.matchId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MatchRandomSeed",{get:function(){return this.match.sharedRandomSeed},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this.alreadySubmit=!1,CELER_X&&celerSDK.onStart(this.onCelerStart.bind(this)),CELER_X&&celerSDK.provideScore(function(){return parseInt(i.Game.getScore().toString())}),this.celerStartCallback=e,CELER_X&&o.LogHandler.inst.initLog(celerSDK.log),o.LogHandler.inst.log(" game scene on load")},e.prototype.celerXReady=function(){o.LogHandler.inst.log(" invoke celerx.ready() "),CELER_X&&celerSDK.ready(),!CELER_X&&this.onCelerStart()},e.prototype.isNew=function(){return this.isNewPlayer},e.prototype.isOnCelerPlatform=function(){return this.isInCeler},e.prototype.defineLan=function(){this.match.locale=this.match.locale||"en_US",lan.set(this.match.locale);var e={},t=null;t=c.TableManager.inst.getAll_En_Data();var n=this.match.locale.split("_")[0].charAt(0).toUpperCase()+this.match.locale.split("_")[0].substring(1);if(c.TableManager.inst["getAll_"+n+"_Data"]&&c.TableManager.inst["getAll_"+n+"_Data"]()&&(t=c.TableManager.inst["getAll_"+n+"_Data"]()),t){for(var i in t){var o=t[i];e[o.View]||(e[o.View]={}),e[o.View][o.ID]=o.Text}lan.define(this.match.locale,e)}},e.prototype.onCelerStart=function(){var t=this;this.match=CELER_X&&celerSDK.getMatch()||{matchId:"error id",sharedRandomSeed:Math.random(),difficultyLevel:3,shouldLaunchTutorial:!1,locale:"en_US"},CELER_X||(this.match.difficultyLevel=6),o.LogHandler.inst.log(" celerx onStart call","match id:",this.match.matchId,", seed:",this.match.sharedRandomSeed,", difficulty level:",this.match.difficultyLevel),this.defineLan(),(!this.match.difficultyLevel||this.match.difficultyLevel>6||this.match.difficultyLevel<1)&&(CELER_X?(console.error(" difficulth level error, should be in range (1 ~ 6):",this.match.difficultyLevel),this.match.difficultyLevel=1):this.match.difficultyLevel=4),e.ins.isAndroidWeb?1==this.match.difficultyLevel?this.match.shouldLaunchTutorial||CELER_X&&1!=celerSDK.hasMethod("showAd")?(this.match.difficultyLevel=2,l.HideWildAdButtonSignal.inst.dispatchOne(s.AdType[s.AdType.FreeBall]),l.HideWildAdButtonSignal.inst.dispatchOne(s.AdType[s.AdType.WildDaub])):this.match.difficultyLevel=5:CELER_X&&1!=celerSDK.hasMethod("showAd")&&5==this.match.difficultyLevel&&(this.match.difficultyLevel=2,l.HideWildAdButtonSignal.inst.dispatchOne(s.AdType[s.AdType.FreeBall]),l.HideWildAdButtonSignal.inst.dispatchOne(s.AdType[s.AdType.WildDaub])):(l.HideWildAdButtonSignal.inst.dispatchOne(s.AdType[s.AdType.FreeBall]),l.HideWildAdButtonSignal.inst.dispatchOne(s.AdType[s.AdType.WildDaub])),i.Game.setLevel(this.match.difficultyLevel),this.match&&this.match.sharedRandomSeed?(CMath.randomSeed=this.match.sharedRandomSeed,CMath.sharedSeed=this.match.sharedRandomSeed):(CMath.sharedSeed=CMath.randomSeed=Math.random(),console.log(" debug random seed:",CMath.randomSeed)),this.match&&this.match.shouldLaunchTutorial?this.isNewPlayer=!0:this.isNewPlayer=!1,this.celerStartCallback&&(this.celerStartCallback(),this.celerStartCallback=null),CELER_X?(this.isInCeler=!0,celerSDK.onPause(function(){i.Game.isOver||(t.isBackgroundRunning=!0,console.log(" game on background"),a.gEventMgr.emit(r.GlobalEvent.ON_HIDE))}),celerSDK.onResume(function(){i.Game.isOver||(console.log(" game on forground"),t.isBackgroundRunning=!1,a.gEventMgr.emit(r.GlobalEvent.ON_SHOW))})):(this.isInCeler=!1,cc.game.on(cc.game.EVENT_HIDE,function(){i.Game.isOver||(t.isBackgroundRunning=!0,console.log("cc.game.EVENT_HIDE game on background"),a.gEventMgr.emit(r.GlobalEvent.ON_HIDE))},this),cc.game.on(cc.game.EVENT_SHOW,function(){i.Game.isOver||(console.log("cc.game.EVENT_SHOW game on forground"),t.isBackgroundRunning=!1,a.gEventMgr.emit(r.GlobalEvent.ON_SHOW))},this))},e.prototype.submitScore=function(e){this.alreadySubmit||(this.alreadySubmit=!0,o.LogHandler.inst.log(" submit score:",e,", match :",this.match),CELER_X&&celerSDK.submitScore(e))},Object.defineProperty(e.prototype,"isAndroidWeb",{get:function(){return cc.sys.isMobile&&cc.sys.isBrowser&&cc.sys.os==cc.sys.OS_ANDROID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIOSWeb",{get:function(){return cc.sys.isMobile&&cc.sys.isBrowser&&cc.sys.os==cc.sys.OS_IOS},enumerable:!0,configurable:!0}),e}();n.CelerSDK=u,cc._RF.pop()},{"../Ad/AdLayer":"AdLayer","../Ad/WildAdButton":"WildAdButton","../TableManager":"TableManager","./EventManager":"EventManager","./EventName":"EventName","./Game":"Game","./LogHandler":"LogHandler"}],ChangeButton:[function(e,t,n){"use strict";cc._RF.push(t,"e2111uIxzxFsqhvOkfsQuGG","ChangeButton"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){e.node.active=4!=t&&5!=t},this)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Controller/Game":"Game"}],ChangeCardAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"def15WYV9JKQb9xk+TpAyhU","ChangeCardAnimation"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../FrameAniBase"),o=e("./TargetView"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.node.active=!1,o.TargetUpdateSignal.inst.addListener(function(){t.node.active=!0,t.node.opacity=255,t.play(),t.onComplete=function(){t.node.runAction(cc.fadeOut(.1))}},this)},t=__decorate([r],t)}(i.default));n.default=l,cc._RF.pop()},{"../FrameAniBase":"FrameAniBase","./TargetView":"TargetView"}],Cocos:[function(e,t,n){"use strict";function i(e){return e&&e.getParent&&e.getParent()?e.getParent().convertToWorldSpaceAR(e.position):cc.v2(0,0)}cc._RF.push(t,"8d2b0YlivhOh4ETFrHJjAeC","Cocos"),Object.defineProperty(n,"__esModule",{value:!0}),n.GetWorldPosition=i,n.ConvertToNodeSpaceAR=function(e,t){if(!t)return cc.v2(0,0);var n=i(e);return t.convertToNodeSpaceAR(n)},n.Distance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},n.AreaOf2CrossRect=function(e,t){var n=e.x,i=e.y,o=e.x+e.width,a=e.y+e.height,r=t.x,l=t.y,s=t.x+t.width,c=t.y+t.height;return Math.max(0,Math.min(o,s)-Math.max(n,r))*Math.max(0,Math.min(a,c)-Math.max(i,l))},n.disOrderArray=function(e){for(var t,n=0;n<e.length;++n){var i=Math.floor(CMath.getRandom(0,e.length));t=[e[i],e[n]],e[n]=t[0],e[i]=t[1]}},n.Clamp=function(e,t,n){return Math.max(Math.min(e,t),n)},cc._RF.pop()},{}],Const:[function(e,t,n){"use strict";cc._RF.push(t,"6380cLWFRRCbqDZ1T+XmugM","Const"),Object.defineProperty(n,"__esModule",{value:!0});var i,o,a=e("./Controller/CelerSDK");n.SkillTimeBouns=10,function(e){e[e.Time=0]="Time",e[e.Star=1]="Star",e[e.Gold=2]="Gold",e[e.Super=3]="Super",e[e.AdSuper=4]="AdSuper",e[e.Normal=5]="Normal",e[e.Magic=6]="Magic",e[e.Skip=7]="Skip"}(i=n.SkillType||(n.SkillType={})),function(e){e[e.Perfect=0]="Perfect",e[e.Great=1]="Great",e[e.Nice=2]="Nice",e[e.Normal=3]="Normal",e[e.Oops=4]="Oops",e[e.Bingo=5]="Bingo",e[e.OverBingo=6]="OverBingo",e[e.AllBingo=7]="AllBingo",e[e.Star=8]="Star",e[e.Gold=9]="Gold",e[e.Mouse=10]="Mouse",e[e.SpeedScore=11]="SpeedScore",e[e.BingoScore=12]="BingoScore",e[e.CorrectScore=13]="CorrectScore",e[e.OverBingoScore=14]="OverBingoScore",e[e.AllBingoScore=15]="AllBingoScore",e[e.OopScore=16]="OopScore",e[e.TotalScore=17]="TotalScore"}(n.ScoreType||(n.ScoreType={})),function(e){e[e.SpeedBonusCount=0]="SpeedBonusCount",e[e.CorrectCount=1]="CorrectCount",e[e.OopCount=2]="OopCount",e[e.BingoCount=3]="BingoCount",e[e.OverBingoCount=4]="OverBingoCount",e[e.AllBingoCount=5]="AllBingoCount"}(n.ScoreCountType||(n.ScoreCountType={})),n.GameLevel={1:{GameTime:120,CardNumber:1,MaxSkillEquipCount:3,TimeLimit:91,Skills:{first3Round:[i.Gold,i.Star],all:[i.Gold,i.Star,i.Skip]},ToolPercent:{Perfect:.8,Great:.5,Nice:.4,Normal:0,Oops:0,Bingo:0,OverBingo:0,AllBingo:0,Star:.8,Gold:.8,Mouse:0},RewardTime:{One:4,Two:3.2},TotalSkillCount:5,SuperTime:{LastTime:8,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},GoldSkillTimeLimit:{Select:7,Click:4}},2:{GameTime:90,CardNumber:1,MaxSkillEquipCount:3,TimeLimit:61,Skills:{first3Round:[i.Gold,i.Star],all:[i.Gold,i.Star,i.Time]},RewardTime:{One:(CELER_X,3),Two:(CELER_X,3.2*.75)},ToolPercent:{Perfect:.8,Great:.5,Nice:.4,Normal:0,Oops:0,Bingo:0,OverBingo:0,AllBingo:0,Star:.8,Gold:.8,Mouse:0},TotalSkillCount:5,SuperTime:{LastTime:8,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},GoldSkillTimeLimit:{Select:7,Click:4}},3:{GameTime:120,CardNumber:2,MaxSkillEquipCount:3,TimeLimit:91,Skills:{first3Round:[i.Gold,i.Magic,i.Star],all:[i.Gold,i.Magic,i.Star,i.Time,i.Skip]},RewardTime:{One:4,Two:3.2},ToolPercent:{Perfect:.8,Great:.5,Nice:.4,Normal:0,Oops:0,Bingo:0,OverBingo:0,AllBingo:0,Star:.8,Gold:.8,Mouse:0},TotalSkillCount:5,SuperTime:{LastTime:10,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},GoldSkillTimeLimit:{Select:7,Click:4}},4:{GameTime:120,CardNumber:1,MaxSkillEquipCount:3,TimeLimit:91,Skills:{first3Round:[i.Star],all:[i.Star]},RewardTime:{One:(CELER_X,3),Two:(CELER_X,3.2*.75)},ToolPercent:{Perfect:.8,Great:.5,Nice:.4,Normal:0,Oops:0,Bingo:0,OverBingo:0,AllBingo:0,Star:.8,Gold:.8,Mouse:0},TotalSkillCount:5e6,SuperTime:{LastTime:10,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},GoldSkillTimeLimit:{Select:7,Click:4}},5:{GameTime:60,CardNumber:1,MaxSkillEquipCount:3,TimeLimit:11,Skills:{first3Round:[i.Gold,i.Star],all:[i.Gold,i.Star]},RewardTime:{One:(CELER_X,2.4),Two:(CELER_X,1.92)},ToolPercent:{Perfect:.6,Great:.4,Nice:.2,Normal:0,Oops:0,Bingo:0,OverBingo:0,AllBingo:0,Star:.6,Gold:.6,Mouse:0},TotalSkillCount:5,SuperTime:{LastTime:8,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},GoldSkillTimeLimit:{Select:7,Click:4}},6:{GameTime:120,CardNumber:1,MaxSkillEquipCount:3,TimeLimit:91,Skills:{first3Round:[i.Star,i.Gold,i.Skip],all:[i.Star,i.Gold,i.Skip]},RewardTime:{One:(CELER_X,3),Two:(CELER_X,3.2*.75)},ToolPercent:{Perfect:.8,Great:.5,Nice:.4,Normal:0,Oops:0,Bingo:0,OverBingo:0,AllBingo:0,Star:.8,Gold:.8,Mouse:0},TotalSkillCount:5,SuperTime:{LastTime:10,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},GoldSkillTimeLimit:{Select:7,Click:4}}},n.PausePenilty=1e3,n.PausePenilthBase=1e3,n.PauseLimit=2,n.SuperAniName={Percent:"super_percent",Get:"super_get",Remind:"super"},function(e){e[e.Wheel=0]="Wheel",e[e.Carousel=1]="Carousel",e[e.Roller=2]="Roller",e[e.Circus=3]="Circus"}(o=n.Theme||(n.Theme={})),n.ThemePool=[o.Carousel,o.Roller,o.Wheel,o.Circus],n.RewardTime={One:4,Two:3.2},n.TimeScorePercent={Perfect:.2,Great:.5},n.ScoreText={Perfect:"font_perfect",Great:"font_great",Nice:"font_nice",Normal:"",Oops:"font_oops",Bingo:"",BingoFail:"font_oops",OverBingo:"",AllBingo:"",Star:"font_perfect",Gold:"font_perfect",Mouse:"font_awesome"},n.SuperLight={Gray:"bg_supergray",Light:"bg_superlight"},n.UI_Atlas={Bingo_Blue_Up:"btn_bingo_blue_up",Bingo_Blue_Down:"btn_bingo_blue_down",Bingo_Orange_Up:"btn_bingo_orange_up",Bingo_Orange_Down:"btn_bingo_orange_down",Skill_Full:"bg_skill_full",Skill_Normal:"bg_skill_get",Skill_Icon_Star:"bg_skill_1",Skill_Icon_Gold:"bg_skill_2",Skill_Icon_Time:"bg_skill_3",Skill_Icon_Magic:"bg_skill_4",Skill_Icon_Skip:"bg_skill_5",Super_Skill_Down:"btn_change_down",Super_Skill_Up:"btn_change_up",Super_Skill_Gray:"btn_change_gray"},n.Score={Perfect:50,Great:30,Nice:20,Normal:100,Oops:-25,MouseOops:-25,Bingo:1e3,BingoStep:100,BingoFail:-100,AllBingo:3e3,Star:50,Gold:50,Mouse:50},n.TimeLimit=91,n.GetTotalDaubCount=function(){return 6==a.CelerSDK.inst.DifficultyLevel?25:10},n.RewardListLimit=4,n.CardNumber={Min:2,Max:3},function(e){e.Score="Score",e.Card="Card",e.Point="Point",e.Time="TimeBonus"}(n.PrefabName||(n.PrefabName={})),n.TargetRange={Start:1,End:75},n.CardStep=15,function(e){e[e.B=1]="B",e[e.I=2]="I",e[e.N=3]="N",e[e.G=4]="G",e[e.O=5]="O"}(n.CardWord||(n.CardWord={})),n.PointColor={0:cc.color(79,130,233),1:cc.color(229,103,236),2:cc.color(145,85,212),3:cc.color(42,197,183),4:cc.color(231,209,125)},n.StarCard=["N.3"],n.RectCard=["B.1","O.1","B.5","O.5"],function(e){e[e.TimeUp=0]="TimeUp",e[e.PoolClear=1]="PoolClear",e[e.CardClear=2]="CardClear",e[e.AllBingo=3]="AllBingo",e[e.GameOver=4]="GameOver"}(n.OverType||(n.OverType={})),n.OverFont={TimeUp:"bg_result_font1",GameOver:"bg_result_font3",PoolClear:"bg_result_font2",CardClear:"bg_result_font2",AllBingo:"bg_result_font2"},n.TotalSkillCount=5,n.SkillPercentRange={Max:140,Min:11},n.GoldSkillTimeLimit={Select:7,Click:4},n.SuperTime={LastTime:10,RandomMin:1.5,RandomMax:7.5,ShowTimeMin:.3,ShowTimeMax:.7,WrongLimit:5,HighLightLimit:5,SubScore:-25},function(e){e[e.Across=0]="Across",e[e.Corners=1]="Corners",e[e.Diagonal=2]="Diagonal",e[e.Down=3]="Down"}(n.BingoType||(n.BingoType={})),n.GetScoreScale=function(){return a.CelerSDK.inst.DifficultyLevel,1},n.GetUSDScale=function(){return.045},cc._RF.pop()},{"./Controller/CelerSDK":"CelerSDK"}],CountDownAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"69abcxOceZPUap2HIEQhEB4","CountDownAnimation"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=e("../FrameAniBase"),a=e("../GameScene"),r=cc._decorator,l=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),i.GameLevelInitSignal.inst.addListenerOne(function(e){6==e?(t.PrefixName="ae_bonus30s",t.node.x=208.855):(t.PrefixName="ae_30s",t.node.x=171.734)},this),a.PlayCountDownAnimation.inst.addListener(function(){t.play()},this),this.node.opacity=0},t=__decorate([l],t)}(o.default));n.default=s,cc._RF.pop()},{"../Controller/Game":"Game","../FrameAniBase":"FrameAniBase","../GameScene":"GameScene"}],CurrentDaubCount:[function(e,t,n){"use strict";cc._RF.push(t,"584729XpxpGNZeLVysb/xQG","CurrentDaubCount"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Signal"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal));n.CurrentDaubCountUpdateSignal=r;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"Label",{get:function(){return this.getComponent(cc.Label)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.Label.string="0",r.inst.addListenerOne(function(t){e.Label.string=t.toString()},this)},t=__decorate([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/Signal":"Signal"}],DifficultyLevelFilter:[function(e,t,n){"use strict";cc._RF.push(t,"bac64MtHgJIXb1r7Z8ObBeu","DifficultyLevelFilter"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/CelerSDK"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){4==i.CelerSDK.inst.DifficultyLevel&&this.node.removeFromParent(!0)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Controller/CelerSDK":"CelerSDK"}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"abedd8TuIVPHo+8lpclbjlp","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.eventTarget=new cc.EventTarget}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),e.prototype.emit=function(e,t,n,i,o,a){this.eventTarget.emit(e.toString(),t,n,i,o,a)},e.prototype.on=function(e,t,n,i){return this.eventTarget.on(e.toString(),t,n,i)},e.prototype.once=function(e,t,n){this.eventTarget.once(e.toString(),t,n)},e.prototype.dispatchEvent=function(e){this.eventTarget.dispatchEvent(e)},e.prototype.off=function(e,t,n){this.eventTarget.off(e.toString(),t,n)},e.prototype.hasEventListener=function(e){return this.eventTarget.hasEventListener(e.toString())},e.prototype.targetOff=function(e){this.eventTarget.targetOff(e)},e}();n.gEventMgr=i.inst,cc._RF.pop()},{}],EventName:[function(e,t,n){"use strict";cc._RF.push(t,"5e448W2wb5EB7XC2O5CyNch","EventName"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.PLAY_EFFECT=0]="PLAY_EFFECT",e[e.CHANGE_BGM=1]="CHANGE_BGM",e[e.SMALL_BGM=2]="SMALL_BGM",e[e.NORMAL_BGM=3]="NORMAL_BGM",e[e.GAME_START=4]="GAME_START",e[e.ADD_SCORE=5]="ADD_SCORE",e[e.GAME_OVER=6]="GAME_OVER",e[e.ADD_2_NORMAL_REWARD=7]="ADD_2_NORMAL_REWARD",e[e.CHECK_BINGO=8]="CHECK_BINGO",e[e.UPDATE_TOOL_PERCENT=9]="UPDATE_TOOL_PERCENT",e[e.SKILL_DONE=10]="SKILL_DONE",e[e.SUPER_END_COMPLETE=11]="SUPER_END_COMPLETE",e[e.GOLD_POINT_SELECT_DONE=12]="GOLD_POINT_SELECT_DONE",e[e.CHANGE_GAME_MODE=13]="CHANGE_GAME_MODE",e[e.UPDATE_MOUSE_LIGHT=14]="UPDATE_MOUSE_LIGHT",e[e.SCROLL_CARD=15]="SCROLL_CARD",e[e.CHANGE_CARD_TAB=16]="CHANGE_CARD_TAB",e[e.PXIEL_ENABLE=17]="PXIEL_ENABLE",e[e.SHOW_SKILL_GUIDE=18]="SHOW_SKILL_GUIDE",e[e.MAGIC_DAUB=19]="MAGIC_DAUB",e[e.MAGIC_TIP=20]="MAGIC_TIP",e[e.SKILL_TIP=21]="SKILL_TIP",e[e.BINGO=22]="BINGO",e[e.CHANGE_SKILL_ORDER=23]="CHANGE_SKILL_ORDER",e[e.HIDE_HELP=24]="HIDE_HELP",e[e.ON_HIDE=25]="ON_HIDE",e[e.ON_SHOW=26]="ON_SHOW",e[e.SKILL_RESUME=27]="SKILL_RESUME"}(n.GlobalEvent||(n.GlobalEvent={})),cc._RF.pop()},{}],FlyAdCnicornAniamtion:[function(e,t,n){"use strict";cc._RF.push(t,"df82bE3jcpP0bURZ5D33BYC","FlyAdCnicornAniamtion"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../FrameAniBase"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([a],t)}(i.default));n.default=r,cc._RF.pop()},{"../FrameAniBase":"FrameAniBase"}],FlyCnicornAd:[function(e,t,n){"use strict";cc._RF.push(t,"36cb0yApqROmqNTDmiukrBP","FlyCnicornAd"),Object.defineProperty(n,"__esModule",{value:!0});var i,o=e("../Utils/Signal"),a=cc._decorator,r=a.ccclass;a.property;(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"})(i=n.FlyOrigin||(n.FlyOrigin={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal);n.CnicornWatchFailSignal=l;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal);n.RemoveFlyCnicornSignal=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal);n.FlyCnicornAdDispearSignal=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal);n.FlyCnicornClickSignal=u;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal);n.ShowFlyCnicornSignal=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return __extends(t,e),n=t,Object.defineProperty(t.prototype,"Fly",{get:function(){return this.node.getChildByName("Fly")},enumerable:!0,configurable:!0}),t.prototype.reuse=function(e,t){console.log("ShowFlyCnicorn:",i[e]),this.node.opacity=255,this.Fly.opacity=255;var o=0;this.Fly.y=t,e=i.Right,this.Fly.scaleX=-1,this.Fly.x=940,o=-940,this.Fly.once(cc.Node.EventType.TOUCH_END,this.onAddTouch,this),this.Fly.runAction(cc.sequence(cc.moveTo(10,o,this.Fly.y),cc.spawn(cc.fadeOut(2),cc.moveBy(2,376*this.Fly.scaleX,0)),cc.callFunc(function(){c.inst.dispatch(),n.ShowTimeRest=10})))},t.prototype.unuse=function(){},t.prototype.onLoad=function(){var e=this;s.inst.addOnce(function(){h.inst.removeTarget(e),l.inst.removeTarget(e),e.node.removeFromParent(!0)},this),l.inst.addListener(function(){n.ShowTimeRest=10},this),n.ShowTimeRest=10,h.inst.addListenerTwo(function(t,n){e.reuse(t,n)},this)},t.prototype.onAddTouch=function(e){this.Fly.stopAllActions(),this.Fly.runAction(cc.fadeOut(.2)),u.inst.dispatch()},t.prototype.update=function(e){},t.ShowTimeRest=0,t=n=__decorate([r],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../Utils/Signal":"Signal"}],FrameAniBase:[function(e,t,n){"use strict";cc._RF.push(t,"40ac1Eu6RlIMb5+29+y7eVp","FrameAniBase"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,r=i.requireComponent,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Frames=null,t.PrefixName="",t.FrameCount=0,t.Interval=.05,t.Priority=0,t.Loop=!1,t.PlayOnLoad=!1,t.currentIndex=0,t.time=0,t.isPlay=!1,t.listener=[],t.complateEvent=[],t}var n;return __extends(t,e),n=t,Object.defineProperty(t.prototype,"Sprite",{get:function(){return this.node.getComponent(cc.Sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Animation",{set:function(e){this.Frames=e},enumerable:!0,configurable:!0}),t.prototype.onFocusInEditor=function(){},t.prototype.onLostFocusInEditor=function(){clearInterval(n.intervalID)},t.prototype.onLoad=function(){this.time=this.Interval,this.isPlay=this.PlayOnLoad},t.prototype.play=function(){this.isPlay=!0,this.currentIndex=0,0==this.isPlaying&&this.callEventComplete()},t.prototype.onStartPlay=function(){},t.prototype.playOnLoop=function(){this.Loop=!0,this.play()},t.prototype.playByStep=function(){this.isPlay=!0,this.nextFrame(),this.isPlay=!1},t.prototype.pause=function(){this.isPlay=!1},t.prototype.resume=function(){this.isPlay=!0},t.prototype.stop=function(){this.isPlay=!1,this.currentIndex=0,this.updateCurrentFrame(),this.Loop=!1},t.prototype.updateCurrentFrame=function(){""!=this.PrefixName?this.Sprite.spriteFrame=this.Frames.getSpriteFrame(this.PrefixName+(this.currentIndex+1)):this.Sprite.spriteFrame=this.Frames.getSpriteFrames()[this.currentIndex]},t.prototype.onKeyFrame=function(e){},t.prototype.addKeyEventListener=function(e,t){this.listener.push({callback:e,target:t})},Object.defineProperty(t.prototype,"ListenerCount",{get:function(){return this.listener.length},enumerable:!0,configurable:!0}),t.prototype.clearAllListener=function(){return this.listener.length=0,this},t.prototype.onComplete=function(){},t.prototype.callEventFrame=function(){this.onKeyFrame(this.currentIndex);for(var e=0,t=this.listener;e<t.length;e++){var n=t[e];n.callback.apply(n.target,[this.currentIndex,this.__classname__])}},t.prototype.callEventComplete=function(){this.onComplete();for(var e=0,t=this.complateEvent;e<t.length;e++){var n=t[e];n.f.apply(n.target,[this.__classname__])}},t.prototype.addCompleteEvent=function(e,t){this.complateEvent.push({f:e,target:t})},Object.defineProperty(t.prototype,"TotalFrameCount",{get:function(){return""!=this.PrefixName&&this.FrameCount>0?this.FrameCount:this.Frames&&this.Frames.getSpriteFrames?this.Frames.getSpriteFrames().length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CompleteEventCount",{get:function(){return this.complateEvent.length},enumerable:!0,configurable:!0}),t.prototype.clearCompleteEvent=function(){return this.complateEvent.length=0,this},t.prototype.start=function(){},Object.defineProperty(t.prototype,"isPlaying",{get:function(){if(this.isPlay&&this.Frames&&this.Frames.getSpriteFrames&&this.Frames.getSpriteFrames().length>0){for(var e=0,t=this.getComponents(n);e<t.length;e++){var i=t[e];if(i.Priority>this.Priority&&i.isPlaying)return!1}return!0}return!1},enumerable:!0,configurable:!0}),t.prototype.nextFrame=function(){0!=this.isPlaying?this.Frames&&this.Frames.getSpriteFrames&&this.Frames.getSpriteFrames().length>0&&(0==this.currentIndex&&this.onStartPlay(),this.updateCurrentFrame(),this.callEventFrame(),this.currentIndex=(this.currentIndex+1)%this.TotalFrameCount,0==this.currentIndex&&0==this.Loop&&(this.isPlay=!1,this.callEventComplete())):this.time=this.Interval},t.prototype.update=function(e){this.time>=this.Interval&&(this.time=0,this.nextFrame()),this.time+=e},t.aniName="FrameAniBase",t.intervalID=-1,__decorate([a(cc.SpriteAtlas)],t.prototype,"Frames",void 0),__decorate([a],t.prototype,"PrefixName",void 0),__decorate([a],t.prototype,"FrameCount",void 0),__decorate([a],t.prototype,"Interval",void 0),__decorate([a],t.prototype,"Priority",void 0),__decorate([a],t.prototype,"Loop",void 0),__decorate([a],t.prototype,"PlayOnLoad",void 0),t=n=__decorate([o,r(cc.Sprite)],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],GameFactory:[function(e,t,n){"use strict";cc._RF.push(t,"4ba85CHTExANJR6/Hab8WvI","GameFactory"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/HashMap"),o=function(){function e(e,t,n){this._pool=[],this.poolHandlerComps=[],this.poolHandlerComps=n,this.template=e,this.initPool(t)}return e.prototype.initPool=function(e){for(var t=0;t<e;++t){var n=cc.instantiate(this.template);this.put(n)}},e.prototype.size=function(){return this._pool.length},e.prototype.clear=function(){for(var e=this._pool.length,t=0;t<e;++t)this._pool[t].destroy&&this._pool[t].destroy();this._pool.length=0},e.prototype.put=function(e){if(e&&-1===this._pool.indexOf(e)){if(e.removeFromParent(!1),this.poolHandlerComps)for(var t=0,n=this.poolHandlerComps;t<n.length;t++){var i=n[t],o=e.getComponent(i);o&&o.unuse&&o.unuse.apply(o)}else for(var a=0,r=e.getComponents(cc.Component);a<r.length;a++){(i=r[a])&&i.unuse&&i.unuse.apply(i)}this._pool.push(e)}},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._pool.length-1;n<0&&this.initPool(1),n=this._pool.length-1;var i=this._pool[n];if(this._pool.length=n,this.poolHandlerComps)for(var o=0,a=this.poolHandlerComps;o<a.length;o++){var r=a[o],l=i.getComponent(r);l&&l.reuse&&l.reuse.apply(l,arguments)}else for(var s=0,c=i.getComponents(cc.Component);s<c.length;s++){(r=c[s])&&r.reuse&&r.reuse.apply(r,arguments)}return i},e}(),a=function(){function e(){this.objPool=new i.HashMap}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.doneCallback=e,cc.loader.loadResDir("prefabs/",cc.Prefab,function(e,n,i){if(e)console.error(" Game Factory init failed:",e);else{for(var a=0,r=n;a<r.length;a++){var l=r[a],s=l.name.split("."),c=s[0],u=s[1]?parseInt(s[1]):30,h=new o(l,u);t.objPool.add(c,h)}t.doneCallback()}})},e.prototype.getObj=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.objPool.has(e)?this.objPool.get(e).get(t):(console.error(" objPool dosen't exists this obj:",e),null)},e.prototype.putObj=function(e,t){if(this.objPool.has(e))return this.objPool.get(e).put(t);console.error(" objPool dosen't exists this obj:",e)},e}();n.gFactory=a.inst,cc._RF.pop()},{"../Utils/HashMap":"HashMap"}],GameScene:[function(e,t,n){"use strict";cc._RF.push(t,"641d0IYt6xLgqqVz9F0bymV","GameScene"),Object.defineProperty(n,"__esModule",{value:!0});var i,o=e("./Controller/GameFactory"),a=e("./Controller/EventManager"),r=e("./Controller/StepController"),l=e("./Controller/AudioController"),s=e("./Controller/EventName"),c=e("./Controller/Game"),u=e("./Guide"),h=e("./Const"),p=e("./UI/Pad"),d=e("./Card"),g=e("./GoldSkillLayer"),m=e("./SuperSkillLayer"),f=e("./ResultLayer"),S=e("./LoadLayer"),y=e("./PauseLayer"),C=e("./Controller/LogHandler"),v=e("./MagicLayer"),b=e("./Point"),T=e("./Skill"),_=e("./Utils/GameSignal"),M=e("./Special/SpecialLogic"),B=e("./Special/NextCardView"),L=e("./Special/SpecialTutorial"),P=e("./Controller/CelerSDK"),E=e("./Ad/WildAdButton"),G=e("./Ad/AdLayer"),k=e("./TableManager"),F=e("./Utils/Signal"),O=e("./Test/AI");(function(e){e.Prefab="Prefab",e.Audio="Audio",e.Json="Json"})(i||(i={}));var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(F.BaseSignal);n.PlayCountDownAnimation=A;var N=cc._decorator,R=N.ccclass,D=N.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdLayer=null,t.ResultAnimation=null,t.Background=null,t.TopNode=null,t.TimeLabel=null,t.ScoreLabel=null,t.NextCard=null,t.PageTabButtonRoot=null,t.ResultTitle=null,t.CardPages=null,t.CurrentPoint=null,t.NextPoint=null,t.PointArray=null,t.RecycleArray=null,t.Help=null,t.Guide=null,t.TextAtlas=null,t.UIAtlas=null,t.ToolBar=null,t.BingoButton=null,t.SuperSkillButton=null,t.SkillRoot=null,t.SuperSkillBar=null,t.CurrentSkillProgressLabel=null,t.TotalSkillProgressLabel=null,t.StarSkillLayer=null,t.GoldSkillLayer=null,t.MagicLayer=null,t.SuperSkillLayer=null,t.ResultLayer=null,t.LoadLayer=null,t.TimeFont=null,t.SuperAnimation=null,t.StartTimeCount=null,t.StartTimeCountLabel=null,t.StartTimeAtlas=null,t.PauseLayer=null,t.ChangeButton=null,t.showScore=0,t.score=0,t.addScoreStep=0,t.completeCallback=null,t.scoreNodeCache=[],t.timeNodeCache=[],t.toolPercent=0,t.hasShowWildAd=!1,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;O.AI.inst.init(),window.chichihaoshuaihahaha=!1,P.CelerSDK.inst.init(this.celerOnStart.bind(this)),cc.debug.setDisplayStats(!1),c.Game.TopNode=this.TopNode,c.Game.CurrentReward=this.CurrentPoint,c.Game.RewardArray=this.PointArray,this.PageTabButtonRoot.active=!1,this.ToolBar.progress=0,this.ResultAnimation.node.active=!1,setTimeout(function(){e.StarSkillLayer.active=!1,e.GoldSkillLayer.hide(),e.SuperSkillLayer.hide(),e.ResultLayer.hide(),e.PauseLayer.hide(),e.MagicLayer.hide()},0),this.LoadLayer.node.active=!0,this.TimeLabel.string=CMath.TimeFormat(90),r.gStep.register(this.celerReady.bind(this),[i.Prefab,i.Audio,i.Json]),k.TableManager.inst.startLoad("/json",function(){r.gStep.nextStep(i.Json)}),l.gAudio.init(function(){r.gStep.nextStep(i.Audio)}),o.gFactory.init(function(){r.gStep.nextStep(i.Prefab)}),this.initEvent()},t.prototype.celerReady=function(){C.LogHandler.inst.log(" celer ready"),P.CelerSDK.inst.celerXReady()},t.prototype.celerOnStart=function(){c.Game.prepare();for(var e=0,t=this.Background.children;e<t.length;e++){var n=t[e];n.active=n.name==h.Theme[c.Game.Theme]}this.initGameScene(),this.LoadLayer.ready(),this.TimeLabel.string=CMath.TimeFormat(c.Game.LevelInfo.GameTime),c.Game.initSkillPool(20)},t.prototype.updateSuperSkillProgress=function(){if(4!=P.CelerSDK.inst.DifficultyLevel){this.TotalSkillProgressLabel.string=c.Game.LevelInfo.TotalSkillCount.toString(),this.CurrentSkillProgressLabel.string=c.Game.getCurrentSkillUseCount().toString();var e=c.Game.getSkillUsePercent();this.SuperSkillBar.active=e<1;var t=e*(h.SkillPercentRange.Max-h.SkillPercentRange.Min)+h.SkillPercentRange.Min;this.SuperSkillBar.height<t?e<1?(this.SuperAnimation.node.opacity=0,this.SuperAnimation.stop(h.SuperAniName.Remind),this.SuperAnimation.playAdditive(h.SuperAniName.Percent)):(this.SuperAnimation.playAdditive(h.SuperAniName.Get),this.SuperAnimation.playAdditive(h.SuperAniName.Remind),P.CelerSDK.inst.isNew()&&!c.Game.skillGuide[h.SkillType.Super]&&(c.Game.skillGuide[h.SkillType.Super]=!0,1==c.Game.Level?a.gEventMgr.emit(s.GlobalEvent.SHOW_SKILL_GUIDE,h.SkillType.Super,this.superSkill.bind(this)):a.gEventMgr.emit(s.GlobalEvent.SHOW_SKILL_GUIDE,h.SkillType.Super,c.Game.resume))):e<1&&(this.SuperAnimation.node.opacity=0,this.SuperAnimation.stop(h.SuperAniName.Remind)),this.SuperSkillBar.height=t,this.SuperSkillButton.interactable=e>=1,_.WildDaubSignal.inst.dispatchOne(c.Game.getCurMode()==h.SkillType.Normal&&this.SuperSkillButton.interactable&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex()))}},t.prototype.updateButtonGroup=function(){for(var e=0,t=this.PageTabButtonRoot.children;e<t.length;e++){var n=t[e];n.getChildByName("Normal").active=n.getComponent(cc.Button).interactable,n.getChildByName("Press").active=!n.getChildByName("Normal").active,n.getComponent(cc.Button).interactable?n.getChildByName("Text").opacity=127.5:n.getChildByName("Text").opacity=255}},t.prototype.setButtonGroupDefault=function(){for(var e=0,t=this.PageTabButtonRoot.children;e<t.length;e++){var n=t[e];n.getChildByName("Press").group="default",n.getChildByName("Text").group="default"}},t.prototype.setButtonGroupUI=function(){for(var e=0,t=this.PageTabButtonRoot.children;e<t.length;e++){var n=t[e];n.getChildByName("Press").group="UI",n.getChildByName("Text").group="UI"}},t.prototype.initGameScene=function(){var e=c.Game.getCardNumber();this.PageTabButtonRoot.active=!(e<=1);for(var t=this.PageTabButtonRoot.childrenCount,n=1;n<=t;n++){(o=this.PageTabButtonRoot.getChildByName(n.toString()))&&n>e?o.removeFromParent(!0):(o.on(cc.Node.EventType.TOUCH_START,this.scrollCardPage,this),1==n&&(o.getComponent(cc.Button).interactable=!1))}this.updateButtonGroup(),this.PageTabButtonRoot.active=e>1;var i=this.CardPages.content.childrenCount;for(n=1;n<=i;n++){var o;(o=this.CardPages.content.getChildByName(n.toString()))&&n>e?this.CardPages.removePage(o):o.addComponent(p.default)}this.CardPages.node.on("scroll-ended",this.onPageTurnDone,this),this.CardPages._unregisterEvent(),this.genCardValue(),this.updateSuperSkillProgress(),this.updateToolPercent(),c.Game.cardIndex=this.CardPages.getCurrentPageIndex()},t.prototype.genCardValue=function(){c.Game.clearStreak(),c.Game.clearSkillUseCount(),c.Game.clearToolPercent();var e=0;M.SpecialLogic.inst.clearPointPool(),c.Game.clearHighLightCard(),this.updateSuperSkillProgress();for(var t=0,n=this.CardPages.content.children;t<n.length;t++){var i=n[t];console.log("\u521d\u59cb\u5316\u5361\u7247\u5185\u5bb9Count:",e++);for(var a=h.CardWord.B;a<=h.CardWord.O;a++){for(var r=[],l=[],s=0;s<15;s++)l.push(s);r.length=l.length;for(s=(a-1)*h.CardStep+1;s<=a*h.CardStep;s++){var u=Math.floor(CMath.getRandom(0,l.length));r[l[u]]=s,l.splice(u,1)}console.log(" -------- randomPool ------------"),console.log(r);for(s=1;s<=5;s++){var p=r.pop();a==h.CardWord.N&&3==s||M.SpecialLogic.inst.addPoint(p);var g=parseInt(i.name)-1;c.Game.addCurrentCardValue(g,p);var m=h.CardWord[a]+"."+s,f=i.getChildByName(m);if(f)f.getComponent(d.default).setValue(p),f.getComponent(d.default).reset();else{(f=o.gFactory.getObj("Card",a,s,p,g)).name=m,i.addChild(f);f.setPosition(7+f.width/2+(a-1)*(f.width+2),-5-f.height/2-(s-1)*(f.height+10)),f.getComponent(d.default).updateLabelInfo()}}}}M.SpecialLogic.inst.initLevel(),this.CurrentPoint.on(cc.Node.EventType.CHILD_REMOVED,this.onCurrentPointRemoveChild,this),console.log(c.Game.getCurrentCardValue())},t.prototype.onPageTurnDone=function(){for(var e=0,t=this.PageTabButtonRoot.children;e<t.length;e++){var n=t[e];n.getComponent(cc.Button).interactable=n.name!=(this.CardPages.getCurrentPageIndex()+1).toString()}this.updateButtonGroup(),this.updateBingoButton(),_.SkillFullSignal.inst.dispatchOne(this.SkillRoot.childrenCount>0&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex())),_.WildDaubSignal.inst.dispatchOne(c.Game.getCurMode()==h.SkillType.Normal&&this.SuperSkillButton.interactable&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex()))},t.prototype.scrollCardPage=function(e){if(!([h.SkillType.Normal,h.SkillType.Gold,h.SkillType.Magic].indexOf(c.Game.getCurMode())<0)&&e.target.getComponent(cc.Button).interactable){a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"tab");for(var t=0,n=this.PageTabButtonRoot.children;t<n.length;t++){var i=n[t];e.target==i?i.getComponent(cc.Button).interactable=!1:i.getComponent(cc.Button).interactable=!0}this.updateButtonGroup(),this.CardPages.scrollToPage(parseInt(e.target.name)-1,0),c.Game.cardIndex=this.CardPages.getCurrentPageIndex(),this.updateBingoButton(),a.gEventMgr.emit(s.GlobalEvent.CHANGE_CARD_TAB),_.SwitchCardSignal.inst.dispatch(),_.SkillFullSignal.inst.dispatchOne(this.SkillRoot.childrenCount>0&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex())),_.WildDaubSignal.inst.dispatchOne(c.Game.getCurMode()==h.SkillType.Normal&&this.SuperSkillButton.interactable&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex()))}},t.prototype.changeSkillOrder=function(){var e=this;if(0!=this.ChangeButton.interactable)if(this.SkillRoot.childrenCount<2)console.log(" \u9053\u5177\u6570\u91cf\u4e0d\u8db3\u4e24\u4e2a\uff0c\u65e0\u6cd5\u4ea4\u6362");else if(c.Game.getCurMode()==h.SkillType.Normal){this.ChangeButton.interactable=!1,a.gEventMgr.emit(s.GlobalEvent.CHANGE_SKILL_ORDER);var t=this.SkillRoot.children[0];t.runAction(cc.sequence(cc.callFunc(function(){for(var t=0;t<e.SkillRoot.childrenCount;t++)e.SkillRoot.children[t].getComponent(T.default).unready()}),cc.moveTo(.15,0,214),cc.callFunc(function(){e.SkillRoot.children.splice(0,1),e.SkillRoot.children.push(t);for(var n=0;n<e.SkillRoot.childrenCount;n++){var i=e.SkillRoot.children[n];i.zIndex=n+1,i.zIndex<e.SkillRoot.childrenCount&&(i.y=67+5*(i.zIndex-1))}}),cc.moveTo(.1,0,67+5*(this.SkillRoot.childrenCount-1)),cc.callFunc(function(){e.SkillRoot.children[e.SkillRoot.childrenCount-1].getComponent(T.default).turnReady(),e.ChangeButton.interactable=e.SkillRoot.childrenCount>=2})))}else console.log("changeSkillOrder \u4f7f\u7528\u9053\u5177\u4e2d ");else console.log(" change button interactable false")},t.prototype.initEvent=function(){var e=this;a.gEventMgr.targetOff(this),S.ReadyToStart.inst.addListener(function(){e.Guide.show(u.GuideType.Help),e.Guide.hide()},this),G.AdFinishSignal.inst.addListenerOne(function(t){t==G.AdType[G.AdType.FreeBall]?e.addSkill(!0):e.superSkill(!0)},this),M.NextRoundSignal.inst.addListener(function(){e.genCardValue()},this),B.StartGenPointSignal.inst.addListener(function(){e.onCurrentPointRemoveChild(null)},this),M.RoundEndSignal.inst.addListener(function(){e.CurrentPoint.off(cc.Node.EventType.CHILD_REMOVED,e.onCurrentPointRemoveChild,e),e.skillDone()},this),this.ChangeButton.interactable=this.SkillRoot.childrenCount>=2,this.ChangeButton.node.on(cc.Node.EventType.TOUCH_END,this.changeSkillOrder,this),this.TopNode.getChildByName("ScoreRoot").on(cc.Node.EventType.CHILD_REMOVED,this.onScoreRootRemoveChild,this),this.TopNode.getChildByName("TimeRoot").on(cc.Node.EventType.CHILD_REMOVED,this.onTimeRootRemoveChild,this),this.BingoButton.node.on(cc.Node.EventType.TOUCH_END,this.Bingo,this),this.SuperSkillButton.node.on(cc.Node.EventType.TOUCH_END,function(){e.superSkill()},this),this.Help.on(cc.Node.EventType.TOUCH_END,function(){c.Game.getCurMode()==h.SkillType.Normal?e.PauseLayer.show(function(){e.Guide.show(u.GuideType.Help,c.Game.pause.bind(c.Game))},function(){c.Game.resume(),a.gEventMgr.emit(s.GlobalEvent.SKILL_RESUME)}):console.log(" only the normal mode can open help info")},this),a.gEventMgr.on(s.GlobalEvent.ON_HIDE,function(){if(c.Game.getCurMode()==h.SkillType.Normal){if(e.AdLayer.active)return;e.Guide.node.active&&e.Guide.hide(),e.PauseLayer.show(function(){e.Guide.show(u.GuideType.Help,c.Game.pause.bind(c.Game))},function(){c.Game.resume(),a.gEventMgr.emit(s.GlobalEvent.SKILL_RESUME)})}else e.PauseLayer.show(function(){e.Guide.show(u.GuideType.Help,c.Game.pause.bind(c.Game))},function(){a.gEventMgr.emit(s.GlobalEvent.SKILL_RESUME)})},this),this.SkillRoot.on(cc.Node.EventType.CHILD_ADDED,function(){console.log("\u83b7\u5f97\u9053\u5177\uff1a"+e.SkillRoot.childrenCount),e.ChangeButton.interactable=e.SkillRoot.childrenCount>=2,_.SkillFullSignal.inst.dispatchOne(!c.Game.checkIsFull(e.CardPages.getCurrentPageIndex()))},this),this.SkillRoot.on(cc.Node.EventType.CHILD_REMOVED,function(){_.SkillFullSignal.inst.dispatchOne(e.SkillRoot.childrenCount>0&&!c.Game.checkIsFull(e.CardPages.getCurrentPageIndex())),e.SkillRoot.childrenCount>=1&&e.SkillRoot.children[e.SkillRoot.childrenCount-1].getComponent(T.default).turnReady(),console.log("\u5220\u9664\u9053\u5177\uff1a"+e.SkillRoot.childrenCount),e.ChangeButton.interactable=e.SkillRoot.childrenCount>=2},this),a.gEventMgr.on(s.GlobalEvent.ADD_2_NORMAL_REWARD,this.addNormalReward,this),a.gEventMgr.on(s.GlobalEvent.ADD_SCORE,this.addScore,this),a.gEventMgr.on(s.GlobalEvent.CHECK_BINGO,this.CheckBingo,this),a.gEventMgr.on(s.GlobalEvent.UPDATE_TOOL_PERCENT,this.updateToolPercent,this),a.gEventMgr.on(s.GlobalEvent.SKILL_DONE,this.skillDone,this),a.gEventMgr.once(s.GlobalEvent.GAME_OVER,this.onGameOver,this),a.gEventMgr.once(s.GlobalEvent.GAME_START,this.startGame,this),a.gEventMgr.on(s.GlobalEvent.SHOW_SKILL_GUIDE,this.showSkillGuide,this),M.BingoStateUpdateSignal.inst.addListener(function(){e.updateBingoButton()},this)},t.prototype.startGame=function(){var e=this;console.log(" start game time count..."),this.StartTimeCount.spriteFrame=this.StartTimeAtlas.getSpriteFrame("ae_start1");this.StartTimeCountLabel.string=3..toString();var t=1,n=[];this.LoadLayer.enableBlock(!1);for(var i=function(i){n.push(cc.repeat(cc.sequence(cc.delayTime(1/12),cc.callFunc(function(){t=Math.max(1,(t+1)%7),e.StartTimeCount.spriteFrame=e.StartTimeAtlas.getSpriteFrame("ae_start"+t)})),12),cc.callFunc(function(){i<=0?(e.StartTimeCountLabel.string="",e.StartTimeCount.node.scale=.8,e.StartTimeCount.spriteFrame=e.StartTimeAtlas.getSpriteFrame("ae_LETSGO")):(a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"count"),e.StartTimeCountLabel.string=i.toString())}))},o=2;o>=0;o--)i(o);n.push(cc.callFunc(function(){a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"letsgo")}),cc.scaleTo(.1,1.5),cc.delayTime(.5),cc.scaleTo(.1,1),cc.fadeOut(.5),cc.callFunc(function(){console.log(" Game.start() --"),e.onCurrentPointRemoveChild(null),c.Game.start(),e.PauseLayer.node.active&&0==c.Game.isPause()&&(console.warn("\u5728\u6682\u505c\u9875\u9762\uff0c\u7403\u7684\u5012\u8ba1\u65f6\u6ca1\u6709\u8fdb\u5165\u6682\u505c\u72b6\u6001"),c.Game.pause()),E.WildButtonReadySignal.inst.dispatchOne(G.AdType[G.AdType.FreeBall])}));var r=function(){a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"count"),e.StartTimeCount.node.runAction(cc.sequence(n))};P.CelerSDK.inst.isNew()?this.Guide.show(u.GuideType.Guide,function(){4==P.CelerSDK.inst.DifficultyLevel||6==P.CelerSDK.inst.DifficultyLevel?L.ShowSpecialTutorialSignal.inst.dispatchOne(r):r()}):4==P.CelerSDK.inst.DifficultyLevel||6==P.CelerSDK.inst.DifficultyLevel?L.ShowSpecialTutorialSignal.inst.dispatchOne(r):r()},t.prototype.onGameOver=function(e){var t=this;console.log("OverType:",h.OverType[e]),_.BingoSignal.inst.dispatchOne(!1),_.SkillFullSignal.inst.dispatchOne(!1),this.skillDone(),c.Game.isOver=!0,this.scoreNodeCache.length=0,this.ResultAnimation.node.active=!0,this.ResultAnimation.once(cc.Animation.EventType.FINISHED,function(){setTimeout(function(){t.ResultLayer.show(e)},1e3)},this),e==h.OverType.TimeUp?(this.ResultAnimation.play("time_up"),a.gEventMgr.emit(s.GlobalEvent.SMALL_BGM),a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"mouse_time_up")):e==h.OverType.GameOver?(this.ResultAnimation.play("game_over"),a.gEventMgr.emit(s.GlobalEvent.SMALL_BGM),a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"mouse_time_up")):(this.ResultAnimation.play("complete"),a.gEventMgr.emit(s.GlobalEvent.SMALL_BGM),a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"mouse_complete"))},t.prototype.Bingo=function(){if(c.Game.getCurMode()==h.SkillType.Normal)if(c.Game.canBingo(this.CardPages.getCurrentPageIndex())){var e=4==P.CelerSDK.inst.DifficultyLevel?c.Game.shiftBingoCache(this.CardPages.getCurrentPageIndex()):c.Game.popBingoCache(this.CardPages.getCurrentPageIndex());if(e){c.Game.addScore(h.ScoreType.Bingo,Math.floor(e.score*M.SpecialLogic.inst.BingoLeftPercent),1),4==P.CelerSDK.inst.DifficultyLevel&&M.SpecialLogic.inst.clearBingoTime();for(var t=0,n=0,i=e.cards;n<i.length;n++){t+=i[n].bingo()}t>0&&c.Game.addScore(h.ScoreType.OverBingo,t,1),a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"bingo")}a.gEventMgr.emit(s.GlobalEvent.BINGO),this.updateBingoButton(),c.Game.checkIsComplete()}else c.Game.addScore(h.ScoreType.Oops,h.Score.BingoFail,1);else console.log("Bingo \u4f7f\u7528\u9053\u5177\u4e2d ")},t.prototype.updateBingoButton=function(){_.BingoSignal.inst.dispatchOne(c.Game.canBingo(this.CardPages.getCurrentPageIndex())),c.Game.canBingo(this.CardPages.getCurrentPageIndex())?(this.BingoButton.normalSprite!=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Orange_Up)&&a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"turn_bingo"),this.BingoButton.normalSprite=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Orange_Up),this.BingoButton.hoverSprite=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Orange_Up),this.BingoButton.pressedSprite=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Orange_Down)):(this.BingoButton.normalSprite=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Blue_Up),this.BingoButton.hoverSprite=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Blue_Up),this.BingoButton.pressedSprite=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Bingo_Blue_Down))},t.prototype.CheckBingo=function(e,t){void 0===t&&(t=!1);var n=this.CardPages.getCurrentPageIndex()+1;console.log(" current page index:",n);for(var i=[],o=[],a=[],r=[],l=[],s=0,u=this.CardPages.content.getChildByName(n.toString()).children;s<u.length;s++){if(y=u[s].getComponent(d.default)){if(h.RectCard.indexOf(y.Pos)>=0&&t&&y.isLight()&&i.push(y),y.Index==y.Word&&e.Index==e.Word&&y.isLight()&&a.push(y),y.Index+y.Word==6&&e.Index+e.Word==6&&y.isLight()&&o.push(y),!y.isLight())continue;y.Index==e.Index&&r.push(y),y.Word==e.Word&&l.push(y)}}var p=[],g=0;if(i.length<4&&(i.length=0),P.CelerSDK.inst.DifficultyLevel,i.length>0&&M.SpecialLogic.inst.checkBingoType(h.BingoType.Corners)){console.log(" ------------- \u56db\u8fb9\u89d2 ------------"),p=p.concat(i),g+=h.Score.Bingo;for(var m=[],f=0,S=i;f<S.length;f++){var y=S[f];m.push(y.Pos)}console.log(m)}if(o.length<5&&(o.length=0),o.length>0&&M.SpecialLogic.inst.checkBingoType(h.BingoType.Diagonal)){console.log(" -------- \u53cd\u5bf9\u89d2 ----------"),p=p.concat(o),g+=h.Score.Bingo;m=[];for(var C=0,v=o;C<v.length;C++){y=v[C];m.push(y.Pos)}console.log(m)}if(a.length<5&&(a.length=0),a.length>0&&M.SpecialLogic.inst.checkBingoType(h.BingoType.Diagonal)){console.log(" ---------- \u6b63\u5bf9\u89d2 ------------"),p=p.concat(a),g+=h.Score.Bingo;m=[];for(var b=0,T=a;b<T.length;b++){y=T[b];m.push(y.Pos)}console.log(m)}if(r.length<5&&(r.length=0),r.length>0&&M.SpecialLogic.inst.checkBingoType(h.BingoType.Across)){console.log("------------- \u6a2a\u5411 ---------------"),p=p.concat(r),g+=h.Score.Bingo;m=[];for(var B=0,L=r;B<L.length;B++){y=L[B];m.push(y.Pos)}console.log(m)}if(l.length<5&&(l.length=0),l.length>0&&M.SpecialLogic.inst.checkBingoType(h.BingoType.Down)){console.log(" -------------  \u7ad6\u5411 ------------------- "),p=p.concat(l),g+=h.Score.Bingo;m=[];for(var E=0,G=l;E<G.length;E++){y=G[E];m.push(y.Pos)}console.log(m)}p.length>0&&(c.Game.pushBingoCache(this.CardPages.getCurrentPageIndex(),{cards:p,score:g}),M.SpecialLogic.inst.setBingoEnable()),this.updateBingoButton(),_.SkillFullSignal.inst.dispatchOne(this.SkillRoot.childrenCount>0&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex())),_.WildDaubSignal.inst.dispatchOne(c.Game.getCurMode()==h.SkillType.Normal&&this.SuperSkillButton.interactable&&!c.Game.checkIsFull(this.CardPages.getCurrentPageIndex()))},t.prototype.onCurrentPointRemoveChild=function(e){var t=this;if(!this.NextCard.active&&this.NextPoint.childrenCount<=0){var n=c.Game.getNextPoint();if(n){var i=o.gFactory.getObj("Point",n);this.NextPoint.addChild(i),i.x=0,i.y=0,i.scale=0,i.runAction(cc.sequence(cc.scaleTo(.15,1),cc.callFunc(function(){i.setParent(t.CurrentPoint),i.x=0,i.y=0})))}}},t.prototype.addNormalReward=function(e){var t=0;if(this.PointArray.childrenCount>=4){var n=this.PointArray.children[0];n.setPosition(CMath.ConvertToNodeSpaceAR(n,this.RecycleArray)),n.setParent(this.RecycleArray),t=.1,n.runAction(cc.sequence(cc.scaleTo(.1,.5),cc.moveTo(.15,0,0),cc.callFunc(function(){o.gFactory.putObj("Point",n)})))}for(var i=0,r=this.PointArray.children;i<r.length;i++){var l=r[i];l.runAction(cc.sequence(cc.delayTime(t),cc.moveBy(.15,-l.width-20,0)))}e.setPosition(CMath.ConvertToNodeSpaceAR(e,this.PointArray)),e.setParent(this.PointArray),e.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){}),cc.spawn(cc.moveTo(.15,0,0),cc.scaleTo(.15,.9)))),a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"new_point")},t.prototype.addScore=function(e,t,n,i){var a=this;void 0===i&&(i=cc.v2(49,704));var r=c.Game.getScore(),l=o.gFactory.getObj(h.PrefabName.Score,t,n,this.ScoreLabel.node,function(){a.score=r,a.addScoreStep=(a.score-a.showScore)/20,o.gFactory.putObj(h.PrefabName.Score,l),console.log(" score:",a.score," , show:",a.showScore,", step:",a.addScoreStep)},this.TextAtlas.getSpriteFrame(h.ScoreText[h.ScoreType[e]]));l.setPosition(i),this.TopNode.getChildByName("ScoreRoot").childrenCount>0?(console.log(" font node cache!"),this.scoreNodeCache.push(l)):this.TopNode.getChildByName("ScoreRoot").addChild(l)},t.prototype.addTime=function(){a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"add_time");var e=o.gFactory.getObj(h.PrefabName.Time,function(){o.gFactory.putObj(h.PrefabName.Time,e)},this.TimeLabel.node);e.setPosition(0,0),this.TopNode.getChildByName("TimeRoot").childrenCount>0?this.timeNodeCache.push(e):this.TopNode.getChildByName("TimeRoot").addChild(e)},t.prototype.onScoreRootRemoveChild=function(e){this.scoreNodeCache.length>0&&this.TopNode.getChildByName("ScoreRoot").addChild(this.scoreNodeCache.shift())},t.prototype.onTimeRootRemoveChild=function(e){this.timeNodeCache.length>0&&this.TopNode.getChildByName("TimeRoot").addChild(this.timeNodeCache.shift())},t.prototype.updateTimeCount=function(){var e=Math.floor(c.Game.getGameTime());if(!(e>5)){var t=this.TimeLabel.node.parent.getChildByName("font").getComponent(cc.Sprite),n=this.TimeFont.getSpriteFrame("bg_time"+e);t.spriteFrame!=n&&(a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"count"),t.spriteFrame=n,t.node.runAction(cc.sequence(cc.fadeTo(.2,255),cc.scaleTo(.1,1.2),cc.delayTime(.5),cc.scaleTo(.1,1),cc.fadeTo(.1,0))))}},t.prototype.updateToolPercent=function(){this.toolPercent=c.Game.getToolPercent(),this.toolPercent=CMath.Clamp(this.toolPercent,1,0)},t.prototype.showSkillGuide=function(e,t){this.Guide.isGuideShow()?console.log(" skill guide showing now!"):c.Game.getCurMode()==h.SkillType.Normal?(console.log(" show skill guide:",h.SkillType[e]),c.Game.skillGuide[e]=!0,this.Guide.showSkillGuide(e,t)):console.log(" only normal mode can should guide")},t.prototype.addSkill=function(e){if(void 0===e&&(e=!1),!(c.Game.getGameTime()<=0||this.NextCard.active||this.SkillRoot.childrenCount>=c.Game.LevelInfo.MaxSkillEquipCount)){0==e&&(c.Game.addToolPercent(-1),this.ToolBar.progress-=.01);var t,n=0==e?c.Game.getSkill():h.SkillType.Star,i="";switch(console.log(" \u83b7\u5f97\u6280\u80fd:",h.SkillType[n]),n){case h.SkillType.Gold:t=this.goldSkill.bind(this),i=h.UI_Atlas.Skill_Icon_Gold;break;case h.SkillType.Star:t=this.starSkill.bind(this),i=h.UI_Atlas.Skill_Icon_Star;break;case h.SkillType.Time:t=this.timeSkill.bind(this),i=h.UI_Atlas.Skill_Icon_Time;break;case h.SkillType.Magic:t=this.magicSkill.bind(this),i=h.UI_Atlas.Skill_Icon_Magic;break;case h.SkillType.Skip:t=this.skipSkill.bind(this),i=h.UI_Atlas.Skill_Icon_Skip}for(var r=o.gFactory.getObj("Skill",t,this.UIAtlas.getSpriteFrame(i),n,this.SkillRoot.childrenCount),l=0,u=this.SkillRoot.children;l<u.length;l++){u[l].getComponent(T.default).unready()}a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"get_skill"),this.SkillRoot.addChild(r),r.zIndex=this.SkillRoot.childrenCount}},t.prototype.magicSkill=function(){if(c.Game.getGameTime()<=0)console.log(" game time up - magicSkill");else if(c.Game.checkIsFull(this.CardPages.getCurrentPageIndex()))console.log(" \u6b64\u5361\u7247\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1magicSkill");else{var e=c.Game.CurrentReward.children[0];if(e&&e.getComponent(b.default)){var t=e.getComponent(b.default);c.Game.checkIsFullFromWord(this.CardPages.getCurrentPageIndex(),t.Word)?console.log(" \u6b64\u5217\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1magicSkill"):c.Game.checkIsFullFromWord2(this.CardPages.getCurrentPageIndex(),t.Word,t.Value)?console.log(" \u6b64\u5217\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1magicSkill, \u5269\u4f59\u5361\u7247\u8ddfpoint\u70b9\u6570\u4e00\u6837\uff0c\u65e0\u9700\u4f7f\u7528\u9b54\u6cd5\u7403\uff0c"):c.Game.getCurMode()==h.SkillType.Normal?(c.Game.pause(),console.log("  \u9b54\u6cd5\u9053\u5177"),this.MagicLayer.show(t.Value),a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"skill"),c.Game.setCurClickMode(h.SkillType.Magic),this.setButtonGroupDefault()):console.log(" not normal mode!magicSkill")}else console.log(" not CurrentRewardmagicSkill !")}},t.prototype.starSkill=function(){c.Game.getGameTime()<=0?console.log(" game time up - starSkill"):(console.log("  \u84dd\u8272\u9053\u5177"),c.Game.checkIsFull(this.CardPages.getCurrentPageIndex())?console.log(" \u6b64\u5361\u7247\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1"):c.Game.getCurMode()==h.SkillType.Normal?(c.Game.pause(),this.StarSkillLayer.active=!0,a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"skill"),c.Game.setCurClickMode(h.SkillType.Star),this.setButtonGroupDefault()):console.log(" not normal mode!"))},t.prototype.skillDone=function(){c.Game.resume(),c.Game.setCurClickMode(h.SkillType.Normal),this.StarSkillLayer.active=!1,this.GoldSkillLayer.hide(),this.SuperSkillLayer.hide(),this.MagicLayer.hide(),this.setButtonGroupUI(),this.updateSuperSkillProgress()},t.prototype.goldSkill=function(){c.Game.getGameTime()<=0?console.log(" game time up - goldSkill"):(console.log(" \u91d1\u8272\u9053\u5177"),c.Game.checkIsFull(this.CardPages.getCurrentPageIndex())?console.log(" \u6b64\u5361\u7247\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1"):c.Game.getCurMode()==h.SkillType.Normal?(c.Game.pause(),this.GoldSkillLayer.show(this.CardPages.getCurrentPageIndex()),c.Game.setCurClickMode(h.SkillType.Gold),this.setButtonGroupDefault()):console.log(" not normal mode!"))},t.prototype.timeSkill=function(){c.Game.getGameTime()<=0?console.log(" game time up - timeSkill"):(console.log(" \u65f6\u95f4\u9053\u5177"),c.Game.getCurMode()==h.SkillType.Normal?(c.Game.addGameTime(h.SkillTimeBouns),this.updateSuperSkillProgress(),this.addTime()):console.log(" not normal mode!"))},t.prototype.skipSkill=function(){if(c.Game.getGameTime()<=0)console.log(" game time up - skipSkill");else if(console.log(" \u8df3\u8fc7\u9053\u5177"),c.Game.getCurMode()==h.SkillType.Normal){var e=this.CurrentPoint.children[0];if(null!=e){var t=e.getComponent(b.default);null!=t?(this.updateSuperSkillProgress(),t.goToRewardArray()):console.log(" has no point component!")}else console.log(" has no point!")}else console.log(" not normal mode!")},t.prototype.superSkill=function(e){var t=this;void 0===e&&(e=!1),c.Game.getGameTime()<=0?console.log(" game time up superSkill"):this.SuperSkillButton.interactable||0!=e?(console.log(" \u8d85\u7ea7\u9053\u5177"),c.Game.checkIsFull(this.CardPages.getCurrentPageIndex())?console.log(" \u6b64\u5361\u7247\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1"):c.Game.getCurMode()==h.SkillType.Normal?(_.WildDaubSignal.inst.dispatchOne(!1),c.Game.pause(),0==e?(c.Game.clearSkillUseCount(),c.Game.setCurClickMode(h.SkillType.Super)):c.Game.setCurClickMode(h.SkillType.AdSuper),this.setButtonGroupDefault(),a.gEventMgr.once(s.GlobalEvent.SCROLL_CARD,function(e){t.CardPages.scrollToPage(e,0),c.Game.cardIndex=t.CardPages.getCurrentPageIndex(),_.SwitchCardSignal.inst.dispatch();for(var n=0,i=t.PageTabButtonRoot.children;n<i.length;n++){var o=i[n];o.getComponent(cc.Button).interactable=(t.CardPages.getCurrentPageIndex()+1).toString()!=o.name}t.updateButtonGroup()},this),this.SuperSkillLayer.show()):console.log(" not normal mode!")):console.log("this.SuperSkillButton.interactable:",this.SuperSkillButton.interactable)},t.prototype.update=function(e){if(c.Game.isStart){if(this.Guide.node.active||c.Game.isPause()||this.PauseLayer.node.active||this.NextCard.active||this.AdLayer.active||(c.Game.addGameTime(-e),M.SpecialLogic.inst.updateBingoTime(e),this.TimeLabel.string=CMath.TimeFormat(c.Game.getGameTime()),c.Game.getGameTime()<=30&&0==this.hasShowWildAd&&(E.WildButtonReadySignal.inst.dispatchOne(G.AdType[G.AdType.WildDaub]),this.hasShowWildAd=!0),30==Math.floor(c.Game.getGameTime())&&30!=Math.floor(c.Game.getGameTime()+e)&&(A.inst.dispatch(),a.gEventMgr.emit(s.GlobalEvent.CHANGE_BGM,"bgm_30")),this.updateTimeCount()),this.ToolBar.progress.toFixed(2)!=this.toolPercent.toFixed(2)){var t=0==this.toolPercent?-.1:this.toolPercent>this.ToolBar.progress?.01:-.01;this.ToolBar.progress+=t,this.ToolBar.progress=CMath.Clamp(this.ToolBar.progress,1,0)}this.ToolBar.progress>=1&&this.addSkill();var n=this.ToolBar.progress>=1&&this.SkillRoot.childrenCount>=c.Game.LevelInfo.MaxSkillEquipCount;c.Game.isToolFull=n,c.Game.isToolFull?(this.ToolBar.barSprite.spriteFrame!=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Skill_Full)&&a.gEventMgr.emit(s.GlobalEvent.PLAY_EFFECT,"get_horce"),this.ToolBar.barSprite.spriteFrame=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Skill_Full)):this.ToolBar.barSprite.spriteFrame=this.UIAtlas.getSpriteFrame(h.UI_Atlas.Skill_Normal),this.showScore!=this.score&&(this.showScore+=this.addScoreStep,(this.addScoreStep>0&&this.showScore>this.score||this.addScoreStep<0&&this.showScore<this.score)&&(this.showScore=this.score),this.ScoreLabel.string=Math.floor(this.showScore).toString())}c.Game.isOver&&this.score==this.showScore&&this.completeCallback&&(this.completeCallback(),this.completeCallback=null)},__decorate([D(cc.Node)],t.prototype,"AdLayer",void 0),__decorate([D(cc.Animation)],t.prototype,"ResultAnimation",void 0),__decorate([D(cc.Node)],t.prototype,"Background",void 0),__decorate([D(cc.Node)],t.prototype,"TopNode",void 0),__decorate([D(cc.Label)],t.prototype,"TimeLabel",void 0),__decorate([D(cc.Label)],t.prototype,"ScoreLabel",void 0),__decorate([D(cc.Node)],t.prototype,"NextCard",void 0),__decorate([D(cc.Node)],t.prototype,"PageTabButtonRoot",void 0),__decorate([D(cc.SpriteAtlas)],t.prototype,"ResultTitle",void 0),__decorate([D(cc.PageView)],t.prototype,"CardPages",void 0),__decorate([D(cc.Node)],t.prototype,"CurrentPoint",void 0),__decorate([D(cc.Node)],t.prototype,"NextPoint",void 0),__decorate([D(cc.Node)],t.prototype,"PointArray",void 0),__decorate([D(cc.Node)],t.prototype,"RecycleArray",void 0),__decorate([D(cc.Node)],t.prototype,"Help",void 0),__decorate([D(u.default)],t.prototype,"Guide",void 0),__decorate([D(cc.SpriteAtlas)],t.prototype,"TextAtlas",void 0),__decorate([D(cc.SpriteAtlas)],t.prototype,"UIAtlas",void 0),__decorate([D(cc.ProgressBar)],t.prototype,"ToolBar",void 0),__decorate([D(cc.Button)],t.prototype,"BingoButton",void 0),__decorate([D(cc.Button)],t.prototype,"SuperSkillButton",void 0),__decorate([D(cc.Node)],t.prototype,"SkillRoot",void 0),__decorate([D(cc.Node)],t.prototype,"SuperSkillBar",void 0),__decorate([D(cc.Label)],t.prototype,"CurrentSkillProgressLabel",void 0),__decorate([D(cc.Label)],t.prototype,"TotalSkillProgressLabel",void 0),__decorate([D(cc.Node)],t.prototype,"StarSkillLayer",void 0),__decorate([D(g.default)],t.prototype,"GoldSkillLayer",void 0),__decorate([D(v.default)],t.prototype,"MagicLayer",void 0),__decorate([D(m.default)],t.prototype,"SuperSkillLayer",void 0),__decorate([D(f.default)],t.prototype,"ResultLayer",void 0),__decorate([D(S.default)],t.prototype,"LoadLayer",void 0),__decorate([D(cc.SpriteAtlas)],t.prototype,"TimeFont",void 0),__decorate([D(cc.Animation)],t.prototype,"SuperAnimation",void 0),__decorate([D(cc.Sprite)],t.prototype,"StartTimeCount",void 0),__decorate([D(cc.Label)],t.prototype,"StartTimeCountLabel",void 0),__decorate([D(cc.SpriteAtlas)],t.prototype,"StartTimeAtlas",void 0),__decorate([D(y.default)],t.prototype,"PauseLayer",void 0),__decorate([D(cc.Button)],t.prototype,"ChangeButton",void 0),t=__decorate([R],t)}(cc.Component);n.default=I,cc._RF.pop()},{"./Ad/AdLayer":"AdLayer","./Ad/WildAdButton":"WildAdButton","./Card":"Card","./Const":"Const","./Controller/AudioController":"AudioController","./Controller/CelerSDK":"CelerSDK","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Controller/GameFactory":"GameFactory","./Controller/LogHandler":"LogHandler","./Controller/StepController":"StepController","./GoldSkillLayer":"GoldSkillLayer","./Guide":"Guide","./LoadLayer":"LoadLayer","./MagicLayer":"MagicLayer","./PauseLayer":"PauseLayer","./Point":"Point","./ResultLayer":"ResultLayer","./Skill":"Skill","./Special/NextCardView":"NextCardView","./Special/SpecialLogic":"SpecialLogic","./Special/SpecialTutorial":"SpecialTutorial","./SuperSkillLayer":"SuperSkillLayer","./TableManager":"TableManager","./Test/AI":"AI","./UI/Pad":"Pad","./Utils/GameSignal":"GameSignal","./Utils/Signal":"Signal"}],GameSignal:[function(e,t,n){"use strict";cc._RF.push(t,"86d8esA/XBG4ZFK+CkGs+KY","GameSignal"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Signal"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.SkillFullSignal=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.BingoSignal=a;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.WildDaubSignal=r;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.UpdateCardNumberSignal=l;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.UpdateCardNumberOpciatySignal=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.SwitchCardSignal=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.ResultLayerShow=u,cc._RF.pop()},{"./Signal":"Signal"}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"af369eKsM9Cn4vz3KUTDwcJ","Game"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./EventManager"),o=e("./EventName"),a=e("../Const"),r=e("../Utils/HashMap"),l=e("./CelerSDK"),s=e("../Utils/GameSignal"),c=e("../Utils/Signal"),u=e("../Special/SpecialLogic"),h=e("../Special/Level6/USDLabel"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(c.BaseSignal);n.GameLevelInitSignal=p;var d=function(){function e(){this.CurrentReward=null,this.RewardArray=null,this.TopNode=null,this.FontRoot=null,this.score=0,this.level=1,this.bingoScore={},this.overBingoTimes=new r.HashMap,this.numberRandomPool=[],this.currentCardPool=new r.HashMap,this.skillUseCount=0,this.streak=0,this.maxStreak=0,this.cardAllBingoCount=new r.HashMap,this.highLightCardCount=new r.HashMap,this.highLightCardCountByWord=new r.HashMap,this.currentCardByWord=new r.HashMap,this.goldSelectValue=0,this.currentSkillPool=[],this.skillUsedRecord=[],this.totalOverBingoTimes=0,this.totalHighLightCount=0,this.cardIndex=0,this.skillGuide={},this.LevelInfo=null,this.superWrongCount=0,this.superHighLightCount=0,this.bingoCache=new r.HashMap,this.toolPercent=0,this.gameTime=0,this.ispause=!1,this.cardNumber=0,this.pauseCount=0,this.isStart=!1,this.isOver=!1,this.isCheckScore=!1,this.bingoCount=0,this.isToolFull=!1,this.TIME_TOOL_COUNT_LIMIT=2,this.SKIP_TOOL_COUNT_LIMIT=2,this.timeToolTotalCount=0,this.skipToolTotalCount=0,this.toolRound=0,this.hasDaubMagicBall=!1,this.sameColorCount={}}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.isStart=!0,this.isOver=!1,this.isCheckScore=!1,u.RoundEndSignal.inst.addListener(this.nextRound,this)},e.prototype.addPauseCount=function(){this.pauseCount++,console.log(" pause Count:",this.pauseCount),this.pauseCount>a.PauseLimit&&n.Game.addScore(a.ScoreType.Oops,-a.PausePenilty*(this.pauseCount-a.PauseLimit-1)-a.PausePenilthBase,1)},e.prototype.getPauseCount=function(){return this.pauseCount},Object.defineProperty(e.prototype,"Level",{get:function(){return this.level},enumerable:!0,configurable:!0}),e.prototype.setLevel=function(e){this.level=e,this.LevelInfo=a.GameLevel[this.level],p.inst.dispatchOne(this.level),console.log(" set level:",this.level,", level info:",this.LevelInfo)},e.prototype.superStart=function(){this.superHighLightCount=0,this.superWrongCount=0},e.prototype.pause=function(){console.log(" game --- pause "),this.ispause=!0},e.prototype.resume=function(){console.log(" game --- resume "),this.ispause=!1},e.prototype.getAllBingoCardCount=function(){return this.cardAllBingoCount.keys.length},e.prototype.addAllBingoCardCount=function(e){this.cardAllBingoCount.add(e,1),console.log(" card complete bingo:",this.cardAllBingoCount.keys.length," , extra score:",a.Score.AllBingo),this.addScore(a.ScoreType.AllBingo,a.Score.AllBingo,1)},e.prototype.getNextPoint=function(){return window.chichihaoshuaihahaha?this.getNextCurrentCardPoint(this.cardIndex,!1):4==l.CelerSDK.inst.DifficultyLevel||6==l.CelerSDK.inst.DifficultyLevel?u.SpecialLogic.inst.NextPoint:this.numberRandomPool.length>0?this.numberRandomPool.pop():(console.log("  over type pool clear !!"),Math.floor(75*CMath.getRandom()+1))},e.prototype.setCurClickMode=function(e){this.curClickMode!=e&&(this.curClickMode=e,this.curClickMode!=a.SkillType.Normal&&s.WildDaubSignal.inst.dispatchOne(!1),i.gEventMgr.emit(o.GlobalEvent.CHANGE_GAME_MODE))},e.prototype.getCurMode=function(){return this.curClickMode},e.prototype.getScore=function(){return this.score},e.prototype.addScore=function(e,t,n,r){(t*=a.GetScoreScale())>0?this.addStreak():this.clearStreak(),this.score+t<0&&(t=-this.score),0!=t?(t<0&&this.clearToolPercent(),this.score+=t,this.score=Math.max(0,this.score),e==a.ScoreType.Bingo&&this.bingoCount++,this.addBingoScore(e,t),h.UpdateUSDSignal.inst.dispatchOne(this.score),i.gEventMgr.emit(o.GlobalEvent.ADD_SCORE,e,t,n,r)):i.gEventMgr.emit(o.GlobalEvent.PLAY_EFFECT,"oop")},e.prototype.addStreak=function(){this.streak++,this.maxStreak++},e.prototype.clearStreak=function(){this.streak=0},e.prototype.getCardNumber=function(){return this.cardNumber},e.prototype.addToolPercent=function(e){"number"==typeof e?n.Game.isToolFull&&e>0?console.log(" tool full:",this.toolPercent,", add:",e):(this.toolPercent+=e,console.log(" tool percent:",this.toolPercent,", add:",e),i.gEventMgr.emit(o.GlobalEvent.UPDATE_TOOL_PERCENT)):console.error(" tool percent is not a number !")},e.prototype.clearToolPercent=function(){this.toolPercent=0,i.gEventMgr.emit(o.GlobalEvent.UPDATE_TOOL_PERCENT)},e.prototype.getToolPercent=function(){return this.toolPercent},e.prototype.pushBingoCache=function(e,t){this.bingoCache.has(e)?this.bingoCache.get(e).push(t):this.bingoCache.add(e,[t])},e.prototype.popBingoCache=function(e){if(this.bingoCache.has(e)){var t=this.bingoCache.get(e).pop();return this.bingoCache.get(e).length<=0&&this.bingoCache.remove(e),t}return null},e.prototype.hasBingo=function(){for(var e=0,t=this.bingoCache.keys;e<t.length;e++){var n=t[e];if(this.bingoCache.get(n)&&this.bingoCache.get(n).length>0)return!0}return!1},e.prototype.shiftBingoCache=function(e){if(this.bingoCache.has(e)){var t=this.bingoCache.get(e).shift();return this.bingoCache.get(e).length<=0&&this.bingoCache.remove(e),t}return null},e.prototype.getCurrentBingoScore=function(){var e=this.cardIndex;return this.bingoCache.has(e)?(4==l.CelerSDK.inst.DifficultyLevel?this.bingoCache.get(e)[0]:this.bingoCache.get(e)[this.bingoCache.get(e).length-1]).score:0},e.prototype.canBingo=function(e){return this.bingoCache.has(e)&&this.bingoCache.get(e).length>0},e.prototype.addCurrentCardValue=function(e,t){this.currentCardPool.has(e)?this.currentCardPool.get(e).push(t):this.currentCardPool.add(e,[t])},e.prototype.addCurrentCardValueByWord=function(e,t,n){var i;this.currentCardByWord.has(e)?(i=this.currentCardByWord.get(e)).has(n)?i.get(n).push(t):i.add(n,[t]):((i=new r.HashMap).add(n,[t]),this.currentCardByWord.add(e,i))},e.prototype.replaceCurrentCardValue=function(e,t,n){if(this.currentCardPool.has(e)){var i=this.currentCardPool.get(e).indexOf(t);i>=0&&this.currentCardPool.get(e).splice(i,1),this.currentCardPool.get(e).push(n)}else console.warn(" replace null page:",e,", old:",t,", new :",n),this.currentCardPool.add(e,[n])},e.prototype.replaceCurrentCardValueByWord=function(e,t,n,i){var o;if(this.currentCardByWord.has(e))if((o=this.currentCardByWord.get(e)).has(i)){var l=o.get(i).indexOf(t);l>=0&&o.get(i).splice(l,1),o.get(i).push(n)}else console.warn(" replace a null word value, page:",e," , old\uff1a",t,", new :",n,", word:",a.CardWord[i]),o.add(i,[n]);else console.warn(" replace a null page value, page:",e," , old\uff1a",t,", new :",n,", word:",a.CardWord[i]),(o=new r.HashMap).add(i,[n]),this.currentCardByWord.add(e,o)},e.prototype.getCurrentCardValue=function(){return this.currentCardPool},e.prototype.getCurrentPageValues=function(e){return this.currentCardPool.has(e)?this.currentCardPool.get(e).concat():[]},e.prototype.delCurrentCardValue=function(e,t){if(this.currentCardPool.has(e)){var n=this.currentCardPool.get(e).indexOf(t);console.log(" del current card :",e," , val:",t,", index:",n),n>=0&&(this.currentCardPool.get(e).splice(n,1),console.log(" del card val:",this.currentCardPool.get(e).length),this.currentCardPool.get(e).length<=0&&this.currentCardPool.remove(e))}},e.prototype.deleteCurrentCardValueByWord=function(e,t,n){if(0!=this.currentCardByWord.has(e)){var i=this.currentCardByWord.get(e);if(0!=i.has(n)){var o=i.get(n).indexOf(t);o>=0&&(i.get(n).splice(o,1),i.get(n).length<=0&&i.remove(n))}}},e.prototype.getNextCurrentCardPoint=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),!this.currentCardPool.has(e))return Math.floor(75*CMath.getRandom()+1);if(this.currentCardPool.length>0){var i=0;if(t){var o=Math.floor(CMath.getRandom(0,this.currentCardPool.get(e).length));i=this.currentCardPool.get(e)[o],n&&this.currentCardPool.get(e).splice(o,1)}else if(n)i=this.currentCardPool.get(e).pop();else{var a=this.currentCardPool.get(e).length-1;i=this.currentCardPool.get(e)[a]}return this.currentCardPool.get(e).length<=0&&this.currentCardPool.remove(e),i}return Math.floor(75*CMath.getRandom()+1)},e.prototype.getOverBingoTimes=function(e){return this.overBingoTimes.get(e)},e.prototype.getTotalBingoTimes=function(){return this.totalOverBingoTimes},e.prototype.addHighLightCardByWord=function(e,t){this.highLightCardCountByWord.has(e)||this.highLightCardCountByWord.add(e,new r.HashMap);var n=this.highLightCardCountByWord.get(e);n.has(t)||n.add(t,0),n.add(t,n.get(t)+1)},e.prototype.clearHighLightCard=function(){this.highLightCardCount.clear(),this.highLightCardCountByWord.clear()},e.prototype.addHighLightCard=function(e){this.highLightCardCount.has(e)||this.highLightCardCount.add(e,0),this.highLightCardCount.add(e,this.highLightCardCount.get(e)+1),(this.curClickMode==a.SkillType.Super||this.curClickMode==a.SkillType.AdSuper)&&this.highLightCardCount.get(e)>=25&&i.gEventMgr.emit(o.GlobalEvent.SUPER_END_COMPLETE),this.totalHighLightCount++,console.log("--------\u5361\u7247-",e,"- \u70b9\u4eae:",this.highLightCardCount.get(e)," \u5f20"," , \u603b\u5171\u70b9\u4eae:",this.totalHighLightCount)},e.prototype.addOverBingoTimes=function(e){this.overBingoTimes.has(e)||this.overBingoTimes.add(e,0),this.totalOverBingoTimes++,this.overBingoTimes.add(e,this.overBingoTimes.get(e)+1),console.log("--------\u5361\u7247-",e,"- \u53e0\u52a0bingo:",this.overBingoTimes.get(e)," \u6b21"," , \u603b\u5171\u53e0\u52a0bingo:",this.totalOverBingoTimes),this.overBingoTimes.get(e)>=39&&(console.log(" card:",e," has all bingo!!"),this.addAllBingoCardCount(e))},e.prototype.checkIsComplete=function(){this.cardAllBingoCount.keys.length>=this.cardNumber&&([4,6].indexOf(l.CelerSDK.inst.DifficultyLevel)>=0?(console.log(" round over by all bingo."),u.RoundEndSignal.inst.dispatch()):(console.log(this.cardNumber," all cards has all complete bingo! \u725b\u6279\u725b\u6279:",this.bingoScore[a.ScoreType[a.ScoreType.OverBingoScore]]),i.gEventMgr.emit(o.GlobalEvent.GAME_OVER,a.OverType.AllBingo)))},e.prototype.checkIsFull=function(e){return this.highLightCardCount.get(e)&&this.highLightCardCount.get(e)>=25},e.prototype.checkIsFullFromWord=function(e,t){var n=this.highLightCardCountByWord.get(e);if(!n)return!1;var i=n.get(t);return!!i&&i>=5},e.prototype.checkIsFullFromWord2=function(e,t,n){console.log(" check magic :",e,", word:",a.CardWord[t],", val:",n),console.log(this.currentCardByWord);var i=this.currentCardByWord.get(e);if(!i)return!1;var o=i.get(t);return!(null==o||o.length>1)&&o[0]==n},e.prototype.clearSkillUseCount=function(){this.skillUseCount=0},e.prototype.getSkillUsePercent=function(){return this.skillUseCount/n.Game.LevelInfo.TotalSkillCount},e.prototype.getCurrentSkillUseCount=function(){return this.skillUseCount},e.prototype.initSkillPool=function(e){for(var t=this.LevelInfo.Skills.all,n=this.LevelInfo.Skills.first3Round,i=0;i<e;i++){var o,r=[];if(this.toolRound++,r=this.toolRound<=3?n.concat():t.concat(),this.timeToolTotalCount>=this.TIME_TOOL_COUNT_LIMIT)(o=r.indexOf(a.SkillType.Time))>=0&&r.splice(o,1);if(this.skipToolTotalCount>=this.SKIP_TOOL_COUNT_LIMIT)(o=r.indexOf(a.SkillType.Skip))>=0&&r.splice(o,1);if(this.skillUsedRecord[this.skillUsedRecord.length-1]==a.SkillType.Time&&0==i&&this.skillUsedRecord.length>0||i>0&&this.currentSkillPool[this.currentSkillPool.length-1]==a.SkillType.Time)(o=r.indexOf(a.SkillType.Time))>=0&&r.splice(o,1);if(0==i&&this.skillUsedRecord.length>=2&&this.skillUsedRecord[this.skillUsedRecord.length-1]==this.skillUsedRecord[this.skillUsedRecord.length-2])(o=r.indexOf(this.skillUsedRecord[this.skillUsedRecord.length-1]))>=0&&r.splice(o,1);if(i>=2&&this.currentSkillPool.length>=2&&this.currentSkillPool[this.currentSkillPool.length-1]==this.currentSkillPool[this.currentSkillPool.length-2])(o=r.indexOf(this.currentSkillPool[this.currentSkillPool.length-1]))>=0&&r.splice(o,1);r.length<=0&&(r=this.toolRound<=3?n.concat():t.concat());for(var l=[],s=0,c=r;s<c.length;s++){var u=c[s];l.push(a.SkillType[u])}(g=r[Math.floor(CMath.getRandom(0,r.length))])==a.SkillType.Time?this.timeToolTotalCount++:g==a.SkillType.Skip&&this.skipToolTotalCount++,console.log("i:",i,", skill:",a.SkillType[g]),this.currentSkillPool.push(g)}for(var h=[],p=0,d=this.currentSkillPool;p<d.length;p++){var g=d[p];h.push(a.SkillType[g])}console.log("  skill pool init ",h)},e.prototype.useSkill=function(e){this.skillUsedRecord.push(e),this.skillUseCount>=n.Game.LevelInfo.TotalSkillCount||(this.skillUseCount+=1)},e.prototype.getSkill=function(){return 4==l.CelerSDK.inst.DifficultyLevel?a.SkillType.Star:(this.currentSkillPool.length<=0&&this.initSkillPool(10),this.currentSkillPool.shift())},e.prototype.setEasy=function(){var e,t,i,o,a;if(1==n.Game.Level&&0!=l.CelerSDK.inst.isNew()){for(var r=30,s=0,c=0,u=this.getCurrentPageValues(0).concat(),h=this.numberRandomPool.concat();r--;)u.indexOf(h.pop())>=0&&(r>20?c++:s++);console.log("\u524d10\u4e2a\u539f\u672c\u5339\u914d\u4e86",c);var p=Math.max(5-c,0);console.log("\u524d10\u4e2a\u9700\u8981\u547d\u4e2d\u81f3\u5c11\uff1a",p,"\u4e2a");for(var d=this.getCurrentPageValues(0).concat(),g=0;g<d.length;g++){e=[d[C=Math.floor(CMath.getRandom()*d.length)],d[g]],d[g]=e[0],d[C]=e[1]}var m=[];for(g=1;g<=10;g++)m.push(this.numberRandomPool.length-g);for(g=0;g<m.length;g++){t=[m[C=Math.floor(CMath.getRandom()*m.length)],m[g]],m[g]=t[0],m[C]=t[1]}for(;m.length>0&&p>0&&d.length>0;){g=m.pop();if(d.indexOf(this.numberRandomPool[g])<0){for(var f=d[v=0],S=this.numberRandomPool.indexOf(f);(S<0||S>=this.numberRandomPool.length-10)&&v<d.length;)f=d[++v],S=this.numberRandomPool.indexOf(f);v<d.length&&S>=0&&S<this.numberRandomPool.length-10&&(i=[this.numberRandomPool[S],this.numberRandomPool[g]],this.numberRandomPool[g]=i[0],this.numberRandomPool[S]=i[1],p--,d.splice(v,1))}}for(r=30,s=0,u=this.getCurrentPageValues(0).concat(),h=this.numberRandomPool.concat();r--;)u.indexOf(h.pop())>=0&&(r>20?c++:s++);console.log(" \u540e20\u4e2a\u539f\u672c\u5339\u914d\u4e86",s);var y=Math.min(d.length,Math.max(5-s,0));console.log("10-30\u4e2a\u9700\u8981\u547d\u4e2d\u81f3\u5c11\uff1a",y,"\u4e2a",",\u5269\u4f59\u5361\u7247\u6570\u5b57:",d.length,"\u4e2a"),m=[];for(g=11;g<=30;g++)m.push(this.numberRandomPool.length-g);for(g=0;g<m.length;g++){var C;o=[m[C=Math.floor(CMath.getRandom()*m.length)],m[g]],m[g]=o[0],m[C]=o[1]}for(;m.length>0&&y>0&&d.length>0;){g=m.pop();if(d.indexOf(this.numberRandomPool[g])<0){var v;for(f=d[v=0],S=this.numberRandomPool.indexOf(f);(S<0||S>=this.numberRandomPool.length-30)&&v<d.length;)f=d[++v],S=this.numberRandomPool.indexOf(f);v<d.length&&S>=0&&S<this.numberRandomPool.length-30&&(a=[this.numberRandomPool[S],this.numberRandomPool[g]],this.numberRandomPool[g]=a[0],this.numberRandomPool[S]=a[1],y--,d.splice(v,1))}}for(r=31,s=0,c=0,u=this.getCurrentPageValues(0).concat(),h=this.numberRandomPool.concat();r--;)u.indexOf(h.pop())>=0&&(r>20?c++:s++);console.log("\u524d10\u4e2a\u73b0\u5728\u5339\u914d\u4e86",c,", \u540e20\u4e2a\u73b0\u5728\u5339\u914d\u4e86",s)}},e.prototype.nextRound=function(){this.currentCardPool.clear(),this.bingoCache.clear(),this.cardAllBingoCount.clear(),this.curClickMode=a.SkillType.Normal,this.overBingoTimes.clear(),this.toolPercent=0,this.skillUseCount=0,console.log("next round:",this.cardAllBingoCount,this.overBingoTimes)},e.prototype.prepare=function(){this.sameColorCount={},this.score=0,this.gameTime=this.LevelInfo.GameTime,this.streak=0,this.maxStreak=0,this.curClickMode=a.SkillType.Normal,this.overBingoTimes.clear(),this.totalOverBingoTimes=0,this.totalHighLightCount=0,this.highLightCardCount.clear(),this.toolPercent=0,this.bingoScore={},this.bingoCache.clear(),this.currentCardPool.clear(),this.currentSkillPool=[],this.skillUsedRecord=[],this.skillUseCount=0,this.ispause=!1,this.isOver=!1,this.isCheckScore=!1,this.cardAllBingoCount.clear(),this.numberRandomPool.length=a.TargetRange.End-a.TargetRange.Start+1;for(var e=[],t=1;t<=this.numberRandomPool.length;t++)e.push(t);for(t=a.TargetRange.Start;t<=a.TargetRange.End;t++){for(var n=Math.floor(CMath.getRandom(0,e.length)),i=e[n],o=t-1,r=e.concat();this.sameColorCount[Math.ceil(i/a.CardStep)]&&this.sameColorCount[Math.ceil(i/a.CardStep)]>=4&&r.length>0;){if(r.splice(n,1),0==r.length){console.error("\u968f\u673a\u6570\u961f\u5217\u7a7a\u4e86");break}i=r[n=Math.floor(CMath.getRandom(0,r.length))]}void 0!=i&&NaN!=i&&"number"==typeof i||(console.error(" \u968f\u673a\u6570\u9519\u8bef:",n),i=e[n=Math.floor(CMath.getRandom(0,e.length))]),this.numberRandomPool[o]=i,n=e.indexOf(i),this.sameColorCount.type&&this.sameColorCount.type==Math.ceil(i/a.CardStep)?this.sameColorCount[Math.ceil(i/a.CardStep)]++:this.sameColorCount={},this.sameColorCount.type=Math.ceil(i/a.CardStep),n>=0&&e.splice(n,1)}console.log(" ------------------ \u968f\u673a\u6c60 --------------------"),console.log(this.numberRandomPool.join(",")),console.log(this.numberRandomPool.concat().sort(function(e,t){return e-t}).join(","));var l=this.numberRandomPool.concat();for(t=0;t<l.length;t++)l[t]=Math.ceil(l[t]/a.CardStep);console.log("--------\u9a8c\u8bc1\u662f\u5426\u6709\u8fde\u7eed4\u4e2a\u540c\u8272"),console.log(l.join(" - ")),console.log(this.sameColorCount),this.cardNumber=this.LevelInfo.CardNumber,console.log(" \u5361\u7247\u6570\u91cf:",this.cardNumber);for(t=0;t<5;t++)this.Theme=a.ThemePool[Math.floor(CMath.getRandom(0,a.ThemePool.length))];console.log("\u6e38\u620f\u4e3b\u9898:",a.Theme[this.Theme])},e.prototype.addGameTime=function(e){this.gameTime+=e,this.gameTime<=0&&(this.gameTime=0,i.gEventMgr.emit(o.GlobalEvent.GAME_OVER,a.OverType.TimeUp))},e.prototype.getGameTime=function(){return this.gameTime},e.prototype.addBingoScore=function(e,t){var n=a.ScoreType[e];switch(this.bingoScore[n]||(this.bingoScore[n]=0),this.bingoScore[n]+=t,this.addToolPercent(this.LevelInfo.ToolPercent[n]),this.bingoScore[a.ScoreType[a.ScoreType.TotalScore]]||(this.bingoScore[a.ScoreType[a.ScoreType.TotalScore]]=0),this.bingoScore[a.ScoreType[a.ScoreType.TotalScore]]+=t,e){case a.ScoreType.Gold:case a.ScoreType.Star:case a.ScoreType.Mouse:case a.ScoreType.Perfect:case a.ScoreType.Nice:case a.ScoreType.Great:var i=a.ScoreCountType[a.ScoreCountType.SpeedBonusCount],o=a.ScoreCountType[a.ScoreCountType.CorrectCount],r=a.ScoreType[a.ScoreType.CorrectScore],l=a.ScoreType[a.ScoreType.SpeedScore];this.bingoScore[o]||(this.bingoScore[o]=0),this.bingoScore[o]++,this.bingoScore[r]||(this.bingoScore[r]=0),this.bingoScore[r]+=a.Score.Normal;var s=t-a.Score.Normal;s>0?(this.bingoScore[i]||(this.bingoScore[i]=0),this.bingoScore[i]++,this.bingoScore[l]||(this.bingoScore[l]=0),this.bingoScore[l]+=s):console.log(" special should not smaller than normal score:",t,", type:",r);break;case a.ScoreType.Oops:var c=a.ScoreCountType[a.ScoreCountType.OopCount],u=a.ScoreType[a.ScoreType.OopScore];this.bingoScore[u]||(this.bingoScore[u]=0),this.bingoScore[u]+=t,this.bingoScore[c]||(this.bingoScore[c]=0),this.bingoScore[c]++;break;case a.ScoreType.Bingo:var h=a.ScoreType[a.ScoreType.BingoScore],p=a.ScoreCountType[a.ScoreCountType.BingoCount];this.bingoScore[h]||(this.bingoScore[h]=0),this.bingoScore[h]+=t,this.bingoScore[p]||(this.bingoScore[p]=0),this.bingoScore[p]++;break;case a.ScoreType.AllBingo:var d=a.ScoreType[a.ScoreType.AllBingoScore],g=a.ScoreCountType[a.ScoreCountType.AllBingoCount];this.bingoScore[d]||(this.bingoScore[d]=0),this.bingoScore[d]+=t,this.bingoScore[g]||(this.bingoScore[g]=0),this.bingoScore[g]++;break;case a.ScoreType.OverBingo:var m=a.ScoreType[a.ScoreType.OverBingoScore],f=a.ScoreCountType[a.ScoreCountType.OverBingoCount];this.bingoScore[m]||(this.bingoScore[m]=0),this.bingoScore[m]+=t,this.bingoScore[f]||(this.bingoScore[f]=0),this.bingoScore[f]++;break;case a.ScoreType.Normal:var S=a.ScoreType[a.ScoreType.CorrectScore],y=a.ScoreCountType[a.ScoreCountType.CorrectCount];this.bingoScore[S]||(this.bingoScore[S]=0),this.bingoScore[S]+=t,this.bingoScore[y]||(this.bingoScore[y]=0),this.bingoScore[y]++}},e.prototype.getBingoScore=function(){return this.bingoScore},e.prototype.isPause=function(){return this.ispause},e}();n.Game=d.inst,cc._RF.pop()},{"../Const":"Const","../Special/Level6/USDLabel":"USDLabel","../Special/SpecialLogic":"SpecialLogic","../Utils/GameSignal":"GameSignal","../Utils/HashMap":"HashMap","../Utils/Signal":"Signal","./CelerSDK":"CelerSDK","./EventManager":"EventManager","./EventName":"EventName"}],GoldSkillLayer:[function(e,t,n){"use strict";cc._RF.push(t,"5c379TpPltKe7icSxr7Juma","GoldSkillLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Point"),o=e("./Controller/Game"),a=e("./Const"),r=e("./Controller/EventManager"),l=e("./Controller/EventName"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectTime=0,t.clickTime=0,t.pause=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"SelectLayer",{get:function(){return this.node.getChildByName("Select")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectTimeBar",{get:function(){return this.SelectLayer.getChildByName("SelectTimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectTimeLabel",{get:function(){return this.SelectTimeBar.node.getChildByName("TimeLabel").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClickTimeLabel",{get:function(){return this.ClickTimeBar.node.getChildByName("TimeLabel").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectPointRoot",{get:function(){return this.SelectLayer.getChildByName("SelectRoot")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentPoint",{get:function(){return this.node.getChildByName("CurrentPoint").getComponent(i.default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Desk",{get:function(){return this.node.getChildByName("Desk")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClickTimeBar",{get:function(){return this.node.getChildByName("ClickTimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.node.scale=0,r.gEventMgr.targetOff(this),r.gEventMgr.on(l.GlobalEvent.GOLD_POINT_SELECT_DONE,this.selectDone,this),r.gEventMgr.on(l.GlobalEvent.ON_HIDE,function(){setTimeout(function(){console.log("gold skill pause:",a.SkillType[o.Game.getCurMode()]),e.pause=!0},0)},this),r.gEventMgr.on(l.GlobalEvent.SKILL_RESUME,function(){setTimeout(function(){console.log("gold skill resume:",a.SkillType[o.Game.getCurMode()]),e.pause=!1},0)},this)},t.prototype.show=function(e){r.gEventMgr.emit(l.GlobalEvent.PLAY_EFFECT,"skill"),this.pageIndex=e,this.node.active=!0,this.Desk.active=!1,this.SelectLayer.active=!0,this.CurrentPoint.node.active=!1,this.selectTime=o.Game.LevelInfo.GoldSkillTimeLimit.Select,this.clickTime=o.Game.LevelInfo.GoldSkillTimeLimit.Click,this.node.scale=1;var t=o.Game.getCurrentPageValues(0).concat(o.Game.getCurrentPageValues(1));if(console.log("GoldBall RandomPoints:",t),this.SelectPointRoot.getComponent(cc.Layout).enabled=t.length>=4,t.length<4)switch(t.length){case 1:this.SelectPointRoot.x=231,this.SelectPointRoot.y=-75,this.SelectPointRoot.children[2].x=-235;break;case 2:this.SelectPointRoot.x=0,this.SelectPointRoot.y=-75,this.SelectPointRoot.children[2].x=-235;break;case 3:this.SelectPointRoot.x=0,this.SelectPointRoot.y=177,this.SelectPointRoot.children[2].x=0}else this.SelectPointRoot.x=0,this.SelectPointRoot.y=177,this.SelectPointRoot.children[2].x=-235;for(var n=0,a=this.SelectPointRoot.children;n<a.length;n++){var s=a[n],c=s.getComponent(i.default);if(c&&t.length>0){var u=Math.floor(CMath.getRandom(0,t.length));c.setValue(t[u]),t.splice(u,1),s.active=!0}else s.active=!1}this.SelectTimeBar.progress=1,this.SelectTimeLabel.string=Math.ceil(this.selectTime).toString()},t.prototype.selectDone=function(){if(o.Game.goldSelectValue<=0)return this.node.active=!1,void r.gEventMgr.emit(l.GlobalEvent.SKILL_DONE);this.Desk.active=!0,this.SelectLayer.active=!1,this.CurrentPoint.node.active=!0,this.CurrentPoint.setValue(o.Game.goldSelectValue),this.ClickTimeLabel.string=Math.ceil(this.selectTime).toString(),this.ClickTimeBar.progress=1},t.prototype.hide=function(){this.node.active=!1},t.prototype.update=function(e){this.node.active&&!this.pause&&o.Game.LevelInfo&&(this.SelectLayer.active?(this.selectTime-=e,this.SelectTimeBar.progress=this.selectTime/o.Game.LevelInfo.GoldSkillTimeLimit.Select,this.SelectTimeLabel.string=Math.ceil(this.selectTime).toString(),this.selectTime<=0&&(this.node.active=!1,r.gEventMgr.emit(l.GlobalEvent.SKILL_DONE))):(this.clickTime-=e,this.ClickTimeBar.progress=this.clickTime/o.Game.LevelInfo.GoldSkillTimeLimit.Click,this.ClickTimeLabel.string=Math.ceil(this.clickTime).toString(),this.clickTime<=0&&(this.node.active=!1,r.gEventMgr.emit(l.GlobalEvent.SKILL_DONE))))},t=__decorate([c],t)}(cc.Component));n.default=u,cc._RF.pop()},{"./Const":"Const","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Point":"Point"}],Guide:[function(e,t,n){"use strict";cc._RF.push(t,"51171YOST5DI7oenF2960D9","Guide"),Object.defineProperty(n,"__esModule",{value:!0});var i,o=e("./Controller/Game"),a=e("./Const"),r=e("./MouseGuidePage"),l=e("./Controller/EventManager"),s=e("./Controller/EventName"),c=e("./Help/MagicPageGuide"),u=e("./Special/SpecialTutorial"),h=e("./Controller/CelerSDK"),p=cc._decorator,d=p.ccclass,g=p.property;(function(e){e[e.Guide=0]="Guide",e[e.Help=1]="Help"})(i=n.GuideType||(n.GuideType={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ButtonAtlas=null,t.Next=null,t.Forward=null,t.GuideContent=null,t.HelpContent=null,t.GuideView=null,t.HelpView=null,t.callback=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"SkillGuide",{get:function(){return this.node.getChildByName("SkillGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Button",{get:function(){return this.node.getChildByName("Button")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Skip",{get:function(){return this.Button.getChildByName("Skip")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StarGuide",{get:function(){return this.SkillGuide.getChildByName("StarGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GoldGuide",{get:function(){return this.SkillGuide.getChildByName("GoldGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MouseGuide",{get:function(){return this.SkillGuide.getChildByName("MouseGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MagicGuide",{get:function(){return this.SkillGuide.getChildByName("MagicGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MagicOJBK",{get:function(){return this.MagicGuide.getChildByName("OJBK")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SkipGuide",{get:function(){return this.SkillGuide.getChildByName("SkipGuide")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SkipOJBK",{get:function(){return this.SkipGuide.getChildByName("OJBK")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StarOJBK",{get:function(){return this.StarGuide.getChildByName("OJBK")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GoldOJBK",{get:function(){return this.GoldGuide.getChildByName("OJBK")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MouseOJBK",{get:function(){return this.MouseGuide.getChildByName("OJBK")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Block",{get:function(){return this.node.getChildByName("Block")},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.Next.node.on(cc.Node.EventType.TOUCH_END,this.nextPage,this),this.Forward.node.on(cc.Node.EventType.TOUCH_END,this.forwardPage,this),this.GuideView.node.on("scroll-ended",this.updateButton,this),this.HelpView.node.on("scroll-ended",this.updateButton,this),this.StarOJBK.on(cc.Node.EventType.TOUCH_END,this.hide,this),this.GoldOJBK.on(cc.Node.EventType.TOUCH_END,this.hide,this),this.MouseOJBK.on(cc.Node.EventType.TOUCH_END,this.hide,this),this.MagicOJBK.on(cc.Node.EventType.TOUCH_END,this.hide,this),this.SkipOJBK.on(cc.Node.EventType.TOUCH_END,this.hide,this),this.Block.on(cc.Node.EventType.TOUCH_END,function(){e.HelpView.node.active&&e.hide()},this),l.gEventMgr.on(s.GlobalEvent.HIDE_HELP,this.hide,this)},t.prototype.start=function(){},t.prototype.hide=function(){o.Game.getCurMode()==a.SkillType.Normal?o.Game.resume():console.warn(" not in normal mode, dont resume"),this.node.active=!1,this.StarGuide.active=!1,this.GoldGuide.active=!1,this.MouseGuide.active=!1,this.MagicGuide.active=!1,this.SkipGuide.active=!1,this.callback&&this.callback()},t.prototype.showStarGuide=function(e){this.node.active=!0,this.SkillGuide.active=!0,this.Button.active=!1,this.HelpView.node.active=!1,this.GuideView.node.active=!1,this.StarGuide.active=!0,this.GoldGuide.active=!1,this.MouseGuide.active=!1,this.MagicGuide.active=!1,this.SkipGuide.active=!1,this.callback=e},t.prototype.showGoldGuide=function(e){this.node.active=!0,this.SkillGuide.active=!0,this.Button.active=!1,this.HelpView.node.active=!1,this.GuideView.node.active=!1,this.StarGuide.active=!1,this.GoldGuide.active=!0,this.MouseGuide.active=!1,this.MagicGuide.active=!1,this.SkipGuide.active=!1,this.callback=e},t.prototype.showMouseGuide=function(e){var t=this;this.node.active=!0,this.SkillGuide.active=!0,this.Button.active=!1,this.HelpView.node.active=!1,this.GuideView.node.active=!1,this.StarGuide.active=!1,this.GoldGuide.active=!1,this.MouseGuide.active=!0,this.MagicGuide.active=!1,this.SkipGuide.active=!1,this.callback=e,this.MouseOJBK.active=!1,this.MouseOJBK.active=!0;var n=this.MouseGuide.getChildByName("MouseGuidePage").getComponent(r.default);n.reset(),n.onComplete=function(){t.MouseOJBK.active=!0}},t.prototype.showMagicGuide=function(e){var t=this;this.node.active=!0,this.SkillGuide.active=!0,this.Button.active=!1,this.HelpView.node.active=!1,this.GuideView.node.active=!1,this.StarGuide.active=!1,this.GoldGuide.active=!1,this.MouseGuide.active=!1,this.MagicGuide.active=!0,this.SkipGuide.active=!1,this.MagicOJBK.active=!1;var n=this.MagicGuide.getChildByName("Magic").getComponent(c.default);this.MagicOJBK.active=!0,n.onComplete=function(){t.MagicOJBK.active=!0},n.reset(),this.callback=e},t.prototype.showSkipGuide=function(e){this.node.active=!0,this.SkillGuide.active=!0,this.Button.active=!1,this.HelpView.node.active=!1,this.GuideView.node.active=!1,this.StarGuide.active=!1,this.GoldGuide.active=!1,this.MouseGuide.active=!1,this.MagicGuide.active=!1,this.SkipGuide.active=!0,this.callback=e},t.prototype.isGuideShow=function(){return this.node.active},t.prototype.showSkillGuide=function(e,t){switch(e){case a.SkillType.Gold:o.Game.pause(),this.showGoldGuide(t);break;case a.SkillType.Star:o.Game.pause(),this.showStarGuide(t);break;case a.SkillType.Super:o.Game.pause(),this.showMouseGuide(t);break;case a.SkillType.Magic:o.Game.pause(),this.showMagicGuide(t);break;case a.SkillType.Skip:o.Game.pause(),this.showSkipGuide(t)}},t.prototype.show=function(e,t){o.Game.pause(),this.guideType=e,e==i.Guide?(this.GuideView.node.active=!0,this.HelpView.node.active=!1,this.curSelectView=this.GuideView):(this.GuideView.node.active=!1,this.HelpView.node.active=!0,this.curSelectView=this.HelpView),console.log(" show guide:",i[e]),this.SkillGuide.active=!1,this.Button.active=!0,this.curSelectView.scrollToPage(0,0),this.node.active=!0,this.callback=t,this.Forward.node.active=!1,this.Next.node.active=!0,this.Skip.active=!1},t.prototype.nextPage=function(){if(this.curSelectView.getCurrentPageIndex()>=this.curSelectView.content.childrenCount-1)this.hide();else{var e=(this.curSelectView.getCurrentPageIndex()+1)%this.curSelectView.content.childrenCount;this.curSelectView.setCurrentPageIndex(e),this.updateButton()}},t.prototype.forwardPage=function(){if(this.curSelectView.getCurrentPageIndex()<=0);else{var e=(this.curSelectView.getCurrentPageIndex()-1)%this.curSelectView.content.childrenCount;this.curSelectView.setCurrentPageIndex(e),this.updateButton()}},t.prototype.updateButton=function(){var e=this;this.curSelectView.getCurrentPageIndex()>=this.curSelectView.content.childrenCount-1?setTimeout(function(){e.Next.node.active=!1,e.Skip.active=!0},0):(this.Next.node.active=!0,this.Skip.active=!1),this.Forward.node.active=!1,this.curSelectView.content.children[this.curSelectView.getCurrentPageIndex()+1]&&this.curSelectView.content.children[this.curSelectView.getCurrentPageIndex()+1].children[0]&&this.curSelectView.content.children[this.curSelectView.getCurrentPageIndex()+1].children[0].getComponent(u.default)&&(4!=h.CelerSDK.inst.DifficultyLevel?this.curSelectView.content.children[this.curSelectView.getCurrentPageIndex()+1].removeFromParent(!0):this.curSelectView.content.children[this.curSelectView.getCurrentPageIndex()+1].children[0].getComponent(u.default).onShow(null))},__decorate([g(cc.SpriteAtlas)],t.prototype,"ButtonAtlas",void 0),__decorate([g(cc.Button)],t.prototype,"Next",void 0),__decorate([g(cc.Button)],t.prototype,"Forward",void 0),__decorate([g(cc.Node)],t.prototype,"GuideContent",void 0),__decorate([g(cc.Node)],t.prototype,"HelpContent",void 0),__decorate([g(cc.PageView)],t.prototype,"GuideView",void 0),__decorate([g(cc.PageView)],t.prototype,"HelpView",void 0),t=__decorate([d],t)}(cc.Component);n.default=m,cc._RF.pop()},{"./Const":"Const","./Controller/CelerSDK":"CelerSDK","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Help/MagicPageGuide":"MagicPageGuide","./MouseGuidePage":"MouseGuidePage","./Special/SpecialTutorial":"SpecialTutorial"}],HashMap:[function(e,t,n){"use strict";cc._RF.push(t,"3fb89I0oSVCL4wes+uFEx94","HashMap"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._list=new Array,this.clear()}return e.prototype.getIndexByKey=function(e){for(var t=this._list.length,n=0;n<t;n++){if(this._list[n].key==e)return n}return-1},e.prototype.keyOf=function(e){for(var t=this._list.length,n=0;n<t;n++){var i=this._list[n];if(i.value==e)return i.key}return null},Object.defineProperty(e.prototype,"keys",{get:function(){for(var e=new Array,t=0,n=this._list;t<n.length;t++){var i=n[t];i&&e.push(i.key)}return e},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){var n={key:e,value:t},i=this.getIndexByKey(e);-1!=i?this._list[i]=n:this._list.push(n)},Object.defineProperty(e.prototype,"values",{get:function(){return this._list},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){var t=this.getIndexByKey(e);if(-1!=t){var n=this._list[t];return this._list.splice(t,1),n}return null},e.prototype.has=function(e){return-1!=this.getIndexByKey(e)},e.prototype.get=function(e){var t=this.getIndexByKey(e);return-1!=t?this._list[t].value:null},Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),e.prototype.sort=function(e){this._list.sort(e)},e.prototype.forEachKeyValue=function(e){for(var t=this._list.length,n=0;n<t;n++){e(this._list[n])}},e.prototype.forEach=function(e){for(var t=this._list.length,n=0;n<t;n++){var i=this._list[n];e(i.key,i.value)}},e.prototype.clear=function(){this._list=[]},e}();n.HashMap=i,cc._RF.pop()},{}],HelpViewLabel:[function(e,t,n){"use strict";cc._RF.push(t,"f325ecE+b1EUL7rzVn77YQ0","HelpViewLabel"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Const"),o=e("./table"),a=e("./Utils/Signal"),r=cc._decorator,l=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(a.BaseSignal));n.ShowGuideSignal=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.renderText(),s.inst.addListener(this.renderText,this)},t.prototype.renderText=function(){var e=parseInt(this.node.name),t=[];switch(e){case 0:t=[(-i.Score.BingoFail*i.GetScoreScale()).toString()];break;case 1:case 2:break;case 3:t=[(-i.Score.Oops*i.GetScoreScale()).toString()]}var n=lan.t(o.En_View.BangZhuJieMian,o.En_ID.BangZhuYeMian1+e,t);this.getComponent(cc.RichText).string=n},t=__decorate([l],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./Const":"Const","./Utils/Signal":"Signal","./table":"table"}],InfoView:[function(e,t,n){"use strict";cc._RF.push(t,"75231tKj49NQ5USQ7LIjfD8","InfoView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=cc._decorator,a=o.ccclass,r=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Special=null,t.USD=null,t.Normal=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){switch(t){case 4:e.node.getComponent(cc.Sprite).spriteFrame=e.Special.getSpriteFrame("bg_special");break;case 6:e.node.getComponent(cc.Sprite).spriteFrame=e.USD;break;default:e.node.getComponent(cc.Sprite).spriteFrame=e.Normal}},this)},__decorate([r(cc.SpriteAtlas)],t.prototype,"Special",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"USD",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"Normal",void 0),t=__decorate([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../Controller/Game":"Game"}],Level4View:[function(e,t,n){"use strict";cc._RF.push(t,"7ff0fTFUhJJ0JkQbMuamwvq","Level4View"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=cc._decorator,a=o.ccclass,r=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ShowLevels=[],t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){e.ShowLevels.length>0?e.node.active=e.ShowLevels.indexOf(t)>=0:e.node.active=4==t},this)},__decorate([r({type:cc.Integer})],t.prototype,"ShowLevels",void 0),t=__decorate([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../Controller/Game":"Game"}],LoadLayer:[function(e,t,n){"use strict";cc._RF.push(t,"1bfe9wchfRNVK/geqXwo8+E","LoadLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Shader/TransitionSprite"),o=e("./Controller/Game"),a=e("./Controller/EventManager"),r=e("./Controller/EventName"),l=e("./Const"),s=e("./Controller/UpdateController"),c=e("./Utils/Signal"),u=cc._decorator,h=u.ccclass,p=u.property,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(c.BaseSignal);n.ReadyToStart=d;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.manifest=null,t.time=5,t.isStart=!1,t.TotalWidth=710,t.startTimer=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"StartButton",{get:function(){return this.node.getChildByName("BeginButton")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Background",{get:function(){return this.node.getChildByName("Background")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Position",{get:function(){return this.node.getChildByName("Position")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StartProgress",{get:function(){return this.StartButton.getChildByName("ProgressBar")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpdateInfo",{get:function(){return this.node.getChildByName("UpdateInfo").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Version",{get:function(){return this.node.getChildByName("version").getComponent(cc.Label)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.node.scale=1,this.StartButton.opacity=255,this.StartButton.scale=0,this.manifest&&s.default.inst.setManifest(this.manifest),this.UpdateInfo.node.active=!1,this.Version.node.active=""!=s.default.inst.getVersion(),s.default.inst.addCompleteCallback(this.onComplete,this),s.default.inst.addErrorCallback(this,this.onError),s.default.inst.addProgressCallback(this,this.onProgress),s.default.inst.addStartCallback(this,this.onStart)},t.prototype.onStart=function(e,t){console.log(" startUpdate:",e,",gotoAppStore:",t),t?this.showStartButton():(this.StartProgress.width=0*this.TotalWidth,this.UpdateInfo.node.active=!0,this.UpdateInfo.string="\u66f4\u65b0\u8d44\u6e90\u4e2d...")},t.prototype.onError=function(e,t){console.log("update error:",e),this.showStartButton()},t.prototype.onProgress=function(e,t){"number"!=typeof t&&(t=0),this.StartProgress.width=this.TotalWidth*t,this.UpdateInfo.string="\u66f4\u65b0\u8d44\u6e90\u4e2d..."+(100*t).toFixed(0)+"%"},t.prototype.onComplete=function(e,t){console.log(" update complete:",e),t?s.default.inst.restart():this.showStartButton()},t.prototype.enableBlock=function(e){this.node.getComponent(cc.BlockInputEvents)&&(this.node.getComponent(cc.BlockInputEvents).enabled=e)},t.prototype.showStartButton=function(){var e=this;this.StartProgress.width=this.TotalWidth,this.UpdateInfo.node.active=!1,this.Version.node.active=""!=s.default.inst.getVersion(),this.Version.string="v"+s.default.inst.getVersion(),this.StartButton.runAction(cc.sequence(cc.scaleTo(.15,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){e.startTimer=!0,e.StartButton.on(cc.Node.EventType.TOUCH_START,function(){e.StartProgress.active=!1},e),e.StartButton.on(cc.Node.EventType.TOUCH_END,e.startGame,e)})))},t.prototype.ready=function(){console.log(" loading layer ready"),this.isStart=!1,this.startTimer=!1,this.enableBlock(!0),this.StartProgress.width=this.TotalWidth,this.Position.active=!0;for(var e=0,t=this.Background.children;e<t.length;e++){(r=t[e]).active=r.name==l.Theme[o.Game.Theme],r.getComponent(i.default)&&(r.getComponent(i.default).enabled=r.active,r.active&&(this.transition=r.getComponent(i.default)))}for(var n=0,a=this.Position.children;n<a.length;n++){var r;(r=a[n]).active=r.name==l.Theme[o.Game.Theme]}s.default.inst.checkForUpdate()},t.prototype.startGame=function(){var e=this;this.isStart||(d.inst.dispatch(),this.isStart=!0,this.StartButton.targetOff(this),this.unscheduleAllCallbacks(),this.Position.active=!1,this.transition&&this.transition.enabled?(this.transition.isStart=!0,this.transition.gameStart(),this.StartButton.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.StartButton.active=!1})))):(this.node.active=!1,a.gEventMgr.emit(r.GlobalEvent.GAME_START)))},t.prototype.update=function(e){this.startTimer&&(this.time-=e,this.time=Math.max(0,this.time),this.StartProgress.width=710*this.time/3,this.time<=0&&!this.isStart&&this.startGame())},t.prototype.onDestroy=function(){s.default.inst.destory()},__decorate([p({type:cc.Asset})],t.prototype,"manifest",void 0),t=__decorate([h],t)}(cc.Component);n.default=g,cc._RF.pop()},{"./Const":"Const","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Controller/UpdateController":"UpdateController","./Shader/TransitionSprite":"TransitionSprite","./Utils/Signal":"Signal"}],LogHandler:[function(e,t,n){"use strict";cc._RF.push(t,"8104dX5fRlIPb4q1d60qPIM","LogHandler"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){if(this.logFunc=console.log,this.logMsg=null,this.frameTimes=0,this.now=0,this.Frame=20,this.totalFrames=0,this.startTime=0,window.addEventListener&&CELER_X)for(var t=0,n=e.LISTENNING_EVENTS;t<n.length;t++){var i=n[t],o="trigger"+i.charAt(0).toLocaleUpperCase()+i.substring(1);this[o]&&"function"==typeof this[o]&&window.addEventListener(i,this[o].bind(this))}}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),e.prototype.dumpFrameInfo=function(){var e=(Date.now()-this.startTime)/1e3,t=e/this.totalFrames;this.log(" total frames:",this.totalFrames," ,total cost time:",e+"s"," , per frame cost time ave:"+t+"s")},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.addLog.apply(this,e),this.sendLog()},e.prototype.initLog=function(t){var n=this;cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){n.frameTimes=0,n.now=Date.now(),n.startTime=Date.now()},this),cc.director.on(cc.Director.EVENT_AFTER_DRAW,function(){n.frameTimes++,n.totalFrames++,n.frameTimes>=n.Frame&&(n.frameTimes=0,n.now=Date.now())},this),CELER_X?(this.logFunc=t,console.error=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=e.ins).log.apply(t,["[ERROR]"].concat(n))},console.warn=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=e.ins).log.apply(t,["[WARN]"].concat(n))},console.log=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=e.ins).log.apply(t,["[INFO]"].concat(n))}):this.logFunc=console.log},e.prototype.formatLogArguments=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=0;i<arguments.length;i++){var o=typeof arguments[i];"string"==o||"number"==o?n+=" "+arguments[i]:"object"==o?n+=" "+JSON.stringify(arguments[i]):"boolean"==o&&arguments[i].toString&&(n+=arguments[i].toString())}return n},e.prototype.addLog=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null==this.logMsg&&(this.logMsg={});var i=this.formatLogArguments.apply(this,t),o=this.getFullTime(new Date);this.logMsg[o]=e.VERSION+i},e.prototype.getFullTime=function(e){var t="";t+=e.getFullYear();var n=e.getMonth()+1;t+="-"+(n>=10?n:"0"+n);var i=e.getDate();t+="-"+(i>=10?i:"0"+i);var o=e.getHours();t+="  "+(o>=10?o:"0"+o);var a=e.getMinutes();t+=":"+(a>=10?a:"0"+a);var r=e.getSeconds();return t+=":"+(r>=10?r:"0"+r)},e.prototype.sendLog=function(){this.logFunc&&null!=this.logMsg&&(this.logFunc(JSON.stringify(this.logMsg)),this.logMsg=null)},e.prototype.triggerClose=function(e){this.addLog("triggerClose"),this.sendLog()},e.prototype.triggerLoad=function(e){this.addLog("triggerLoad"),this.sendLog()},e.prototype.triggerUnload=function(e){this.addLog("triggerUnload"),this.sendLog()},e.prototype.triggerOnunload=function(e){this.addLog("triggerUnload"),this.sendLog()},e.prototype.triggerError=function(e){this.addLog("triggerError"),this.addLog(e.message),this.sendLog()},e.prototype.triggerFocus=function(e){this.addLog("triggerFocus"),this.sendLog()},e.prototype.triggerBlur=function(e){this.addLog("triggerBlur"),this.sendLog()},e.prototype.triggerAbort=function(e){this.addLog("triggerAbort"),this.sendLog()},e.prototype.triggerSuspend=function(e){this.addLog("triggerSuspend"),this.sendLog()},e.prototype.beforeunload=function(e){this.addLog("beforeunload"),this.sendLog()},e.VERSION=window.GAME_VERSION||"Daub Cash version 110: ",e.LISTENNING_EVENTS=["error"],e}();n.LogHandler=i,cc._RF.pop()},{}],MagicLayer:[function(e,t,n){"use strict";cc._RF.push(t,"c827aekCwJAg623zHJEGQBN","MagicLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Point"),o=e("./Controller/EventManager"),a=e("./Controller/EventName"),r=e("./Controller/Game"),l=e("./FrameAniBase"),s=e("./Const"),c=e("./table"),u=cc._decorator,h=u.ccclass,p=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PenAtlas=null,t.pause=!1,t.Frame=null,t.Pen=null,t.TotalTime=7,t.time=7,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;console.log(" Magic layer on load"),this.node.scale=0,o.gEventMgr.targetOff(this),o.gEventMgr.on(a.GlobalEvent.MAGIC_DAUB,this.onMagicDaub,this),o.gEventMgr.on(a.GlobalEvent.MAGIC_TIP,this.showTip,this),o.gEventMgr.on(a.GlobalEvent.CHANGE_CARD_TAB,function(){e.Tip.scale=0},this),o.gEventMgr.on(a.GlobalEvent.ON_HIDE,function(){setTimeout(function(){console.log("magic skill pause:",s.SkillType[r.Game.getCurMode()]),e.pause=!0},0)},this),o.gEventMgr.on(a.GlobalEvent.SKILL_RESUME,function(){setTimeout(function(){console.log("magic skill resume:",s.SkillType[r.Game.getCurMode()]),e.pause=!1},0)},this)},t.prototype.start=function(){console.log(" Magic layer on start")},Object.defineProperty(t.prototype,"AnimationRoot",{get:function(){return this.node.getChildByName("Animation")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Point",{get:function(){return this.node.getChildByName("Point").getComponent(i.default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBar",{get:function(){return this.node.getChildByName("TimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeLabel",{get:function(){return this.TimeBar.node.getChildByName("TimeLabel").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Tip",{get:function(){return this.node.getChildByName("Tip")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TipLabel",{get:function(){return this.Tip.getChildByName("Label").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),t.prototype.onMagicDaub=function(){this.Pen.stopAllActions(),this.Pen.getComponent(l.default).play(),this.Pen.getComponent(l.default).onComplete=function(){o.gEventMgr.emit(a.GlobalEvent.SKILL_DONE)}},t.prototype.show=function(e){this.Time=this.TotalTime,this.Tip.scale=0,this.node.active=!0,this.node.scale=1,this.Point.setValue(e),this.TipLabel.string=lan.t(c.En_View.TiShiTiao,c.En_ID.MoFaQiuTiShi);for(var t=0,n=this.AnimationRoot.children;t<n.length;t++){var i=n[t];i.active=i.name==this.Point.WordString,i.active&&(this.Frame=i.getChildByName("Frame"),this.Pen=i.getChildByName("Pen"))}if(null==this.Frame||null==this.Pen)return console.error(" this.Frame == null || this.Pen == null "),void o.gEventMgr.emit(a.GlobalEvent.SKILL_DONE);r.Game.hasDaubMagicBall=!1,this.Frame.opacity=255,this.Frame.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.15),cc.fadeIn(.2)))),this.Pen.getComponent(cc.Sprite).spriteFrame=this.PenAtlas.getSpriteFrame("bg_magic02"),this.Pen.opacity=255,this.Pen.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.15),cc.fadeIn(.2))))},t.prototype.hide=function(){this.node.active=!1},t.prototype.showTip=function(e,t){this.Tip.setPosition(CMath.ConvertToNodeSpaceAR(e,this.Tip.getParent())),this.Tip.scale>0?t?this.Tip.runAction(cc.scaleTo(.1,0)):this.Tip.runAction(cc.sequence(cc.moveBy(.025,-5,0),cc.moveBy(.05,10,0),cc.moveBy(.05,-10,0),cc.moveBy(.025,5,0))):t||this.Tip.runAction(cc.sequence(cc.scaleTo(.05,1.2),cc.scaleTo(.05,1)))},Object.defineProperty(t.prototype,"Time",{get:function(){return this.time},set:function(e){this.time=e,this.time=Math.max(0,this.time),this.TimeLabel.string=Math.ceil(this.time).toString(),this.TimeBar.progress=this.time/this.TotalTime,this.time<=0&&o.gEventMgr.emit(a.GlobalEvent.SKILL_DONE)},enumerable:!0,configurable:!0}),t.prototype.update=function(e){this.node.active&&!this.pause&&(this.Time-=e)},__decorate([p(cc.SpriteAtlas)],t.prototype,"PenAtlas",void 0),t=__decorate([h],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./Const":"Const","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./FrameAniBase":"FrameAniBase","./Point":"Point","./table":"table"}],MagicPageGuide:[function(e,t,n){"use strict";cc._RF.push(t,"a6eb6F1U0FNX7wCy5Iq8Hk+","MagicPageGuide"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../FrameAniBase"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=8,t}return __extends(t,e),Object.defineProperty(t.prototype,"TimeBar",{get:function(){return this.node.getChildByName("TimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeLabel",{get:function(){return this.TimeBar.node.getChildByName("TimeLabel").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CardAni",{get:function(){return this.node.getChildByName("card").getComponent(i.default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"HandAni",{get:function(){return this.node.getChildByName("touch").getComponent(i.default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Frame",{get:function(){return this.node.getChildByName("O").getChildByName("Frame")},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.start=function(){this.reset()},Object.defineProperty(t.prototype,"Time",{get:function(){return this.time},set:function(e){this.time=e,this.time=Math.max(0,this.time),this.TimeLabel.string=Math.floor(this.time).toString(),this.TimeBar.progress=this.time/10},enumerable:!0,configurable:!0}),t.prototype.reset=function(){var e=this;this.Time=8,this.HandAni.node.opacity=0,this.CardAni.node.opacity=0,this.Frame.opacity=255,this.Frame.stopAllActions(),console.log("\u9b54\u6cd5\u7403\u5f15\u5bfc\u9875\u9762reset"),this.Frame.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.15),cc.fadeIn(.2)))),setTimeout(function(){e.HandAni.play(),e.HandAni.node.opacity=255},1e3),this.HandAni.onKeyFrame=function(t){3==t&&(e.CardAni.node.opacity=255,e.CardAni.play())},this.HandAni.onComplete=function(){e.HandAni.node.runAction(cc.fadeOut(.1))},this.CardAni.onComplete=function(){setTimeout(function(){e.CardAni.node.runAction(cc.fadeOut(.1)),e.reset(),e.onComplete()},1e3)}},t.prototype.onComplete=function(){},t.prototype.update=function(e){this.Time-=e,this.Time<=4&&this.reset()},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../FrameAniBase":"FrameAniBase"}],MouseGuidePage:[function(e,t,n){"use strict";cc._RF.push(t,"d8f62swh41NQrpkpv9WU4DY","MouseGuidePage"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Const"),o=e("./FrameAniBase"),a=cc._decorator,r=a.ccclass,l=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SuperLightAtlas=null,t.time=8,t.superHighLightCount=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"Light",{get:function(){return this.node.getChildByName("Light")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Touch",{get:function(){return this.node.getChildByName("AnimationTouch")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBar",{get:function(){return this.node.getChildByName("TimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeLabel",{get:function(){return this.TimeBar.node.getChildByName("TimeLabel").getComponent(cc.Label)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.reset()},Object.defineProperty(t.prototype,"Time",{get:function(){return this.time},set:function(e){this.time=e,this.time=Math.max(0,this.time),this.TimeLabel.string=Math.floor(this.time).toString(),this.TimeBar.progress=this.time/10},enumerable:!0,configurable:!0}),t.prototype.updateTouch=function(){for(var e=0,t=this.Touch.children;e<t.length;e++){var n=t[e],i=n.getComponent(o.default),a=n.getComponent(cc.Sprite);parseInt(n.name)<=this.superHighLightCount?(n.active=!0,a.spriteFrame=i.Frames.getSpriteFrame("ae_new_07")):n.active=!1}},t.prototype.nextTouch=function(){var e=this;this.superHighLightCount++;var t=this.Touch.getChildByName(this.superHighLightCount.toString());if(t){var n=t.getComponent(o.default);t.active=!0,n.onComplete=function(){e.updateTouch(),e.updateLight(),setTimeout(function(){e.nextTouch()},1e3)},n.play()}else this.onComplete(),this.reset()},t.prototype.updateLight=function(){for(var e=function(e){parseInt(e.name)<=t.superHighLightCount?e.getComponent(cc.Animation).getAnimationState("shink").isPlaying||(e.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.getComponent(cc.Animation).play("shink")},t),e.getComponent(cc.Animation).play("turn")):(e.getComponent(cc.Animation).stop(),e.getComponent(cc.Sprite).spriteFrame=t.SuperLightAtlas.getSpriteFrame(i.SuperLight.Gray))},t=this,n=0,o=this.Light.children;n<o.length;n++){e(o[n])}},t.prototype.reset=function(){this.superHighLightCount=0,this.Time=8,this.updateTouch(),this.updateLight(),this.nextTouch()},t.prototype.onComplete=function(){},t.prototype.update=function(e){this.Time-=e,this.Time<=0&&this.reset()},__decorate([l(cc.SpriteAtlas)],t.prototype,"SuperLightAtlas",void 0),t=__decorate([r],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./Const":"Const","./FrameAniBase":"FrameAniBase"}],NextCardView:[function(e,t,n){"use strict";cc._RF.push(t,"fd453wFSkhIgp3fIbqxDryu","NextCardView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Signal"),o=e("./SpecialLogic"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal));n.StartGenPointSignal=l;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.active=!1,o.RoundEndSignal.inst.addOnce(this.onRoundEnd,this)},t.prototype.onRoundEnd=function(){var e=this;this.node.scale=0,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1),cc.delayTime(2),cc.scaleTo(.1,0),cc.callFunc(function(){e.node.active=!1,l.inst.dispatch()}))),setTimeout(function(){o.RoundEndSignal.inst.addOnce(e.onRoundEnd,e),o.NextRoundSignal.inst.dispatch()},1e3)},t=__decorate([r],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../Utils/Signal":"Signal","./SpecialLogic":"SpecialLogic"}],NumberChangedView:[function(e,t,n){"use strict";cc._RF.push(t,"d9985fV+LtECJWTTunspJlQ","NumberChangedView"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.num=0,t.showNum=0,t.step=0,t.label=null,t.action=!0,t.STEP=60,t.scale=1,t.preFix="",t.callback=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"Label",{get:function(){return this.label?this.label:this.label=this.node.getComponent(cc.Label)},enumerable:!0,configurable:!0}),t.prototype.setNumber=function(e){this.showNum=e,this.num=e,1==this.scale?this.Label.string=this.preFix+e.toString():this.Label.string=this.preFix+(e/this.scale).toFixed(2)},t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onStep=function(e){},t.prototype.onNumberChanged=function(e,t){if(this.num=e,this.callback=t,this.num!=this.showNum){var n=this.num-this.showNum;this.step=n>0?Math.ceil(n/this.STEP):Math.floor(n/this.STEP),this.action&&this.node.runAction(cc.sequence(cc.scaleTo(.1,1.4),cc.delayTime(.05),cc.scaleTo(.1,1)))}else this.step=0},t.prototype.update=function(e){this.num!=this.showNum&&(this.showNum+=this.step,this.onStep(this.step),(this.showNum>this.num&&this.step>0||this.showNum<this.num&&this.step<0)&&(this.showNum=this.num,this.step=0)),Math.abs(this.num-this.showNum)<=Math.abs(this.step)&&this.callback&&"function"==typeof this.callback&&(this.callback(),this.callback=null),1==this.scale?this.Label.string=this.showNum>=0?this.preFix+this.showNum.toString():this.preFix+"/"+Math.abs(this.showNum).toString():this.Label.string=this.showNum>=0?this.preFix+(this.showNum/this.scale).toFixed(2):this.preFix+"/"+Math.abs(this.showNum/this.scale).toFixed(2)},t=__decorate([o],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],Pad:[function(e,t,n){"use strict";cc._RF.push(t,"482dbcxNt1HaKHvMljr3XXT","Pad"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t=__decorate([o],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],PauseLayer:[function(e,t,n){"use strict";cc._RF.push(t,"c98ebyBcvpGl54TB3ikQEWN","PauseLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/Game"),o=e("./Const"),a=e("./Controller/EventManager"),r=e("./Controller/EventName"),l=e("./table"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeCallback=null,t.openHelp=null,t.MaskWidth=440,t}return __extends(t,e),Object.defineProperty(t.prototype,"ResumeButton",{get:function(){return this.node.getChildByName("Resume")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"HelpButton",{get:function(){return this.node.getChildByName("HelpButton")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Content",{get:function(){return this.node.getChildByName("Content").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"EndNow",{get:function(){return this.node.getChildByName("btn_end")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SoundButton",{get:function(){return this.node.getChildByName("SoundButton").getComponent(cc.Button)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.ResumeButton.on(cc.Node.EventType.TOUCH_END,function(t){t.bubbles=!1,setTimeout(e.hide.bind(e),0)},this),this.HelpButton.on(cc.Node.EventType.TOUCH_END,function(){e.openHelp&&e.openHelp()},this),this.EndNow.on(cc.Node.EventType.TOUCH_END,function(){e.hide(!1),console.log(" player click end now ."),a.gEventMgr.emit(r.GlobalEvent.GAME_OVER,o.OverType.GameOver)},this),this.SoundButton.interactable=!0,this.SoundButton.node.on(cc.Node.EventType.TOUCH_END,function(){e.SoundButton.interactable=!e.SoundButton.interactable;var t=e.SoundButton.interactable?1:0;cc.audioEngine.setMusicVolume(t),cc.audioEngine.setEffectsVolume(t)},this)},t.prototype.onSlider=function(){},t.prototype.onEffectSlider=function(){},t.prototype.start=function(){},t.prototype.show=function(e,t){if(!this.node.active){console.log(" pause layer show !"),this.closeCallback=t,this.openHelp=e,this.node.active=!0,i.Game.pause();var n=Math.max(0,o.PauseLimit-i.Game.getPauseCount());this.Content.string=n>0?lan.t(l.En_View.ZanTingJieMian,l.En_ID.MianFeiZanTing,[n.toString(),(o.PausePenilthBase*o.GetScoreScale()).toString()]):lan.t(l.En_View.ZanTingJieMian,l.En_ID.ZanTingKouFen,[""+((o.PausePenilty*(i.Game.getPauseCount()-2)+o.PausePenilthBase)*o.GetScoreScale()).toString()])}},t.prototype.hide=function(e){void 0===e&&(e=!0),0!=this.node.active&&(this.node.active=!1,e&&i.Game.addPauseCount(),this.closeCallback&&(this.closeCallback(),this.closeCallback=null))},t=__decorate([c],t)}(cc.Component));n.default=u,cc._RF.pop()},{"./Const":"Const","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./table":"table"}],Point:[function(e,t,n){"use strict";cc._RF.push(t,"9e72aDeGvxJjI3bwYHxFww7","Point"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/Game"),o=e("./Const"),a=e("./Controller/EventManager"),r=e("./Controller/EventName"),l=e("./Controller/CelerSDK"),s=e("./Special/SpecialLogic"),c=e("./Controller/GameFactory"),u=cc._decorator,h=u.ccclass,p=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOnSkillLayer=!1,t.totalTime=0,t.currentTime=0,t.value=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"TimeBar",{get:function(){return this.node.getChildByName("TimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Icon",{get:function(){return this.node.getChildByName("Icon")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NumberLabel",{get:function(){return this.node.getChildByName("Label").getChildByName("Number").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentTime",{get:function(){return this.currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TotalTime",{get:function(){return this.totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StringValue",{get:function(){return this.word+"."+this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Word",{get:function(){return this.word},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WordString",{get:function(){return o.CardWord[this.word]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeLeftPercent",{get:function(){return this.totalTime<=0?0:this.currentTime/this.totalTime},enumerable:!0,configurable:!0}),t.prototype.onSetParent=function(e){var t=this;e&&(this.TimeBar.node.active="CurrentPoint"==e.name,this.TimeBar.node.active?(i.Game.getGameTime()>=o.TimeLimit?this.totalTime=(window.chichihaoshuaihahaha,i.Game.LevelInfo.RewardTime.One):this.totalTime=(window.chichihaoshuaihahaha,i.Game.LevelInfo.RewardTime.Two),this.currentTime=this.totalTime,a.gEventMgr.emit(r.GlobalEvent.PLAY_EFFECT,o.CardWord[this.word],!1,function(){a.gEventMgr.emit(r.GlobalEvent.PLAY_EFFECT,t.value)})):(this.totalTime=0,this.currentTime=0))},Object.defineProperty(t.prototype,"isGoldSelectMode",{get:function(){return"SelectRoot"==this.node.getParent().name},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,this.onTouch,this),s.RoundEndSignal.inst.addListener(function(){e.isOnSkillLayer||c.gFactory.putObj("Point",e.node)},this)},t.prototype.reuse=function(){this.node.stopAllActions(),this.node._onSetParent=this.onSetParent.bind(this),this.NumberLabel.node.active=!0,this.TimeBar.progress=1,this.TimeBar.node.active=!1,this.node.scale=1,this.node.active=!0,this.setValue(arguments[0][0])},t.prototype.onTouch=function(e){console.log(this.node.parent.name),this.isGoldSelectMode&&(i.Game.goldSelectValue=this.value,a.gEventMgr.emit(r.GlobalEvent.GOLD_POINT_SELECT_DONE))},t.prototype.setValue=function(e){console.log(" point set val:",e),this.value=e;for(var t=o.CardWord.B;t<=o.CardWord.O;t++)if(this.value>=(t-1)*o.CardStep+1&&this.value<=t*o.CardStep){this.word=t;break}this.NumberLabel.string=this.value.toString();for(var n=0,i=this.Icon.children;n<i.length;n++){var a=i[n];a.active=a.name==o.CardWord[this.word]}},t.prototype.unuse=function(){this.node.targetOff(this),this.NumberLabel.node.active=!1,this.node.active=!1},t.prototype.update=function(e){this.TimeBar.node.active&&this.totalTime>0&&!i.Game.isPause()&&i.Game.isStart&&(this.currentTime-=e,this.TimeBar.progress=this.currentTime/this.totalTime,this.TimeBar.node.active=this.currentTime>0,this.currentTime<=0&&this.goToRewardArray())},t.prototype.addTime=function(e){l.CelerSDK.inst.isOnCelerPlatform()||i.Game.LevelInfo.RewardTime.One<10&&!window.chichihaoshuaihahaha||(this.currentTime+=e,this.currentTime=Math.max(0,this.currentTime))},t.prototype.goToRewardArray=function(){this.TimeBar.node.active=!1,a.gEventMgr.emit(r.GlobalEvent.ADD_2_NORMAL_REWARD,this.node)},__decorate([p],t.prototype,"isOnSkillLayer",void 0),t=__decorate([h],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./Const":"Const","./Controller/CelerSDK":"CelerSDK","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Controller/GameFactory":"GameFactory","./Special/SpecialLogic":"SpecialLogic"}],Reminder:[function(e,t,n){"use strict";cc._RF.push(t,"03c8azTaURGtZC6qcEVyntC","Reminder"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../FrameAniBase"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.round=0,t.playCount=0,t.circleCount=0,t.isStop=!0,t}return __extends(t,e),Object.defineProperty(t.prototype,"Light",{get:function(){return this.node.getChildByName("Click").getComponent(i.default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Hand",{get:function(){return this.node.getChildByName("Hand").getComponent(i.default)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){},t.prototype.start=function(){this.node.active=!1},t.prototype.play=function(){var e=this;this.isStop||this.node.active||(this.node.active=!0,this.round=0,this.playCount=0,this.circleCount=0,this.Hand.node.active=!0,this.Hand.node.opacity=0,this.Light.node.active=!0,this.Light.onKeyFrame=function(t){0==t&&(e.Light.node.opacity=255)},this.Hand.onKeyFrame=function(t){0==t&&(e.Hand.node.opacity=255)},this.Light.onComplete=function(){e.playCount++,e.Light.node.opacity=0,e.playCount>=5?(e.playCount=0,e.round++,e.round>=2?(e.Light.onComplete=function(){e.playCount++,e.Light.node.opacity=0,e.Hand.node.opacity=0,e.playCount>=5?(e.circleCount++,setTimeout(function(){e.node.active=!1,e.play()},3e3)):(e.Hand.play(),e.Light.play())},e.playCount=0,setTimeout(function(){e.Hand.play(),e.Light.play()},2e3)):setTimeout(function(){e.Light.play()},2e3)):e.Light.play()},this.Light.play())},t.prototype.stop=function(){this.isStop=!0,this.node.active=!1,this.Hand.onComplete=function(){},this.Light.onComplete=function(){},this.Hand.stop(),this.Light.stop()},t.prototype.update=function(e){},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../FrameAniBase":"FrameAniBase"}],ResultLayer:[function(e,t,n){"use strict";cc._RF.push(t,"37000IS74xCBIj2O3JKO3wm","ResultLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/Game"),o=e("./Controller/CelerSDK"),a=e("./Const"),r=e("./Controller/EventManager"),l=e("./Controller/EventName"),s=e("./Controller/UpdateController"),c=e("./Utils/GameSignal"),u=e("./table"),h=cc._decorator,p=h.ccclass,d=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TitleAtlas=null,t.Hource=null,t.showLabel={},t.label={},t.step={},t.curDoneCount=0,t.startUpdate=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"FlowerAnimation",{get:function(){return this.node.getChildByName("FlowerAnimation").getComponent(cc.Animation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SubmitButton",{get:function(){return this.node.getChildByName("SubmitButton").getComponent(cc.Button)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Content",{get:function(){return this.node.getChildByName("Content").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LabelRoot",{get:function(){return this.node.getChildByName("LabelRoot")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Title",{get:function(){return this.node.getChildByName("Title").getComponent(cc.Sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Background",{get:function(){return this.node.getChildByName("Background")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ResultLight",{get:function(){return this.node.getChildByName("bg_resultlight")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Position",{get:function(){return this.node.getChildByName("Position")},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.SubmitButton.node.on(cc.Node.EventType.TOUCH_END,this.onSubmit,this),this.Hource.setEventListener(this.eventListener.bind(this))},t.prototype.eventListener=function(e,t){switch(t.stringValue){case"light":this.FlowerAnimation.play(),r.gEventMgr.emit(l.GlobalEvent.PLAY_EFFECT,"result_dev"),this.ResultLight.runAction(cc.repeatForever(cc.rotateBy(.01,.5)))}},t.prototype.onSubmit=function(){o.CelerSDK.inst.isOnCelerPlatform()?o.CelerSDK.inst.submitScore(i.Game.getScore()):s.default.inst.restart()},t.prototype.initScoreLabel=function(){var e=i.Game.getBingoScore();e[a.ScoreCountType[a.ScoreCountType.BingoCount]]=i.Game.bingoCount,e[a.ScoreCountType[a.ScoreCountType.OverBingoCount]]=i.Game.getTotalBingoTimes(),e[a.ScoreCountType[a.ScoreCountType.AllBingoCount]]=i.Game.getAllBingoCardCount(),console.log(" game score:",e),this.showLabel={},this.label={},this.curDoneCount=0,this.startUpdate=!1;for(var t=0,n=this.LabelRoot.children;t<n.length;t++){var o=n[t],r=o.getComponent(cc.Label);r?(o.active=!0,r.string="0",this.showLabel[o.name]=0,this.label[o.name]=e[o.name]||0,this.label[o.name]>0?this.step[o.name]=Math.max(1,Math.floor(this.label[o.name]/100)):this.label[o.name]<0?this.step[o.name]=Math.min(-1,Math.ceil(this.label[o.name]/100)):(this.step[o.name]=0,this.addDoneCount())):(console.error(o.name,"'s component  cc.Label is missiing!"),o.active=!1)}console.log(" init result label :",this.LabelRoot.childrenCount),console.log(this.label),console.log("====== step =========="),console.log(this.step),console.log(" show label"),console.log(this.showLabel),this.startUpdate=!0},t.prototype.show=function(e){if(!this.node.active){this.Content.string=lan.t(u.En_View.JieSuanJieMian,u.En_ID.DeFen),c.ResultLayerShow.inst.dispatch(),r.gEventMgr.emit(l.GlobalEvent.NORMAL_BGM),i.Game.getAllBingoCardCount()>=2?r.gEventMgr.emit(l.GlobalEvent.PLAY_EFFECT,"over_complete"):r.gEventMgr.emit(l.GlobalEvent.PLAY_EFFECT,"over_time_up");for(var t=0,n=this.Background.children;t<n.length;t++){(p=n[t]).active=p.name==a.Theme[i.Game.Theme]}for(var s=0,h=this.Position.children;s<h.length;s++){var p;(p=h[s]).active=p.name==a.Theme[i.Game.Theme]}console.log(" result layer show, matchid:",o.CelerSDK.inst.MatchID,", seed:",o.CelerSDK.inst.MatchRandomSeed),this.SubmitButton.node.scale=0,i.Game.pause(),this.initScoreLabel(),this.Title.spriteFrame=this.TitleAtlas.getSpriteFrame(a.OverFont[a.OverType[e]]),this.node.active=!0}},t.prototype.hide=function(){i.Game.resume(),this.node.active=!1},t.prototype.addDoneCount=function(){var e=this;this.curDoneCount++,console.log("curDone:",this.curDoneCount,", total:",this.LabelRoot.childrenCount),this.curDoneCount>=this.LabelRoot.childrenCount&&(this.startUpdate=!1,this.SubmitButton.node.runAction(cc.sequence(cc.scaleTo(.15,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){e.scheduleOnce(function(){o.CelerSDK.inst.submitScore(i.Game.getScore())},5)}))))},t.prototype.update=function(){if(this.startUpdate)for(var e=0,t=this.LabelRoot.children;e<t.length;e++){var n=t[e],i=n.name;if(n.active&&this.showLabel[i]!=this.label[i]){var o=n.getComponent(cc.Label);o&&(this.label[i]!=this.showLabel[i]&&0!=this.step[i]&&(this.showLabel[i]+=this.step[i]),(this.step[i]>0&&this.showLabel[i]>this.label[i]||this.step[i]<0&&this.showLabel[i]<this.label[i])&&(this.showLabel[i]=this.label[i]),o.string=this.showLabel[i]>0?this.showLabel[i]:"/"+Math.abs(this.showLabel[i]),this.showLabel[i]==this.label[i]&&this.addDoneCount())}}},__decorate([d(cc.SpriteAtlas)],t.prototype,"TitleAtlas",void 0),__decorate([d(sp.Skeleton)],t.prototype,"Hource",void 0),t=__decorate([p],t)}(cc.Component);n.default=g,cc._RF.pop()},{"./Const":"Const","./Controller/CelerSDK":"CelerSDK","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Controller/UpdateController":"UpdateController","./Utils/GameSignal":"GameSignal","./table":"table"}],ScorePosition:[function(e,t,n){"use strict";cc._RF.push(t,"4f688bMj1FLS6CleCfDOblZ","ScorePosition"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Controller/Game"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){e.node.x=6==t?-270.367:-179},this)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../../Controller/Game":"Game"}],Score:[function(e,t,n){"use strict";cc._RF.push(t,"145bfRPC9pPLaM0crpB/9nD","Score"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/EventManager"),o=e("./Controller/EventName"),a=e("./Const"),r=e("./Controller/Game"),l=cc._decorator,s=l.ccclass,c=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setParentCallback=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"ScoreFail",{get:function(){return this.node.getChildByName("ScoreFail").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ScoreSuccess",{get:function(){return this.node.getChildByName("Score").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Text",{get:function(){return this.node.getChildByName("Text").getComponent(cc.Sprite)},enumerable:!0,configurable:!0}),t.prototype.onSetParent=function(e){e&&this.setParentCallback&&this.setParentCallback()},t.prototype.reuse=function(){var e=this;this.node._onSetParent=this.onSetParent.bind(this);var t=arguments[0][0],n=arguments[0][1],l=arguments[0][2],s=arguments[0][3],c=arguments[0][4];this.node.active=!0,this.ScoreFail.node.active=!0,this.ScoreSuccess.node.active=!0,this.Text.node.active=null!=c,t>0?(this.ScoreSuccess.string="/"+t.toString(),this.ScoreFail.string=""):(this.ScoreFail.string="/"+Math.abs(t).toString(),this.ScoreSuccess.string="");var u=t>0?this.ScoreSuccess:this.ScoreFail;t>0?t>a.Score.Normal?r.Game.isOver||i.gEventMgr.emit(o.GlobalEvent.PLAY_EFFECT,"extra_score"):r.Game.isOver||i.gEventMgr.emit(o.GlobalEvent.PLAY_EFFECT,"score"):0==t||r.Game.isOver||i.gEventMgr.emit(o.GlobalEvent.PLAY_EFFECT,"oop_score"),this.Text.node.active?(this.Text.spriteFrame=c,u.node.x=0):u.node.x=-70*u.string.length/2,u.node.opacity=0!=t?255:0,0==t?(this.Text.node.x=0,this.Text.node.anchorX=.5):(this.Text.node.x=0,this.Text.node.anchorX=1),this.ScoreFail.node.scale=0,this.ScoreSuccess.node.scale=0,this.setParentCallback=function(){var a=CMath.Distance(l.position,e.node.position)/1950,r=CMath.ConvertToNodeSpaceAR(l,e.node),c=0,h=0;0==t&&(h=1);var p=[];e.Text.node.active&&(e.Text.node.scale=0,e.Text.node.opacity=255,e.Text.node.runAction(cc.sequence(cc.scaleTo(.1,1.2*n),cc.callFunc(function(){0==t&&i.gEventMgr.emit(o.GlobalEvent.PLAY_EFFECT,"timeup")}),cc.delayTime(.4),cc.scaleTo(.1,1*n),cc.delayTime(h),cc.spawn(cc.scaleTo(.3,0),cc.fadeOut(.1)),cc.callFunc(function(){0==t&&(console.log(" text action done!"),s&&s())}))),c=.2),u.node.opacity>10&&(p=[cc.delayTime(c),cc.scaleTo(.1,1.2*n),cc.delayTime(.2),cc.scaleTo(.1,1*n),cc.callFunc(function(){e.node.runAction(cc.sequence(cc.delayTime(a/2),cc.callFunc(function(){e.node.setParent(e.node.getParent().getParent())})))}),cc.spawn(cc.moveTo(a,r).easing(cc.easeInOut(1)),cc.fadeOut(a)),cc.scaleTo(.3,0),cc.callFunc(function(){s&&s()})],u.node.runAction(cc.sequence(p)))}},t.prototype.unuse=function(){this.Text.node.x=0,this.Text.node.y=0,this.Text.node.stopAllActions(),this.ScoreFail.node.x=0,this.ScoreFail.node.y=0,this.ScoreSuccess.node.x=0,this.ScoreSuccess.node.y=0,this.ScoreFail.node.stopAllActions(),this.ScoreFail.node.scale=1,this.ScoreFail.node.opacity=255,this.ScoreSuccess.node.stopAllActions(),this.ScoreSuccess.node.scale=1,this.ScoreSuccess.node.opacity=255,this.ScoreFail.node.active=!1,this.ScoreSuccess.node.active=!1,this.node.active=!1,this.node.stopAllActions(),this.setParentCallback=null},t=__decorate([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"./Const":"Const","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game"}],Signal:[function(e,t,n){"use strict";cc._RF.push(t,"85c5ci/wmNHyKlv3+6StAlz","Signal"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listenerMap=[],t.onceListenerMap=[],t}return __extends(t,e),t.prototype.doDispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.excuteListener.apply(this,e),this.excuteOnce.apply(this,e)},t.prototype.excuteListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.listenerMap&&this.listenerMap.length>0)for(var n=0,i=this.listenerMap;n<i.length;n++){var o=i[n];o.callback.apply(o.target,e)}},t.prototype.excuteOnce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.onceListenerMap&&this.onceListenerMap.length>0){for(var n=0,i=this.onceListenerMap;n<i.length;n++){var o=i[n];o.callback.apply(o.target,e)}this.onceListenerMap.length=0}},t.prototype.listen=function(e,t){this.listenerMap.push({callback:e,target:t})},t.prototype.listenOnce=function(e,t){this.onceListenerMap.push({callback:e,target:t})},t.prototype.removeListener=function(e,t){if(this.listenerMap&&this.listenerMap.length>0)for(var n=0;n<this.listenerMap.length;++n){var i=this.listenerMap[n];i.callback==e&&i.target==t&&(this.listenerMap.splice(n,1),--n)}},t.prototype.removeTarget=function(e){if(this.listenerMap&&this.listenerMap.length>0)for(var t=0;t<this.listenerMap.length;++t){this.listenerMap[t].target==e&&(this.listenerMap.splice(t,1),--t)}},t.prototype.dispatch=function(){this.doDispatch(null)},t.prototype.dispatchOne=function(e){this.doDispatch(e)},t.prototype.dispatchTwo=function(e,t){this.doDispatch(e,t)},t.prototype.dispatchThree=function(e,t,n){this.doDispatch(e,t,n)},t.prototype.dispatchFour=function(e,t,n,i){this.doDispatch(e,t,n,i)},t.prototype.dispatchFive=function(e,t,n,i,o){this.doDispatch(e,t,n,i,o)},t.prototype.addListener=function(e,t){this.listen(e,t)},t.prototype.addOnce=function(e,t){this.listenOnce(e,t)},t.prototype.addListenerOne=function(e,t){this.listen(e,t)},t.prototype.addListenerTwo=function(e,t){this.listen(e,t)},t.prototype.addListenerThree=function(e,t){this.listen(e,t)},t.prototype.addListenerFour=function(e,t){this.listen(e,t)},t.prototype.addListenerFive=function(e,t){this.listen(e,t)},t.prototype.addOnceOne=function(e,t){this.listenOnce(e,t)},t.prototype.addOnceTwo=function(e,t){this.listenOnce(e,t)},t.prototype.addOnceThree=function(e,t){this.listenOnce(e,t)},t.prototype.addOnceFour=function(e,t){this.listenOnce(e,t)},t.prototype.addOnceFive=function(e,t){this.listenOnce(e,t)},t}(e("./ToSingleton").SingleTon());n.BaseSignal=i,cc._RF.pop()},{"./ToSingleton":"ToSingleton"}],SkillPage:[function(e,t,n){"use strict";cc._RF.push(t,"4a566yh2NVEdrXc4uWoN/P6","SkillPage"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=e("../Const"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){i.Game.LevelInfo.Skills.all.indexOf(o.SkillType[this.node.name])<0&&(console.log(" \u5220\u9664\u5f15\u5bfc\u9875\u9762:",this.node.name),this.node.removeFromParent(!0))},t.prototype.start=function(){},t=__decorate([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../Const":"Const","../Controller/Game":"Game"}],SkillReminder:[function(e,t,n){"use strict";cc._RF.push(t,"38c28H3NTdO15uR4EGgjfz6","SkillReminder"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/GameSignal"),o=e("./Reminder"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFull=!1,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.SkillFullSignal.inst.addListenerOne(function(t){var n=e.getComponent(o.default);e.isFull!=t&&n&&(e.isFull=t,n.isStop=!t,e.isFull?n.play():n.stop())},this)},t.prototype.start=function(){},t.prototype.onDestroy=function(){i.SkillFullSignal.inst.removeTarget(this)},t=__decorate([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../Utils/GameSignal":"GameSignal","./Reminder":"Reminder"}],SkillTip:[function(e,t,n){"use strict";cc._RF.push(t,"b2d0avc+mRE3K+KTvNfUqhr","SkillTip"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/EventManager"),o=e("./Controller/EventName"),a=e("./table"),r=cc._decorator,l=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"Label",{get:function(){return this.node.getChildByName("Label").getComponent(cc.RichText)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.node.scaleX=0,i.gEventMgr.targetOff(this),i.gEventMgr.on(o.GlobalEvent.SKILL_TIP,this.onTip,this);for(var e=0,t=[o.GlobalEvent.BINGO,o.GlobalEvent.ADD_SCORE,o.GlobalEvent.CHANGE_CARD_TAB,o.GlobalEvent.CHANGE_GAME_MODE,o.GlobalEvent.CHANGE_SKILL_ORDER,o.GlobalEvent.SHOW_SKILL_GUIDE,o.GlobalEvent.ADD_2_NORMAL_REWARD];e<t.length;e++){var n=t[e];i.gEventMgr.on(n,this.hideTip,this)}},t.prototype.start=function(){},t.prototype.onTip=function(){this.Label.string=lan.t(a.En_View.TiShiTiao,a.En_ID.DaoJuShiYongTiShi),this.node.scaleX>0?this.node.runAction(cc.sequence(cc.moveBy(.025,-5,0),cc.moveBy(.05,10,0),cc.moveBy(.05,-10,0),cc.moveBy(.025,5,0))):this.node.runAction(cc.scaleTo(.1,1,1))},t.prototype.hideTip=function(){this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.1,0,1))},t.prototype.update=function(e){},t=__decorate([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./table":"table"}],Skill:[function(e,t,n){"use strict";cc._RF.push(t,"02d8d4FjeFEz4GYY7djfM63","Skill"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/GameFactory"),o=e("./Const"),a=e("./Controller/Game"),r=e("./Controller/CelerSDK"),l=e("./Controller/EventManager"),s=e("./Controller/EventName"),c=e("./Point"),u=e("./Special/SpecialLogic"),h=cc._decorator,p=h.ccclass,d=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ready=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"Background",{get:function(){return this.node.getChildByName("Background").getComponent(cc.Sprite)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Animation",{get:function(){return this.node.getComponent(cc.Animation)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;u.RoundEndSignal.inst.addListener(function(){i.gFactory.putObj("Skill",e.node)},this)},t.prototype.reuse=function(){var e=this;this.node.scale=0,this.pressCallback=arguments[0][0],this.Background.spriteFrame=arguments[0][1],this.skillType=arguments[0][2];var t=arguments[0][3];this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(t.bubbles=!1,0==e.ready)return console.log(" skill no ready:",o.SkillType[e.skillType]),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP);if(a.Game.getGameTime()<=0)return console.log(" game time up reuse:",o.SkillType[e.skillType]),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP);if(a.Game.checkIsFull(a.Game.cardIndex)&&[o.SkillType.Time,o.SkillType.Skip].indexOf(e.skillType)<0)return console.log("this card is full:",a.Game.cardIndex),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP);var n=a.Game.CurrentReward.children[0];if(e.skillType==o.SkillType.Magic){if(!n||!n.getComponent(c.default))return console.log(" not CurrentRewardmagicSkill !"),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP);var u=n.getComponent(c.default);if(u&&a.Game.checkIsFullFromWord(a.Game.cardIndex,u.Word))return console.log(" \u6b64\u5217\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1magicSkill"),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP);if(u&&a.Game.checkIsFullFromWord2(a.Game.cardIndex,u.Word,u.Value))return console.log(" \u6b64\u5217\u5df2\u7ecf\u5168\u90e8\u70b9\u6ee1magicSkill\u5269\u4f59\u5361\u7247\u8ddfpoint\u70b9\u6570\u4e00\u6837\uff0c\u65e0\u9700\u4f7f\u7528\u9b54\u6cd5\u7403"),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP)}if(a.Game.getCurMode()!=o.SkillType.Normal)return console.log(" is using other skill now:",o.SkillType[a.Game.getCurMode()]),void l.gEventMgr.emit(s.GlobalEvent.SKILL_TIP);var h=function(){console.log(" use skill :",o.SkillType[e.skillType]),a.Game.useSkill(e.skillType),e.pressCallback&&(e.pressCallback(),e.pressCallback=null),i.gFactory.putObj("Skill",e.node)};r.CelerSDK.inst.isNew()&&!a.Game.skillGuide[e.skillType]?l.gEventMgr.emit(s.GlobalEvent.SHOW_SKILL_GUIDE,e.skillType,h):h()},this),this.node.x=-120,this.node.runAction(cc.sequence(cc.spawn(cc.sequence(cc.moveTo(.1,-60,214),cc.moveTo(.1,0,67+5*t)),cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,.8))),cc.callFunc(function(){e.Animation.play()}),cc.scaleTo(.1,1),cc.callFunc(function(){e.ready=!0,r.CelerSDK.inst.isNew()&&!a.Game.skillGuide[e.skillType]&&l.gEventMgr.emit(s.GlobalEvent.SHOW_SKILL_GUIDE,e.skillType)})))},t.prototype.unready=function(){this.ready=!1},t.prototype.turnReady=function(){this.ready=!0},Object.defineProperty(t.prototype,"Type",{get:function(){return this.skillType},enumerable:!0,configurable:!0}),t.prototype.unuse=function(){this.ready=!1,this.node.targetOff(this),this.node.stopAllActions(),this.pressCallback=null},t=__decorate([p],t)}(cc.Component));n.default=d,cc._RF.pop()},{"./Const":"Const","./Controller/CelerSDK":"CelerSDK","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game","./Controller/GameFactory":"GameFactory","./Point":"Point","./Special/SpecialLogic":"SpecialLogic"}],SkipButton:[function(e,t,n){"use strict";cc._RF.push(t,"35f4dgEnmhOB5KHLu7KVa3T","SkipButton"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Controller/EventManager"),o=e("./Controller/EventName"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){setTimeout(function(){i.gEventMgr.emit(o.GlobalEvent.HIDE_HELP)},0)},this)},t.prototype.start=function(){},t.prototype.update=function(e){},t=__decorate([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./Controller/EventManager":"EventManager","./Controller/EventName":"EventName"}],SpecialLogic:[function(e,t,n){"use strict";cc._RF.push(t,"29eafI0DohCQrV9rKqs2on6","SpecialLogic"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Const"),o=e("../Controller/CelerSDK"),a=e("../Controller/Game"),r=e("../Utils/Cocos"),l=e("../Utils/Signal"),s=e("../Utils/ToSingleton"),c=e("./CurrentDaubCount"),u=e("./TargetView"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(l.BaseSignal);n.BingoLeftTimeUpdateSignal=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(l.BaseSignal);n.BingoStateUpdateSignal=p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(l.BaseSignal);n.NextRoundSignal=d;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(l.BaseSignal);n.RoundEndSignal=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentRound=0,t.currentDaubCount=0,t.currentPointPool=[],t.bingoLeftTime=0,t.bingoTypes=[],t.skipBingo=[],t.bingoTypeCache=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"CurrentDaubCount",{get:function(){return this.currentDaubCount},set:function(e){this.currentDaubCount=e,c.CurrentDaubCountUpdateSignal.inst.dispatchOne(this.currentDaubCount),this.checkIsOver()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BingoLeftTime",{get:function(){return this.bingoLeftTime},set:function(e){if(this.bingoLeftTime=e,h.inst.dispatchTwo(this.bingoLeftTime,this.BingoLeftPercent),this.bingoLeftTime<=0){var t=a.Game.shiftBingoCache(a.Game.cardIndex);t&&this.skipBingo.push(t),a.Game.canBingo(a.Game.cardIndex)&&this.setBingoEnable(),p.inst.dispatch(),this.checkIsOver()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BingoLeftPercent",{get:function(){return 4!=o.CelerSDK.inst.DifficultyLevel?1:this.bingoLeftTime/5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NextPoint",{get:function(){return this.currentPointPool.length<=0?(this.checkIsOver(),null):this.currentPointPool.pop()},enumerable:!0,configurable:!0}),t.prototype.checkBingoType=function(e){return 4!=o.CelerSDK.inst.DifficultyLevel||this.bingoTypes.indexOf(e)>=0},t.prototype.initLevel=function(){if(this.currentRound++,this.CurrentDaubCount=0,this.skipBingo=[],this.disorderPointPool(),this.BingoLeftTime=0,4==o.CelerSDK.inst.DifficultyLevel){var e=!1,t=this.bingoTypeCache.length>0?0:100,n=[i.BingoType.Across,i.BingoType.Corners,i.BingoType.Diagonal,i.BingoType.Down];for(r.disOrderArray(n);t-- >0;){if(e=!0,n.length<=0){n=[i.BingoType.Across,i.BingoType.Corners,i.BingoType.Diagonal,i.BingoType.Down];var a=this.bingoTypeCache[this.bingoTypeCache.length-1];if(a>=0){var l=n.indexOf(a);l>=0&&n.splice(l,1)}r.disOrderArray(n)}this.bingoTypeCache.push(n.pop())}if(e){for(var s=[],c=0,h=this.bingoTypeCache;c<h.length;c++){var p=h[c];s.push(i.BingoType[p])}console.log(" bingo type:",s)}this.bingoTypes=[this.bingoTypeCache.pop()],u.TargetUpdateSignal.inst.dispatchOne(this.bingoTypes[0])}else this.bingoTypes=[i.BingoType.Across,i.BingoType.Corners,i.BingoType.Diagonal,i.BingoType.Down];console.log(" round: ",this.currentRound,", bingoType:",i.BingoType[this.bingoTypes[0]],", point pool:",this.currentPointPool.concat())},t.prototype.clearPointPool=function(){this.currentPointPool.length=0},t.prototype.addPoint=function(e){this.currentPointPool.push(e)},t.prototype.disorderPointPool=function(){r.disOrderArray(this.currentPointPool)},t.prototype.setBingoEnable=function(){this.BingoLeftTime>0||(this.BingoLeftTime=5)},t.prototype.clearBingoTime=function(){this.bingoLeftTime=0,a.Game.canBingo(a.Game.cardIndex)?this.setBingoEnable():h.inst.dispatchTwo(this.bingoLeftTime,this.BingoLeftPercent),this.checkIsOver()},t.prototype.checkIsOver=function(){4!=o.CelerSDK.inst.DifficultyLevel&&6!=o.CelerSDK.inst.DifficultyLevel||(this.currentDaubCount>=i.GetTotalDaubCount()||this.currentPointPool.length<=0)&&(4==o.CelerSDK.inst.DifficultyLevel&&this.bingoLeftTime<=0||6==o.CelerSDK.inst.DifficultyLevel&&0==a.Game.hasBingo())&&(console.log(" round over."),g.inst.dispatch())},t.prototype.updateBingoTime=function(e){4==o.CelerSDK.inst.DifficultyLevel&&this.BingoLeftTime>=0&&(this.BingoLeftTime-=e)},t}(s.SingleTon());n.SpecialLogic=m,cc._RF.pop()},{"../Const":"Const","../Controller/CelerSDK":"CelerSDK","../Controller/Game":"Game","../Utils/Cocos":"Cocos","../Utils/Signal":"Signal","../Utils/ToSingleton":"ToSingleton","./CurrentDaubCount":"CurrentDaubCount","./TargetView":"TargetView"}],SpecialTutorial:[function(e,t,n){"use strict";cc._RF.push(t,"af1a8kj9KpOqKnlx3ep3R0F","SpecialTutorial"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Signal"),o=cc._decorator,a=o.ccclass,r=o.property,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.ShowSpecialTutorialSignal=l;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bingoTypes=[],t.ui=null,t.NowDaub=null,t.Array=null,t.NextCard=null,t.BingoButton=null,t.BingoPercentProgress=null,t.BingoToggle=null,t.BingoScore=null,t.StartButton=null,t.BingoType=null,t.totalLength=0,t.callback=null,t.nowDaub=0,t.cardIndex=0,t}return __extends(t,e),t.prototype.onLoad=function(){"Canvas"==this.node.parent.name?(this.node.active=!1,this.node.scale=1,l.inst.addListenerOne(this.onShow,this)):this.node.scale=.9,this.totalLength=this.BingoPercentProgress.width},t.prototype.onShow=function(e){this.callback=e,this.node.active=!0,this.StartButton.scale=0,this.NextCard.scale=0,this.Array.scale=0,this.StartButton.getComponent(cc.Button).interactable=!1},t.prototype.nextCard=function(){var e=this;this.Array.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1),cc.delayTime(1),cc.scaleTo(.1,0))),this.NextCard.runAction(cc.sequence(cc.scaleTo(.1,.48),cc.scaleTo(.1,.4),cc.delayTime(1),cc.callFunc(function(){e.cardIndex++,e.BingoType.node.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){e.BingoType.spriteFrame=e.bingoTypes[e.cardIndex%e.bingoTypes.length]}),cc.fadeIn(.1),cc.callFunc(function(){e.nowDaub=0}))),2==e.cardIndex&&e.showStartButton()}),cc.scaleTo(.1,0)))},t.prototype.showStartButton=function(){var e=this;null!=this.callback&&this.StartButton.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){e.StartButton.getComponent(cc.Button).interactable=!0,e.StartButton.once(cc.Node.EventType.TOUCH_END,function(){setTimeout(function(){e.node.active=!1,e.NextCard.stopAllActions(),e.BingoType.node.stopAllActions(),e.Array.stopAllActions(),e.callback&&e.callback()},0)},e)})))},t.prototype.update=function(e){var t=this;this.node.active&&(this.nowDaub<10&&(this.nowDaub+=5*e,this.nowDaub>=10&&(this.nowDaub=10,this.nextCard())),this.NowDaub.string=Math.floor(this.nowDaub).toString(),this.BingoPercentProgress.width>0&&(this.BingoPercentProgress.width-=100*e,this.BingoToggle.x=this.BingoPercentProgress.width,this.BingoPercentProgress.width<=0?(setTimeout(function(){t.BingoPercentProgress.width=t.totalLength},1e3),this.BingoPercentProgress.width=0,this.BingoToggle.active=!1):this.BingoToggle.active=!0,this.BingoPercentProgress.width>0?(this.BingoScore.string="/"+Math.floor(this.BingoPercentProgress.width/this.totalLength*1e3),this.BingoButton.normalSprite=this.ui.getSpriteFrame("btn_bingo_orange_up"),this.BingoButton.pressedSprite=this.ui.getSpriteFrame("btn_bingo_orange_down"),this.BingoButton.hoverSprite=this.ui.getSpriteFrame("btn_bingo_orange_up")):(this.BingoScore.string="",this.BingoButton.normalSprite=this.ui.getSpriteFrame("btn_bingo_blue_up"),this.BingoButton.pressedSprite=this.ui.getSpriteFrame("btn_bingo_blue_down"),this.BingoButton.hoverSprite=this.ui.getSpriteFrame("btn_bingo_blue_up"))))},__decorate([r(cc.SpriteFrame)],t.prototype,"bingoTypes",void 0),__decorate([r(cc.SpriteAtlas)],t.prototype,"ui",void 0),__decorate([r(cc.Label)],t.prototype,"NowDaub",void 0),__decorate([r(cc.Node)],t.prototype,"Array",void 0),__decorate([r(cc.Node)],t.prototype,"NextCard",void 0),__decorate([r(cc.Button)],t.prototype,"BingoButton",void 0),__decorate([r(cc.Node)],t.prototype,"BingoPercentProgress",void 0),__decorate([r(cc.Node)],t.prototype,"BingoToggle",void 0),__decorate([r(cc.Label)],t.prototype,"BingoScore",void 0),__decorate([r(cc.Node)],t.prototype,"StartButton",void 0),__decorate([r(cc.Sprite)],t.prototype,"BingoType",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../Utils/Signal":"Signal"}],StepController:[function(e,t,n){"use strict";cc._RF.push(t,"5e60515g5pBlJXudFf1Z4T3","StepController"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./LogHandler"),o=function(){function e(){this.totalStep=[],this.curStep=[]}return Object.defineProperty(e,"inst",{get:function(){return this._ins?this._ins:this._ins=new e},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){this.completeCallback=e,this.totalStep=t},e.prototype.nextStep=function(e){this.totalStep.indexOf(e)<0?console.error(" \u6ca1\u6709\u8fd9\u4e00\u6b65\uff1a",e):this.curStep.indexOf(e)>=0?console.warn(" \u6b65\u9aa4\u5df2\u5b8c\u6210\uff1a",e):(this.curStep.push(e),this.curStep.sort(function(e,t){return e>t?-1:1}),this.totalStep.sort(function(e,t){return e>t?-1:1}),i.LogHandler.inst.log(" cur step:",this.curStep.join(",")),i.LogHandler.inst.log(" total step:",this.totalStep.join(",")),this.curStep.join(",")==this.totalStep.join(",")&&(i.LogHandler.inst.log(" step done"),this.totalStep.length=0,this.completeCallback(),this.completeCallback=null))},e}();n.gStep=o.inst,cc._RF.pop()},{"./LogHandler":"LogHandler"}],SuperLabel:[function(e,t,n){"use strict";cc._RF.push(t,"77316yv8PBDG5g/aW/p9OMJ","SuperLabel"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){e.node.active=4!=t},this)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Controller/Game":"Game"}],SuperSkillLayer:[function(e,t,n){"use strict";cc._RF.push(t,"d8917JXrNNKupwEf3iWB7n+","SuperSkillLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Const"),o=e("./Controller/EventManager"),a=e("./Controller/EventName"),r=e("./Controller/Game"),l=cc._decorator,s=l.ccclass,c=l.property;(function(e){e[e.TimeUp=0]="TimeUp",e[e.Complete=1]="Complete"})(n.SuperEndType||(n.SuperEndType={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SuperLightAtlas=null,t.time=0,t.pause=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"Background",{get:function(){return this.node.getChildByName("Background")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeBar",{get:function(){return this.node.getChildByName("TimeBar").getComponent(cc.ProgressBar)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimeLabel",{get:function(){return this.TimeBar.node.getChildByName("TimeLabel").getComponent(cc.Label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Light",{get:function(){return this.node.getChildByName("Light")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectCard",{get:function(){return this.node.getChildByName("SelectCard")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Card1Btn",{get:function(){return this.SelectCard.getChildByName("Card1")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Card2Btn",{get:function(){return this.SelectCard.getChildByName("Card2")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ResultAnimation",{get:function(){return this.node.getChildByName("ResultAnimation").getComponent(cc.Animation)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;console.log(" super skill layer onload"),this.node.scale=0,o.gEventMgr.on(a.GlobalEvent.UPDATE_MOUSE_LIGHT,this.updateLight,this),o.gEventMgr.on(a.GlobalEvent.SUPER_END_COMPLETE,this.endComplete,this),o.gEventMgr.on(a.GlobalEvent.ON_HIDE,function(){setTimeout(function(){console.log(" super skill pause:",i.SkillType[r.Game.getCurMode()]),e.pause=!0},0)},this),o.gEventMgr.on(a.GlobalEvent.SKILL_RESUME,function(){setTimeout(function(){console.log(" super skill resume:",i.SkillType[r.Game.getCurMode()]),e.pause=!1},0)},this),this.Card1Btn.on(cc.Node.EventType.TOUCH_END,function(){o.gEventMgr.emit(a.GlobalEvent.SCROLL_CARD,0),e.onSelectDone()},this),this.Card2Btn.on(cc.Node.EventType.TOUCH_END,function(){o.gEventMgr.emit(a.GlobalEvent.SCROLL_CARD,1),e.onSelectDone()},this)},t.prototype.onSelectDone=function(){this.SelectCard.active=!1,this.TimeBar.node.active=!0},t.prototype.show=function(){this.ResultAnimation.once(cc.Animation.EventType.FINISHED,function(){setTimeout(function(){o.gEventMgr.emit(a.GlobalEvent.SKILL_DONE)},1e3)},this);for(var e=0,t=this.Background.children;e<t.length;e++){var n=t[e];n.active=n.name==i.Theme[r.Game.Theme]}console.log(" \u5f00\u59cb\u6253\u5730\u9f20"),this.ResultAnimation.node.active=!1,this.TimeBar.node.active=!1,this.time=(window.chichihaoshuaihahaha,r.Game.LevelInfo.SuperTime.LastTime),this.node.active=!0,this.node.scale=1,this.TimeBar.progress=1,this.TimeLabel.string=Math.ceil(this.time).toString(),o.gEventMgr.emit(a.GlobalEvent.CHANGE_BGM,"mouse_bgm"),r.Game.superStart(),this.updateLight(),r.Game.getCardNumber()>1?(this.Card1Btn.active=!r.Game.checkIsFull(0),this.Card2Btn.active=!r.Game.checkIsFull(1),this.SelectCard.active=!0):this.onSelectDone()},t.prototype.updateLight=function(){for(var e=function(e){parseInt(e.name)<=r.Game.superHighLightCount?e.getComponent(cc.Animation).getAnimationState("shink").isPlaying||(e.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.getComponent(cc.Animation).play("shink")},t),o.gEventMgr.emit(a.GlobalEvent.PLAY_EFFECT,"mouse_light_up"),e.getComponent(cc.Animation).play("turn")):(e.getComponent(cc.Animation).stop(),e.getComponent(cc.Sprite).spriteFrame=t.SuperLightAtlas.getSpriteFrame(i.SuperLight.Gray))},t=this,n=0,l=this.Light.children;n<l.length;n++){e(l[n])}},t.prototype.hide=function(){this.node.active&&(this.node.active=!1,Math.floor(r.Game.getGameTime())>30?o.gEventMgr.emit(a.GlobalEvent.CHANGE_BGM,"bgm"):o.gEventMgr.emit(a.GlobalEvent.CHANGE_BGM,"bgm_30"),o.gEventMgr.emit(a.GlobalEvent.NORMAL_BGM))},t.prototype.endTimeUp=function(){this.ResultAnimation.node.active||(this.TimeBar.node.active=!1,this.ResultAnimation.node.active=!0,this.ResultAnimation.play("time_up"),o.gEventMgr.emit(a.GlobalEvent.SMALL_BGM),o.gEventMgr.emit(a.GlobalEvent.PLAY_EFFECT,"mouse_time_up"))},t.prototype.endComplete=function(){this.ResultAnimation.node.active||(this.TimeBar.node.active=!1,this.ResultAnimation.node.active=!0,this.ResultAnimation.play("complete"),o.gEventMgr.emit(a.GlobalEvent.SMALL_BGM),o.gEventMgr.emit(a.GlobalEvent.PLAY_EFFECT,"mouse_complete"))},t.prototype.update=function(e){this.node.active&&!this.SelectCard.active&&this.time>0&&0==this.pause&&(this.time-=e,this.TimeLabel.string=Math.ceil(this.time).toString(),this.TimeBar.progress=this.time/r.Game.LevelInfo.SuperTime.LastTime,this.time<=0&&this.endTimeUp())},__decorate([c(cc.SpriteAtlas)],t.prototype,"SuperLightAtlas",void 0),t=__decorate([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./Const":"Const","./Controller/EventManager":"EventManager","./Controller/EventName":"EventName","./Controller/Game":"Game"}],TableManager:[function(e,t,n){"use strict";cc._RF.push(t,"76c47dkxUlDw77x3865Si/4","TableManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.load=e.JSON_URL&&""!=e.JSON_URL?cc.loader.load.bind(cc.loader):cc.loader.loadRes.bind(cc.loader),this.fileFormat=e.JSON_URL&&""!=e.JSON_URL?".json?time="+Date.now():"",this.total=0,this.complete=0,this.En={},this.Es={},this.Fil={},this.Id={},this.In={},this.Pt={},this.Tl={}}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new e},enumerable:!0,configurable:!0}),e.prototype.startLoad=function(t,n,i){this.completeCallback=n,this.progressCallback=i;var o=this;console.log("Base URL:",e.JSON_URL),this.load(e.JSON_URL+t.trim().split("/").join("")+"/file_list"+this.fileFormat,function(e,n){if(e)console.error(e.errorMessage);else{var i="Array"==n.constructor.name?n:n.json;this.total=i.length;for(var a=0,r=i;a<r.length;a++){var l=r[a];o.loadJson(t.trim().split("/").join("")+"/"+l.replace(".json",""))}}}.bind(this))},e.prototype.loadJson=function(t){console.log("start load:"+t);var n=this,i=t.split("/")[1];i=i.charAt(0).toUpperCase()+i.slice(1,i.length),this.load(e.JSON_URL+t+this.fileFormat,function(e,t){if(e)console.error(e.errorMessage);else{for(var o=0,a="Array"==t.constructor.name?t:t.json;o<a.length;o++){var r=a[o];n[i][r.ID]=r}n.completeLoad()}}.bind(this))},e.prototype.completeLoad=function(){this.complete++,this.progressCallback&&this.progressCallback(this.complete/this.total),this.complete>=this.total&&this.completeCallback&&this.completeCallback()},e.prototype.getEn=function(e){return this.En[e]?this.En[e]:(console.error("En \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_En_Data=function(){return this.En},e.prototype.getEs=function(e){return this.Es[e]?this.Es[e]:(console.error("Es \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_Es_Data=function(){return this.Es},e.prototype.getFil=function(e){return this.Fil[e]?this.Fil[e]:(console.error("Fil \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_Fil_Data=function(){return this.Fil},e.prototype.getId=function(e){return this.Id[e]?this.Id[e]:(console.error("Id \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_Id_Data=function(){return this.Id},e.prototype.getIn=function(e){return this.In[e]?this.In[e]:(console.error("In \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_In_Data=function(){return this.In},e.prototype.getPt=function(e){return this.Pt[e]?this.Pt[e]:(console.error("Pt \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_Pt_Data=function(){return this.Pt},e.prototype.getTl=function(e){return this.Tl[e]?this.Tl[e]:(console.error("Tl \u4e0d\u5b58key\uff1a"+e),null)},e.prototype.getAll_Tl_Data=function(){return this.Tl},e.JSON_URL="",e}();n.TableManager=i,cc._RF.pop()},{}],TargetView:[function(e,t,n){"use strict";cc._RF.push(t,"b820eTsBtxA2Kb0s394jRKQ","TargetView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Const"),o=e("../Utils/Signal"),a=cc._decorator,r=a.ccclass,l=a.property,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal);n.TargetUpdateSignal=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Special=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"Sprite",{get:function(){return this.getComponent(cc.Sprite)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;s.inst.addListenerOne(function(t){switch(t){case i.BingoType.Across:e.Sprite.spriteFrame=e.Special.getSpriteFrame("bg_across");break;case i.BingoType.Corners:e.Sprite.spriteFrame=e.Special.getSpriteFrame("bg_corners");break;case i.BingoType.Diagonal:e.Sprite.spriteFrame=e.Special.getSpriteFrame("bg_diagonally");break;case i.BingoType.Down:e.Sprite.spriteFrame=e.Special.getSpriteFrame("bg_down")}},this)},__decorate([l(cc.SpriteAtlas)],t.prototype,"Special",void 0),t=__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../Const":"Const","../Utils/Signal":"Signal"}],TextTest:[function(e,t,n){"use strict";cc._RF.push(t,"d62d3QE0fFBtqScaVgdSlHc","TextTest"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){this.label.string="Label"},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),t=__decorate([o],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],TimeBonus:[function(e,t,n){"use strict";cc._RF.push(t,"e173aWv7rdBm6Av7NvVi4Ci","TimeBonus"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setParentCallback=null,t}return __extends(t,e),t.prototype.reuse=function(){var e=this;this.node._onSetParent=this.onSetParent.bind(this);var t=arguments[0][0],n=arguments[0][1];this.setParentCallback=function(){var i,o=CMath.Distance(n.position,e.node.position)/1950,a=CMath.ConvertToNodeSpaceAR(n,e.node);i=[cc.scaleTo(.1,1.2),cc.delayTime(.2),cc.scaleTo(.1,1),cc.spawn(cc.moveTo(o,a).easing(cc.easeInOut(1)),cc.fadeOut(o)),cc.scaleTo(.3,0),cc.callFunc(function(){t&&t()})],e.node.runAction(cc.sequence(i))}},t.prototype.unuse=function(){this.node.scale=1,this.node.opacity=255},t.prototype.onSetParent=function(e){e&&this.setParentCallback&&this.setParentCallback()},t=__decorate([o],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],TimePosition:[function(e,t,n){"use strict";cc._RF.push(t,"1e34e8icIhGSok0zniYAId3","TimePosition"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Controller/Game"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){6==t?(e.node.x=273.969,e.getComponent(cc.Label).fontSize=45):(e.node.x=217,e.getComponent(cc.Label).fontSize=56)},this)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../../Controller/Game":"Game"}],ToSingleton:[function(e,t,n){"use strict";cc._RF.push(t,"13b67hH+whETpkf/Nbxx1Q1","ToSingleton"),Object.defineProperty(n,"__esModule",{value:!0}),n.SingleTon=function(){return function(){function e(){}return Object.defineProperty(e,"inst",{get:function(){return this.ins?this.ins:this.ins=new this},enumerable:!0,configurable:!0}),e}()},cc._RF.pop()},{}],TotalDaubCountView:[function(e,t,n){"use strict";cc._RF.push(t,"1fb32ur5L5H/YtwqVL6OINZ","TotalDaubCountView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Const"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"Label",{get:function(){return this.getComponent(cc.Label)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.Label.string=i.GetTotalDaubCount().toString()},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Const":"Const"}],TransitionSprite:[function(e,t,n){"use strict";cc._RF.push(t,"5cba704AVFGFZnPDW8Ox6DN","TransitionSprite"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/EventManager"),o=e("../Controller/EventName"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isStart=!1,t.time=1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.gameStart=function(){var e=this;this.node.runAction(cc.fadeOut(1)),setTimeout(function(){i.gEventMgr.emit(o.GlobalEvent.GAME_START),e.node.active=!1},1e3)},t.prototype.update=function(e){},t=__decorate([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../Controller/EventManager":"EventManager","../Controller/EventName":"EventName"}],USDLabel:[function(e,t,n){"use strict";cc._RF.push(t,"5587dEmca9HmZr5zKCkvK6d","USDLabel"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Const"),o=e("../../Controller/CelerSDK"),a=e("../../Controller/Game"),r=e("../../NumberChangedView"),l=e("../../Utils/Signal"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(l.BaseSignal));n.UpdateUSDSignal=u;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),a.GameLevelInitSignal.inst.addListener(function(){t.node.active=6==o.CelerSDK.inst.DifficultyLevel},this),this.preFix="$ ",this.scale=100,u.inst.addListenerOne(function(e){t.onNumberChanged(e*t.scale*i.GetUSDScale())},this)},t=__decorate([c],t)}(r.default);n.default=h,cc._RF.pop()},{"../../Const":"Const","../../Controller/CelerSDK":"CelerSDK","../../Controller/Game":"Game","../../NumberChangedView":"NumberChangedView","../../Utils/Signal":"Signal"}],UpdateController:[function(e,t,n){"use strict";cc._RF.push(t,"5b33dt9985NxbWxSzXo0Dxg","UpdateController"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/ToSingleton"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){var t=e.call(this)||this;return t.assetsManager=null,t.STORAGE_PATH=(window.jsb&&jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"hot-update",t.MANIFEST_PAth="",t.isUpdating=!1,t.manifest=null,t.completeCallback=[],t.startCallback=[],t.errorCallback=[],t.progressCallback=[],t.init(),t}return __extends(t,e),t.prototype.init=function(){window.jsb&&(this.assetsManager=new jsb.AssetsManager(this.MANIFEST_PAth,this.STORAGE_PATH,this.versionCompareHandle),this.assetsManager.setVerifyCallback(this.verifyCallback.bind(this)),cc.sys.os===cc.sys.OS_ANDROID&&this.assetsManager.setMaxConcurrentTask(2))},t.prototype.setManifest=function(e){this.manifest=e},t.prototype.getVersion=function(){return null==this.assetsManager?"":null==this.assetsManager.getLocalManifest()?"":this.assetsManager.getLocalManifest().getVersion()},t.prototype.addCompleteCallback=function(e,t){this.completeCallback.push({target:t,callback:e})},t.prototype.addErrorCallback=function(e,t){this.errorCallback.push({target:e,callback:t})},t.prototype.addStartCallback=function(e,t){this.startCallback.push({target:e,callback:t})},t.prototype.addProgressCallback=function(e,t){this.progressCallback.push({target:e,callback:t})},t.prototype.triggeError=function(e,t){void 0===t&&(t=!1),this.onError(e,t)},t.prototype.onError=function(e,t){void 0===t&&(t=!1),console.log(" this.errorCallback:",this.errorCallback.length,"error:",e);for(var n=0,i=this.errorCallback;n<i.length;n++){var o=i[n];o.callback.apply(o.target,[e,t])}},t.prototype.onComplete=function(e,t){void 0===t&&(t=!1),console.log(" on update complete:",this.getVersion()),console.log("storagePath:",this.getStoragePath()),console.log("search path:",this.getSearchPaths());for(var n=function(n){setTimeout(function(){n.callback.apply(n.target,[e,t])},0)},i=0,o=this.completeCallback;i<o.length;i++){n(o[i])}},t.prototype.getStoragePath=function(){return this.assetsManager?this.assetsManager.getStoragePath():""},t.prototype.getSearchPaths=function(){return window.jsb?jsb.fileUtils.getSearchPaths():""},t.prototype.onStart=function(e,t){void 0===t&&(t=!1),console.log(" this.startCallback:",this.startCallback.length);for(var n=0,i=this.startCallback;n<i.length;n++){var o=i[n];o.callback.apply(o.target,[e,t])}},t.prototype.onProgress=function(e,t){for(var n=0,i=this.progressCallback;n<i.length;n++){var o=i[n];o.callback.apply(o.target,[e,t])}},t.prototype.loadCustomManifest=function(e){if(null!=this.assetsManager&&this.assetsManager.getState()==jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(e,this.STORAGE_PATH);this.assetsManager.loadLocalManifest(t,this.STORAGE_PATH)}},t.prototype.checkForUpdate=function(){this.onComplete("no need to update.")},t.prototype.checkUpdateCallback=function(e){switch(console.log("checkUpdateCallback Code: "+e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.onError("No local manifest file found, hot update skipped.");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.onError("Fail to download manifest file, hot update skipped.");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:var t=this.assetsManager.getRemoteManifest()?this.assetsManager.getRemoteManifest().getVersion():" null",n=this.assetsManager.getLocalManifest()?this.assetsManager.getLocalManifest().getVersion():"null";this.onComplete("Already up to date with the latest remote version :"+t+", local version :"+n);break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.isUpdating=!1;var i=this.assetsManager.getLocalManifest()?this.assetsManager.getLocalManifest().getVersion():"null",o=this.assetsManager.getRemoteManifest()?this.assetsManager.getRemoteManifest().getVersion():"null";if(console.log("New version found, old:",i,", new: ",o),"null"==i||"null"==o);else{console.log("storage path:",this.assetsManager.getStoragePath());var a=i.split(".")[0];o.split(".")[0]>a?this.onStart("new version found, go to store to download new app.",!0):(this.onStart("new version found, update process start.",!1),this.updateVersion())}break;default:return}},t.prototype.getUpdateDescription=function(){return""},t.prototype.updateVersion=function(){if(null!=this.assetsManager&&!this.isUpdating)if([jsb.AssetsManager.State.UPDATING,jsb.AssetsManager.State.UNZIPPING,jsb.AssetsManager.State.UP_TO_DATE].indexOf(this.assetsManager.getState())>=0)this.onComplete("no need to update: "+this.assetsManager.getState(),!1);else{if(this.assetsManager.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifest.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this.assetsManager.loadLocalManifest(e)}this.assetsManager.setEventCallback(this.updateCallback.bind(this)),console.log(" start update ...:",this.assetsManager.getState()),this.assetsManager.update(),this.isUpdating=!0}},t.prototype.versionToInt=function(e){return parseInt(e.toString().split(".").join(""))},t.prototype.versionToString=function(e){return Math.floor(e/100)+"."+Math.floor(e/10)%10+"."+Math.floor(e)%10},t.prototype.updateCallback=function(e){var t=this,n=!1,i=!1,o=null;switch(console.log("update event code:",e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.onError("No local manifest file found, hot update skipped."),i=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var a=e.getPercent();NaN!=a&&"number"==typeof a||(a=0),this.onProgress(e.getMessage()?"Updated file:"+e.getMessage():"Updating:"+(100*a).toFixed(0)+"%",a);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.onError("Fail to download manifest file, hot update skipped."),i=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:o=function(){var e=t.assetsManager.getRemoteManifest()?t.assetsManager.getRemoteManifest().getVersion():" null";t.onComplete("Already up to date with the latest remote version :"+e)},i=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:o=function(){var n=t.assetsManager.getRemoteManifest()?t.assetsManager.getRemoteManifest().getVersion():" null";t.onComplete("Update finished. new : "+n+e.getMessage(),!0)},n=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.onError("Update failed. "+e.getMessage(),!0);break;case jsb.EventAssetsManager.ERROR_UPDATING:this.onError("Asset update error: "+e.getAssetId()+", "+e.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.onError(e.getMessage())}if(i&&(this.assetsManager.setEventCallback(null),this.isUpdating=!1),n){this.assetsManager.setEventCallback(null);var r=jsb.fileUtils.getSearchPaths();console.log("old searchPaths:",r);var l=this.assetsManager.getLocalManifest().getSearchPaths();console.log("new path:",JSON.stringify(l));for(var s=0,c=l;s<c.length;s++){var u=c[s];r.indexOf(u)<0&&Array.prototype.unshift.apply(r,u)}cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(r)),jsb.fileUtils.setSearchPaths(r),console.log("new searchPaths:",JSON.stringify(r)),console.log(" paths storage:",cc.sys.localStorage.getItem("HotUpdateSearchPaths"))}o&&o()},t.prototype.restart=function(){console.log(" restart ."),window.jsb?(cc.audioEngine.stopAll(),cc.game.restart()):window.location.reload()},t.prototype.retry=function(){null!=this.assetsManager&&0==this.isUpdating&&this.assetsManager.downloadFailedAssets()},t.prototype.versionCompareHandle=function(e,t){cc.log("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var n=e.split("."),i=t.split("."),o=0;o<n.length;++o){var a=parseInt(n[o]),r=parseInt(i[o]||"0");if(a!==r)return a-r}return i.length>n.length?-1:0},t.prototype.verifyCallback=function(e,t){var n=t.compressed,i=t.md5,o=t.path;t.size;return n?("Verification passed : "+o,!0):("Verification passed : "+o+" ("+i+")",!0)},t.prototype.destory=function(){this.assetsManager&&this.assetsManager.setEventCallback(null),this.startCallback=[],this.completeCallback=[],this.errorCallback=[],this.progressCallback=[]},t=__decorate([a],t)}(i.SingleTon()));n.default=r,cc._RF.pop()},{"../Utils/ToSingleton":"ToSingleton"}],WildAdAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"942fe+JX0FNP5Lj0IlnhX2A","WildAdAnimation"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../FrameAniBase"),o=e("../Utils/Signal"),a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o.BaseSignal));n.WildAdAnimationIsPlaySignal=l;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isStart=!1,t}return __extends(t,e),t.prototype.onStartPlay=function(){var e=this;l.inst.dispatchOne(!0),0==this.isStart&&(this.isStart=!0,setTimeout(function(){e.isStart=!1,e.stop(),e.node.y=-819.337,setTimeout(function(){e.node.opacity=255,e.Loop=!0,e.play()},8e3)},2e3))},t.prototype.onComplete=function(){l.inst.dispatchOne(!1)},t.prototype.onKeyFrame=function(e){"FreeBall"==this.node.name?this.node.y=[-819.337,-829.225][e]:this.node.y=[-819.337,-827.269][e]},t=__decorate([r],t)}(i.default);n.default=s,cc._RF.pop()},{"../FrameAniBase":"FrameAniBase","../Utils/Signal":"Signal"}],WildAdButton:[function(e,t,n){"use strict";cc._RF.push(t,"4e490XfbQdNv5CRYiq4hCh5","WildAdButton"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/Signal"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal));n.HideWildAdButtonSignal=r;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.WildAdButtonClick=l;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i.BaseSignal);n.WildButtonReadySignal=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.node.active=cc.sys.isMobile&&cc.sys.isBrowser&&cc.sys.os==cc.sys.OS_ANDROID,this.node.scale=0,this.node.y=-819.337,s.inst.addListenerOne(function(t){t==e.node.name&&e.node.active&&(e.node.getComponent(cc.Button).transition=cc.Button.Transition.NONE,e.node.runAction(cc.sequence(cc.scaleTo(.1,1),cc.callFunc(function(){e.node.y=-819.337,e.node.getComponent(cc.Button).transition=cc.Button.Transition.SCALE,e.node.on(cc.Node.EventType.TOUCH_END,function(){l.inst.dispatchOne(e.node.name)},e)}))))},this),r.inst.addListenerOne(function(t){t==e.node.name&&(e.node.active=!1)},this)},t=__decorate([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../Utils/Signal":"Signal"}],WildDaubButton:[function(e,t,n){"use strict";cc._RF.push(t,"c7534/VX1BGB6bAXIbsBIRd","WildDaubButton"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Controller/Game"),o=cc._decorator,a=o.ccclass,r=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;i.GameLevelInitSignal.inst.addListenerOne(function(t){e.node.active=4!=t},this)},t=__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../Controller/Game":"Game"}],WildDaubReminder:[function(e,t,n){"use strict";cc._RF.push(t,"19a02n8kKtA34zFGz6dXGh8","WildDaubReminder"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Utils/GameSignal"),o=e("../FrameAniBase"),a=e("../Controller/CelerSDK"),r=cc._decorator,l=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playCount=0,t.round=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"Tip",{get:function(){return this.node.getChildByName("Tip").getComponent(o.default)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.node.scale=0,i.WildDaubSignal.inst.addListenerOne(this.onWildDaubStateChanged,this)},t.prototype.start=function(){},t.prototype.onWildDaubStateChanged=function(e){4!=a.CelerSDK.inst.DifficultyLevel&&(this.node.active=e,this.node.active?(this.node.scale=0,this.playCount=0,this.round=0,this.play()):(this.node.scale=0,this.Tip.onComplete=function(){},this.Tip.stop()))},t.prototype.play=function(){var e=this;this.node.scale=0,this.node.runAction(cc.sequence(cc.scaleTo(.05,1.2),cc.scaleTo(.05,.8,1.4),cc.scaleTo(.05,1.2,.8),cc.scaleTo(.05,1),cc.callFunc(function(){e.Tip.play()}))),this.Tip.onComplete=function(){e.playCount++>=5?(e.playCount=0,e.round++>=3?(e.round=0,e.node.scale=0,setTimeout(function(){e.play()},3e3)):(e.node.scale=0,setTimeout(function(){e.play()},2e3))):e.Tip.play()}},t.prototype.update=function(e){},t.prototype.onDestroy=function(){i.WildDaubSignal.inst.removeTarget(this)},t=__decorate([l],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../Controller/CelerSDK":"CelerSDK","../FrameAniBase":"FrameAniBase","../Utils/GameSignal":"GameSignal"}],table:[function(e,t,n){"use strict";cc._RF.push(t,"5f3cexTtltMF5IRvhUot0HZ","table"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.En_ID||(n.En_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.En_View||(n.En_View={})),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.Es_ID||(n.Es_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.Es_View||(n.Es_View={})),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.Fil_ID||(n.Fil_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.Fil_View||(n.Fil_View={})),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.Id_ID||(n.Id_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.Id_View||(n.Id_View={})),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.In_ID||(n.In_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.In_View||(n.In_View={})),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.Pt_ID||(n.Pt_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.Pt_View||(n.Pt_View={})),function(e){e[e.MianFeiZanTing=1]="MianFeiZanTing",e[e.ZanTingKouFen=2]="ZanTingKouFen",e[e.BangZhuYeMian1=3]="BangZhuYeMian1",e[e.BangZhuYeMian2=4]="BangZhuYeMian2",e[e.BangZhuYeMian3=5]="BangZhuYeMian3",e[e.BangZhuYeMian4=6]="BangZhuYeMian4",e[e.BangZhuYeMian5=7]="BangZhuYeMian5",e[e.BangZhuYeMian6=8]="BangZhuYeMian6",e[e.BangZhuYeMian7=9]="BangZhuYeMian7",e[e.BangZhuYeMian8=10]="BangZhuYeMian8",e[e.BangZhuYeMian9=11]="BangZhuYeMian9",e[e.BangZhuYeMian10=12]="BangZhuYeMian10",e[e.BangZhuYeMian11=13]="BangZhuYeMian11",e[e.BangZhuJieMianTeShuWanFa=14]="BangZhuJieMianTeShuWanFa",e[e.MianFeiDaDiShu=15]="MianFeiDaDiShu",e[e.KanGuangGaoShiBai=16]="KanGuangGaoShiBai",e[e.MianFeiZiYouQiu=17]="MianFeiZiYouQiu",e[e.DeFen=18]="DeFen",e[e.DaoJuShiYongTiShi=19]="DaoJuShiYongTiShi",e[e.MoFaQiuTiShi=20]="MoFaQiuTiShi"}(n.Tl_ID||(n.Tl_ID={})),function(e){e[e.ZanTingJieMian=1]="ZanTingJieMian",e[e.BangZhuJieMian=2]="BangZhuJieMian",e[e.GuangGaoJieMian=3]="GuangGaoJieMian",e[e.JieSuanJieMian=4]="JieSuanJieMian",e[e.TiShiTiao=5]="TiShiTiao"}(n.Tl_View||(n.Tl_View={})),cc._RF.pop()},{}]},{},["AdLayer","AdMaskView","FlyCnicornAd","SuperLabel","WildAdButton","CountDownAnimation","FlyAdCnicornAniamtion","WildAdAnimation","BingoFont","Card","Const","AdController","AudioController","CelerSDK","EventManager","EventName","Game","GameFactory","LogHandler","StepController","UpdateController","FrameAniBase","GameScene","GoldSkillLayer","Guide","HelpViewLabel","DifficultyLevelFilter","MagicPageGuide","SkillPage","CardLabels","LoadLayer","MagicLayer","MouseGuidePage","NumberChangedView","PauseLayer","Point","BingoReminder","Reminder","SkillReminder","WildDaubReminder","ResultLayer","Score","TransitionSprite","Skill","SkillTip","SkipButton","BingoPercent","BingoScoreView","ChangeButton","ChangeCardAnimation","CurrentDaubCount","InfoView","Level4View","ScorePosition","TimePosition","USDLabel","NextCardView","SpecialLogic","SpecialTutorial","TargetView","TotalDaubCountView","WildDaubButton","SuperSkillLayer","TableManager","AI","TextTest","TimeBonus","Pad","Cocos","GameSignal","HashMap","Signal","ToSingleton","table"]);